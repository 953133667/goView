{"version":3,"sources":["gulpfile.js"],"names":[],"mappings":"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","file":"gulpfile-compiled.js","sourcesContent":["\"use strict\";\r\nvar gulp = require('gulp');\r\nvar less = require('gulp-less');\r\n//确保本地已安装gulp-minify-css [cnpm install gulp-minify-css --save-dev]\r\nvar cssmin = require('gulp-minify-css');\r\n\r\nvar path = require('path');\r\nvar webpack = require(\"webpack\");\r\nvar ExtractTextPlugin = require(\"extract-text-webpack-plugin\");\r\n\r\nvar isWatch = false;  //是否监听\r\nvar isProduct = false;  //是否是开发环境\r\nvar project = 'iwjw-pc';  // 项目名称\r\n\r\ngulp.task('default', () => {\r\n    // 将你的默认的任务代码放在这\r\n    console.log(\"fdsfsdf\");\r\n});\r\n/**\r\n * 名称：\r\n *   javascript task\r\n * 描述：用来做 javascript 的编译，压缩，合并等工作\r\n *\r\n */\r\ngulp.task('javascript', () => {\r\n    console.log(\"fdsfsdf\");\r\n    \r\n});\r\n\r\n/**\r\n * 名称：\r\n *   webpack task\r\n * 描述：该项目中，默认使用webPack 用来做 javascript 的编译，压缩，合并等工作\r\n *\r\n */\r\n//webpack静态处理\r\ngulp.task('webpack', function(callback) {\r\n    var minfy = [];\r\n    isProduct && minfy.push(new webpack.optimize.UglifyJsPlugin({\r\n        compress: {\r\n            warnings: false\r\n        },\r\n        mangle: {\r\n            except: ['$', 'm', 'webpackJsonpCallback']\r\n        }\r\n    }));\r\n    //webpack配置文件\r\n    var config = {\r\n        watch: isWatch,\r\n        entry: {\r\n            index: './index.js'\r\n/*            common: [\r\n                'jquery',\r\n                'understore',\r\n                'template',\r\n                'store'\r\n            ]*/\r\n        },\r\n        debug: true,\r\n\r\n        devtool: (isProduct ? false : 'source-map'),\r\n\r\n        output: {\r\n            path: './dist/',\r\n            filename: '[name].js',\r\n            publicPath: ''\r\n        },\r\n\r\n        resolve: {\r\n            alias: {\r\n                jquery: path.resolve('./src/js/src/js/jquery-2.2.4.min.js'),\r\n            }\r\n        },\r\n\r\n\r\n        plugins: [\r\n            new webpack.ProvidePlugin({\r\n                $: 'jquery',\r\n                jQuery: 'jquery',\r\n                template: 'template',\r\n                store: 'store',\r\n                _: 'understore'\r\n            }),\r\n            new webpack.optimize.DedupePlugin(),\r\n            new ExtractTextPlugin(\"[name].css\"),\r\n            new webpack.optimize.CommonsChunkPlugin('common', 'common.js')\r\n        ].concat(minfy),\r\n        module: {\r\n            loaders: [{\r\n                test: /\\.js[x]?$/,\r\n                exclude: /node_modules/,\r\n                loader: 'babel-loader',\r\n                query: {\r\n                    compact: false\r\n                }\r\n            }, {\r\n                test: /\\.css$/,\r\n                loader: ExtractTextPlugin.extract('style-loader', 'css-loader?-convertValues')\r\n            }, {\r\n                test: /\\.less$/,\r\n                loader: ExtractTextPlugin.extract('style-loader', 'css-loader?-convertValues!less-loader')\r\n            }, {\r\n                test: /\\.scss$/,\r\n                loader: ExtractTextPlugin.extract('style-loader', 'css-loader?-convertValues!sass-loader')\r\n            }, {\r\n                test: /\\.(png|jpg|gif|woff|woff2|ttf|eot|svg)$/,\r\n                loader: \"file-loader?name=[name]_[sha512:hash:base64:7].[ext]\"\r\n            }, {\r\n                test: /\\.html/,\r\n                loader: \"html-loader\"\r\n            }]\r\n        }\r\n    };\r\n    webpack(config, function(err, stats) {\r\n        console.log(stats.toString());\r\n    });\r\n});\r\n\r\n/**\r\n * 描述：\r\n *   less task\r\n * 描述：用来做 less 的编译，压缩，合并等工作\r\n *\r\n */\r\ngulp.task('less', () => {\r\n    gulp.src(['src/less/*.less','!src/less/extend'])\r\n        .pipe(less())\r\n        .pipe(cssmin()) //兼容IE7及以下需设置compatibility属性 .pipe(cssmin({compatibility: 'ie7'}))\r\n        .pipe(gulp.dest('src/css'));\r\n});\r\n\r\n/**\r\n * 描述：\r\n *   watch task\r\n * 描述：该任务用来做监听，当文件发生更改时，自动执行对应的task\r\n *\r\n */\r\ngulp.task('watch', function () {\r\n    gulp.watch('src/less/*.less', ['less']); //监听less 文件夹\r\n});"]}