{"version":3,"sources":["_babel-node.js"],"names":[],"mappings":"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","file":"_babel-node-compiled.js","sourcesContent":["\"use strict\";\n\nvar _pathIsAbsolute = require(\"path-is-absolute\");\n\nvar _pathIsAbsolute2 = _interopRequireDefault(_pathIsAbsolute);\n\nvar _commander = require(\"commander\");\n\nvar _commander2 = _interopRequireDefault(_commander);\n\nvar _module2 = require(\"module\");\n\nvar _module3 = _interopRequireDefault(_module2);\n\nvar _util = require(\"util\");\n\nvar _path = require(\"path\");\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _repl = require(\"repl\");\n\nvar _repl2 = _interopRequireDefault(_repl);\n\nvar _babelCore = require(\"babel-core\");\n\nvar babel = _interopRequireWildcard(_babelCore);\n\nvar _vm = require(\"vm\");\n\nvar _vm2 = _interopRequireDefault(_vm);\n\nvar _lodash = require(\"lodash\");\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nrequire(\"babel-polyfill\");\n\nvar _babelRegister = require(\"babel-register\");\n\nvar _babelRegister2 = _interopRequireDefault(_babelRegister);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar program = new _commander2.default.Command(\"babel-node\");\n\nprogram.option(\"-e, --eval [script]\", \"Evaluate script\");\nprogram.option(\"-p, --print [code]\", \"Evaluate script and print result\");\nprogram.option(\"-o, --only [globs]\", \"\");\nprogram.option(\"-i, --ignore [globs]\", \"\");\nprogram.option(\"-x, --extensions [extensions]\", \"List of extensions to hook into [.es6,.js,.es,.jsx]\");\nprogram.option(\"-w, --plugins [string]\", \"\", _babelCore.util.list);\nprogram.option(\"-b, --presets [string]\", \"\", _babelCore.util.list);\n\nvar pkg = require(\"../package.json\");\nprogram.version(pkg.version);\nprogram.usage(\"[options] [ -e script | script.js ] [arguments]\");\nprogram.parse(process.argv);\n\n//\n\n(0, _babelRegister2.default)({\n  extensions: program.extensions,\n  ignore: program.ignore,\n  only: program.only,\n  plugins: program.plugins,\n  presets: program.presets\n});\n\n//\n\nvar replPlugin = function replPlugin() {\n  return {\n    visitor: {\n      ModuleDeclaration: function ModuleDeclaration(path) {\n        throw path.buildCodeFrameError(\"Modules aren't supported in the REPL\");\n      },\n      VariableDeclaration: function VariableDeclaration(path) {\n        if (path.node.kind !== \"var\") {\n          throw path.buildCodeFrameError(\"Only `var` variables are supported in the REPL\");\n        }\n      }\n    }\n  };\n};\n\n//\n\nvar _eval = function _eval(code, filename) {\n  code = code.trim();\n  if (!code) return undefined;\n\n  code = babel.transform(code, {\n    filename: filename,\n    presets: program.presets,\n    plugins: (program.plugins || []).concat([replPlugin])\n  }).code;\n\n  return _vm2.default.runInThisContext(code, {\n    filename: filename\n  });\n};\n\nif (program.eval || program.print) {\n  var code = program.eval;\n  if (!code || code === true) code = program.print;\n\n  global.__filename = \"[eval]\";\n  global.__dirname = process.cwd();\n\n  var _module = new _module3.default(global.__filename);\n  _module.filename = global.__filename;\n  _module.paths = _module3.default._nodeModulePaths(global.__dirname);\n\n  global.exports = _module.exports;\n  global.module = _module;\n  global.require = _module.require.bind(_module);\n\n  var result = _eval(code, global.__filename);\n  if (program.print) {\n    var output = _lodash2.default.isString(result) ? result : (0, _util.inspect)(result);\n    process.stdout.write(output + \"\\n\");\n  }\n} else {\n  if (program.args.length) {\n    (function () {\n      // slice all arguments up to the first filename since they're babel args that we handle\n      var args = process.argv.slice(2);\n\n      var i = 0;\n      var ignoreNext = false;\n      _lodash2.default.each(args, function (arg, i2) {\n        if (ignoreNext) {\n          ignoreNext = false;\n          return;\n        }\n\n        if (arg[0] === \"-\") {\n          var parsedArg = program[arg.slice(2)];\n          if (parsedArg && parsedArg !== true) {\n            ignoreNext = true;\n          }\n        } else {\n          i = i2;\n          return false;\n        }\n      });\n      args = args.slice(i);\n\n      // make the filename absolute\n      var filename = args[0];\n      if (!(0, _pathIsAbsolute2.default)(filename)) args[0] = _path2.default.join(process.cwd(), filename);\n\n      // add back on node and concat the sliced args\n      process.argv = [\"node\"].concat(args);\n      process.execArgv.unshift(__filename);\n\n      _module3.default.runMain();\n    })();\n  } else {\n    replStart();\n  }\n}\n\nfunction replStart() {\n  _repl2.default.start({\n    prompt: \"> \",\n    input: process.stdin,\n    output: process.stdout,\n    eval: replEval,\n    useGlobal: true\n  });\n}\n\nfunction replEval(code, context, filename, callback) {\n  var err = void 0;\n  var result = void 0;\n\n  try {\n    if (code[0] === \"(\" && code[code.length - 1] === \")\") {\n      code = code.slice(1, -1); // remove \"(\" and \")\"\n    }\n\n    result = _eval(code, filename);\n  } catch (e) {\n    err = e;\n  }\n\n  callback(err, result);\n}"]}