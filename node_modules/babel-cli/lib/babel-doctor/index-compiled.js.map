{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["\"use strict\";\n\nvar _regenerator = require(\"babel-runtime/regenerator\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _promise = require(\"babel-runtime/core-js/promise\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _asyncToGenerator2 = require(\"babel-runtime/helpers/asyncToGenerator\");\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _getIterator2 = require(\"babel-runtime/core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\n//\n\nvar run = function () {\n  var ref = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee() {\n    var promises, key, fn, results, _iterator2, _isArray2, _i2, _ref2, _ref3, success, message, multiline;\n\n    return _regenerator2.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            promises = [];\n            _context.t0 = _regenerator2.default.keys(rules);\n\n          case 2:\n            if ((_context.t1 = _context.t0()).done) {\n              _context.next = 10;\n              break;\n            }\n\n            key = _context.t1.value;\n\n            if (!(key[0] === \"_\")) {\n              _context.next = 6;\n              break;\n            }\n\n            return _context.abrupt(\"continue\", 2);\n\n          case 6:\n            fn = rules[key];\n\n            promises.push(fn(packages));\n            _context.next = 2;\n            break;\n\n          case 10:\n            _context.next = 12;\n            return _promise2.default.all(promises);\n\n          case 12:\n            results = _context.sent;\n            _iterator2 = results, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : (0, _getIterator3.default)(_iterator2);\n\n          case 14:\n            if (!_isArray2) {\n              _context.next = 20;\n              break;\n            }\n\n            if (!(_i2 >= _iterator2.length)) {\n              _context.next = 17;\n              break;\n            }\n\n            return _context.abrupt(\"break\", 34);\n\n          case 17:\n            _ref2 = _iterator2[_i2++];\n            _context.next = 24;\n            break;\n\n          case 20:\n            _i2 = _iterator2.next();\n\n            if (!_i2.done) {\n              _context.next = 23;\n              break;\n            }\n\n            return _context.abrupt(\"break\", 34);\n\n          case 23:\n            _ref2 = _i2.value;\n\n          case 24:\n            _ref3 = _ref2;\n            success = _ref3[0];\n            message = _ref3[1];\n\n            if (!success) didError = true;\n            multiline = message.indexOf(\"\\n\") >= 0;\n\n            if (multiline) sep();\n            log((success ? _logSymbols2.default.success : _logSymbols2.default.error) + \" \" + message);\n            if (multiline) sep();\n\n          case 32:\n            _context.next = 14;\n            break;\n\n          case 34:\n\n            sep();\n\n            if (didError) {\n              log(_chalk2.default.red(\"Found potential issues on your machine :(\"));\n            } else {\n              log(_chalk2.default.green(\"Everything looks all right!\"));\n            }\n\n            sep();\n\n          case 37:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n  return function run() {\n    return ref.apply(this, arguments);\n  };\n}();\n\nvar _chalk = require(\"chalk\");\n\nvar _chalk2 = _interopRequireDefault(_chalk);\n\nvar _path = require(\"path\");\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _fs = require(\"fs\");\n\nvar _fs2 = _interopRequireDefault(_fs);\n\nvar _rules = require(\"./rules\");\n\nvar rules = _interopRequireWildcard(_rules);\n\nvar _logSymbols = require(\"log-symbols\");\n\nvar _logSymbols2 = _interopRequireDefault(_logSymbols);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar didError = false;\nvar lastWasSep = false;\n\nfunction sep() {\n  if (lastWasSep) return;\n  lastWasSep = true;\n\n  console.log();\n}\n\nfunction log(msg) {\n  lastWasSep = false;\n  console.log(msg);\n}\n\n//\n\nlog(\"\\n\" + _chalk2.default.underline.yellow(\"Babel Doctor\"));\nlog(\"Running sanity checks on your system. This may take a few minutes...\\n\");\n\n//\n\nvar packages = [];\n\nvar nodeModulesDirectories = [_path2.default.join(process.cwd(), \"node_modules\")];\n\nwhile (nodeModulesDirectories.length) {\n  var loc = nodeModulesDirectories.shift();\n  if (!_fs2.default.existsSync(loc)) continue;\n\n  var packagesNames = _fs2.default.readdirSync(loc);\n\n  for (var _iterator = packagesNames, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : (0, _getIterator3.default)(_iterator);;) {\n    var _ref;\n\n    if (_isArray) {\n      if (_i >= _iterator.length) break;\n      _ref = _iterator[_i++];\n    } else {\n      _i = _iterator.next();\n      if (_i.done) break;\n      _ref = _i.value;\n    }\n\n    var packageName = _ref;\n\n    if (packageName[0] === \".\") continue;\n\n    var packageLoc = _path2.default.join(loc, packageName);\n    var packageJsonLoc = _path2.default.join(packageLoc, \"package.json\");\n    if (!_fs2.default.existsSync(packageJsonLoc)) continue;\n\n    packages.push({\n      name: packageName,\n      loc: packageLoc,\n      version: require(packageJsonLoc).version\n    });\n\n    nodeModulesDirectories.push(_path2.default.join(packageLoc, \"node_modules\"));\n  }\n}\n\nrun().then(function () {\n  process.exit(0);\n}, function (err) {\n  console.error(err.stack);\n  process.exit(1);\n});"]}