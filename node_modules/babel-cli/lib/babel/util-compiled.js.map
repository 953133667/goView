{"version":3,"sources":["util.js"],"names":[],"mappings":"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","file":"util-compiled.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.chmod = chmod;\nexports.readdirFilter = readdirFilter;\nexports.shouldIgnore = shouldIgnore;\nexports.addSourceMappingUrl = addSourceMappingUrl;\nexports.log = log;\nexports.transform = transform;\nexports.compile = compile;\nexports.requireChokidar = requireChokidar;\nvar commander = require(\"commander\");\nvar readdir = require(\"fs-readdir-recursive\");\nvar index = require(\"./index\");\nvar babel = require(\"babel-core\");\nvar util = require(\"babel-core\").util;\nvar path = require(\"path\");\nvar fs = require(\"fs\");\nvar _ = require(\"lodash\");\n\nfunction chmod(src, dest) {\n  fs.chmodSync(dest, fs.statSync(src).mode);\n}\n\nfunction readdirFilter(filename) {\n  return readdir(filename).filter(function (filename) {\n    return util.canCompile(filename);\n  });\n}\n\nexports.readdir = readdir;\nvar canCompile = exports.canCompile = util.canCompile;\n\nfunction shouldIgnore(loc) {\n  return util.shouldIgnore(loc, index.opts.ignore, index.opts.only);\n}\n\nfunction addSourceMappingUrl(code, loc) {\n  return code + \"\\n//# sourceMappingURL=\" + path.basename(loc);\n}\n\nfunction log(msg) {\n  if (!commander.quiet) console.log(msg);\n}\n\nfunction transform(filename, code, opts) {\n  opts = _.defaults(opts || {}, index.opts);\n  opts.filename = filename;\n  opts.ignore = null;\n  opts.only = null;\n\n  var result = babel.transform(code, opts);\n  result.filename = filename;\n  result.actual = code;\n  return result;\n}\n\nfunction compile(filename, opts) {\n  try {\n    var code = fs.readFileSync(filename, \"utf8\");\n    return transform(filename, code, opts);\n  } catch (err) {\n    if (commander.watch) {\n      console.error(toErrorStack(err));\n      return { ignored: true };\n    } else {\n      throw err;\n    }\n  }\n}\n\nfunction toErrorStack(err) {\n  if (err._babel && err instanceof SyntaxError) {\n    return err.name + \": \" + err.message + \"\\n\" + err.codeFrame;\n  } else {\n    return err.stack;\n  }\n}\n\nprocess.on(\"uncaughtException\", function (err) {\n  console.error(toErrorStack(err));\n  process.exit(1);\n});\n\nfunction requireChokidar() {\n  try {\n    return require(\"chokidar\");\n  } catch (err) {\n    console.error(\"The optional dependency chokidar failed to install and is required for \" + \"--watch. Chokidar is likely not supported on your platform.\");\n    throw err;\n  }\n}"]}