{"version":3,"sources":["_baseConvert.js"],"names":[],"mappings":"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","file":"_baseConvert-compiled.js","sourcesContent":["var mapping = require('./_mapping'),\n    mutateMap = mapping.mutate,\n    fallbackHolder = require('./placeholder');\n\n/**\n * Creates a function, with an arity of `n`, that invokes `func` with the\n * arguments it receives.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} n The arity of the new function.\n * @returns {Function} Returns the new function.\n */\nfunction baseArity(func, n) {\n  return n == 2\n    ? function(a, b) { return func.apply(undefined, arguments); }\n    : function(a) { return func.apply(undefined, arguments); };\n}\n\n/**\n * Creates a function that invokes `func`, with up to `n` arguments, ignoring\n * any additional arguments.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @param {number} n The arity cap.\n * @returns {Function} Returns the new function.\n */\nfunction baseAry(func, n) {\n  return n == 2\n    ? function(a, b) { return func(a, b); }\n    : function(a) { return func(a); };\n}\n\n/**\n * Creates a clone of `array`.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the cloned array.\n */\nfunction cloneArray(array) {\n  var length = array ? array.length : 0,\n      result = Array(length);\n\n  while (length--) {\n    result[length] = array[length];\n  }\n  return result;\n}\n\n/**\n * Creates a function that clones a given object using the assignment `func`.\n *\n * @private\n * @param {Function} func The assignment function.\n * @returns {Function} Returns the new cloner function.\n */\nfunction createCloner(func) {\n  return function(object) {\n    return func({}, object);\n  };\n}\n\n/**\n * Creates a function that wraps `func` and uses `cloner` to clone the first\n * argument it receives.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} cloner The function to clone arguments.\n * @returns {Function} Returns the new immutable function.\n */\nfunction immutWrap(func, cloner) {\n  return function() {\n    var length = arguments.length;\n    if (!length) {\n      return result;\n    }\n    var args = Array(length);\n    while (length--) {\n      args[length] = arguments[length];\n    }\n    var result = args[0] = cloner.apply(undefined, args);\n    func.apply(undefined, args);\n    return result;\n  };\n}\n\n/**\n * The base implementation of `convert` which accepts a `util` object of methods\n * required to perform conversions.\n *\n * @param {Object} util The util object.\n * @param {string} name The name of the function to convert.\n * @param {Function} func The function to convert.\n * @param {Object} [options] The options object.\n * @param {boolean} [options.cap=true] Specify capping iteratee arguments.\n * @param {boolean} [options.curry=true] Specify currying.\n * @param {boolean} [options.fixed=true] Specify fixed arity.\n * @param {boolean} [options.immutable=true] Specify immutable operations.\n * @param {boolean} [options.rearg=true] Specify rearranging arguments.\n * @returns {Function|Object} Returns the converted function or object.\n */\nfunction baseConvert(util, name, func, options) {\n  var setPlaceholder,\n      isLib = typeof name == 'function',\n      isObj = name === Object(name);\n\n  if (isObj) {\n    options = func;\n    func = name;\n    name = undefined;\n  }\n  if (func == null) {\n    throw new TypeError;\n  }\n  options || (options = {});\n\n  var config = {\n    'cap': 'cap' in options ? options.cap : true,\n    'curry': 'curry' in options ? options.curry : true,\n    'fixed': 'fixed' in options ? options.fixed : true,\n    'immutable': 'immutable' in options ? options.immutable : true,\n    'rearg': 'rearg' in options ? options.rearg : true\n  };\n\n  var forceCurry = ('curry' in options) && options.curry,\n      forceFixed = ('fixed' in options) && options.fixed,\n      forceRearg = ('rearg' in options) && options.rearg,\n      placeholder = isLib ? func : fallbackHolder,\n      pristine = isLib ? func.runInContext() : undefined;\n\n  var helpers = isLib ? func : {\n    'ary': util.ary,\n    'assign': util.assign,\n    'clone': util.clone,\n    'curry': util.curry,\n    'forEach': util.forEach,\n    'isArray': util.isArray,\n    'isFunction': util.isFunction,\n    'iteratee': util.iteratee,\n    'keys': util.keys,\n    'rearg': util.rearg,\n    'spread': util.spread,\n    'toPath': util.toPath\n  };\n\n  var ary = helpers.ary,\n      assign = helpers.assign,\n      clone = helpers.clone,\n      curry = helpers.curry,\n      each = helpers.forEach,\n      isArray = helpers.isArray,\n      isFunction = helpers.isFunction,\n      keys = helpers.keys,\n      rearg = helpers.rearg,\n      spread = helpers.spread,\n      toPath = helpers.toPath;\n\n  var aryMethodKeys = keys(mapping.aryMethod);\n\n  var wrappers = {\n    'castArray': function(castArray) {\n      return function() {\n        var value = arguments[0];\n        return isArray(value)\n          ? castArray(cloneArray(value))\n          : castArray.apply(undefined, arguments);\n      };\n    },\n    'iteratee': function(iteratee) {\n      return function() {\n        var func = arguments[0],\n            arity = arguments[1],\n            result = iteratee(func, arity),\n            length = result.length;\n\n        if (config.cap && typeof arity == 'number') {\n          arity = arity > 2 ? (arity - 2) : 1;\n          return (length && length <= arity) ? result : baseAry(result, arity);\n        }\n        return result;\n      };\n    },\n    'mixin': function(mixin) {\n      return function(source) {\n        var func = this;\n        if (!isFunction(func)) {\n          return mixin(func, Object(source));\n        }\n        var pairs = [];\n        each(keys(source), function(key) {\n          if (isFunction(source[key])) {\n            pairs.push([key, func.prototype[key]]);\n          }\n        });\n\n        mixin(func, Object(source));\n\n        each(pairs, function(pair) {\n          var value = pair[1];\n          if (isFunction(value)) {\n            func.prototype[pair[0]] = value;\n          } else {\n            delete func.prototype[pair[0]];\n          }\n        });\n        return func;\n      };\n    },\n    'runInContext': function(runInContext) {\n      return function(context) {\n        return baseConvert(util, runInContext(context), options);\n      };\n    }\n  };\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a clone of `object` by `path`.\n   *\n   * @private\n   * @param {Object} object The object to clone.\n   * @param {Array|string} path The path to clone by.\n   * @returns {Object} Returns the cloned object.\n   */\n  function cloneByPath(object, path) {\n    path = toPath(path);\n\n    var index = -1,\n        length = path.length,\n        lastIndex = length - 1,\n        result = clone(Object(object)),\n        nested = result;\n\n    while (nested != null && ++index < length) {\n      var key = path[index],\n          value = nested[key];\n\n      if (value != null) {\n        nested[path[index]] = clone(index == lastIndex ? value : Object(value));\n      }\n      nested = nested[key];\n    }\n    return result;\n  }\n\n  /**\n   * Converts `lodash` to an immutable auto-curried iteratee-first data-last\n   * version with conversion `options` applied.\n   *\n   * @param {Object} [options] The options object. See `baseConvert` for more details.\n   * @returns {Function} Returns the converted `lodash`.\n   */\n  function convertLib(options) {\n    return _.runInContext.convert(options)(undefined);\n  }\n\n  /**\n   * Create a converter function for `func` of `name`.\n   *\n   * @param {string} name The name of the function to convert.\n   * @param {Function} func The function to convert.\n   * @returns {Function} Returns the new converter function.\n   */\n  function createConverter(name, func) {\n    var oldOptions = options;\n    return function(options) {\n      var newUtil = isLib ? pristine : helpers,\n          newFunc = isLib ? pristine[name] : func,\n          newOptions = assign(assign({}, oldOptions), options);\n\n      return baseConvert(newUtil, name, newFunc, newOptions);\n    };\n  }\n\n  /**\n   * Creates a function that wraps `func` to invoke its iteratee, with up to `n`\n   * arguments, ignoring any additional arguments.\n   *\n   * @private\n   * @param {Function} func The function to cap iteratee arguments for.\n   * @param {number} n The arity cap.\n   * @returns {Function} Returns the new function.\n   */\n  function iterateeAry(func, n) {\n    return overArg(func, function(func) {\n      return typeof func == 'function' ? baseAry(func, n) : func;\n    });\n  }\n\n  /**\n   * Creates a function that wraps `func` to invoke its iteratee with arguments\n   * arranged according to the specified `indexes` where the argument value at\n   * the first index is provided as the first argument, the argument value at\n   * the second index is provided as the second argument, and so on.\n   *\n   * @private\n   * @param {Function} func The function to rearrange iteratee arguments for.\n   * @param {number[]} indexes The arranged argument indexes.\n   * @returns {Function} Returns the new function.\n   */\n  function iterateeRearg(func, indexes) {\n    return overArg(func, function(func) {\n      var n = indexes.length;\n      return baseArity(rearg(baseAry(func, n), indexes), n);\n    });\n  }\n\n  /**\n   * Creates a function that invokes `func` with its first argument passed\n   * thru `transform`.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {...Function} transform The functions to transform the first argument.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function() {\n      var length = arguments.length;\n      if (!length) {\n        return func();\n      }\n      var args = Array(length);\n      while (length--) {\n        args[length] = arguments[length];\n      }\n      var index = config.rearg ? 0 : (length - 1);\n      args[index] = transform(args[index]);\n      return func.apply(undefined, args);\n    };\n  }\n\n  /**\n   * Creates a function that wraps `func` and applys the conversions\n   * rules by `name`.\n   *\n   * @private\n   * @param {string} name The name of the function to wrap.\n   * @param {Function} func The function to wrap.\n   * @returns {Function} Returns the converted function.\n   */\n  function wrap(name, func) {\n    name = mapping.aliasToReal[name] || name;\n\n    var result,\n        wrapped = func,\n        wrapper = wrappers[name];\n\n    if (wrapper) {\n      wrapped = wrapper(func);\n    }\n    else if (config.immutable) {\n      if (mutateMap.array[name]) {\n        wrapped = immutWrap(func, cloneArray);\n      }\n      else if (mutateMap.object[name]) {\n        wrapped = immutWrap(func, createCloner(func));\n      }\n      else if (mutateMap.set[name]) {\n        wrapped = immutWrap(func, cloneByPath);\n      }\n    }\n    each(aryMethodKeys, function(aryKey) {\n      each(mapping.aryMethod[aryKey], function(otherName) {\n        if (name == otherName) {\n          var aryN = !isLib && mapping.iterateeAry[name],\n              reargIndexes = mapping.iterateeRearg[name],\n              spreadStart = mapping.methodSpread[name];\n\n          result = wrapped;\n          if (config.fixed && (forceFixed || !mapping.skipFixed[name])) {\n            result = spreadStart === undefined\n              ? ary(result, aryKey)\n              : spread(result, spreadStart);\n          }\n          if (config.rearg && aryKey > 1 && (forceRearg || !mapping.skipRearg[name])) {\n            result = rearg(result, mapping.methodRearg[name] || mapping.aryRearg[aryKey]);\n          }\n          if (config.cap) {\n            if (reargIndexes) {\n              result = iterateeRearg(result, reargIndexes);\n            } else if (aryN) {\n              result = iterateeAry(result, aryN);\n            }\n          }\n          if (forceCurry || (config.curry && aryKey > 1)) {\n            forceCurry  && console.log(forceCurry, name);\n            result = curry(result, aryKey);\n          }\n          return false;\n        }\n      });\n      return !result;\n    });\n\n    result || (result = wrapped);\n    if (result == func) {\n      result = forceCurry ? curry(result, 1) : function() {\n        return func.apply(this, arguments);\n      };\n    }\n    result.convert = createConverter(name, func);\n    if (mapping.placeholder[name]) {\n      setPlaceholder = true;\n      result.placeholder = func.placeholder = placeholder;\n    }\n    return result;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  if (!isObj) {\n    return wrap(name, func);\n  }\n  var _ = func;\n\n  // Convert methods by ary cap.\n  var pairs = [];\n  each(aryMethodKeys, function(aryKey) {\n    each(mapping.aryMethod[aryKey], function(key) {\n      var func = _[mapping.remap[key] || key];\n      if (func) {\n        pairs.push([key, wrap(key, func)]);\n      }\n    });\n  });\n\n  // Convert remaining methods.\n  each(keys(_), function(key) {\n    var func = _[key];\n    if (typeof func == 'function') {\n      var length = pairs.length;\n      while (length--) {\n        if (pairs[length][0] == key) {\n          return;\n        }\n      }\n      func.convert = createConverter(key, func);\n      pairs.push([key, func]);\n    }\n  });\n\n  // Assign to `_` leaving `_.prototype` unchanged to allow chaining.\n  each(pairs, function(pair) {\n    _[pair[0]] = pair[1];\n  });\n\n  _.convert = convertLib;\n  if (setPlaceholder) {\n    _.placeholder = placeholder;\n  }\n  // Assign aliases.\n  each(keys(_), function(key) {\n    each(mapping.realToAlias[key] || [], function(alias) {\n      _[alias] = _[key];\n    });\n  });\n\n  return _;\n}\n\nmodule.exports = baseConvert;\n"]}