{"version":3,"sources":["watchpack.js"],"names":[],"mappings":"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","file":"watchpack-compiled.js","sourcesContent":["/*globals describe it beforeEach afterEach */\r\nrequire(\"should\");\r\nvar path = require(\"path\");\r\nvar TestHelper = require(\"./helpers/TestHelper\");\r\nvar Watchpack = require(\"../lib/watchpack\");\r\n\r\nvar fixtures = path.join(__dirname, \"fixtures\");\r\nvar testHelper = new TestHelper(fixtures);\r\n\r\ndescribe(\"Watchpack\", function() {\r\n\tthis.timeout(10000);\r\n\tbeforeEach(testHelper.before);\r\n\tafterEach(testHelper.after);\r\n\r\n\tit(\"should watch a single file\", function(done) {\r\n\t\tvar w = new Watchpack({\r\n\t\t\taggregateTimeout: 1000\r\n\t\t});\r\n\t\tvar changeEvents = 0;\r\n\t\tw.on(\"change\", function(file) {\r\n\t\t\tfile.should.be.eql(path.join(fixtures, \"a\"));\r\n\t\t\tchangeEvents++;\r\n\t\t});\r\n\t\tw.on(\"aggregated\", function(changes) {\r\n\t\t\tchanges.should.be.eql([path.join(fixtures, \"a\")]);\r\n\t\t\tchangeEvents.should.be.eql(1);\r\n\t\t\tw.close();\r\n\t\t\tdone();\r\n\t\t});\r\n\t\tw.watch([path.join(fixtures, \"a\")], []);\r\n\t\ttestHelper.tick(function() {\r\n\t\t\ttestHelper.file(\"a\");\r\n\t\t});\r\n\t});\r\n\r\n\tit(\"should watch multiple files\", function(done) {\r\n\t\tvar w = new Watchpack({\r\n\t\t\taggregateTimeout: 1000\r\n\t\t});\r\n\t\tvar changeEvents = [];\r\n\t\tw.on(\"change\", function(file) {\r\n\t\t\tif(changeEvents[changeEvents.length - 1] === file)\r\n\t\t\t\treturn;\r\n\t\t\tchangeEvents.push(file);\r\n\t\t});\r\n\t\tw.on(\"aggregated\", function(changes) {\r\n\t\t\tchanges.sort().should.be.eql([path.join(fixtures, \"a\"), path.join(fixtures, \"b\")]);\r\n\t\t\tchangeEvents.should.be.eql([\r\n\t\t\t\tpath.join(fixtures, \"a\"),\r\n\t\t\t\tpath.join(fixtures, \"b\"),\r\n\t\t\t\tpath.join(fixtures, \"a\"),\r\n\t\t\t\tpath.join(fixtures, \"b\"),\r\n\t\t\t\tpath.join(fixtures, \"a\")\r\n\t\t\t]);\r\n\t\t\tObject.keys(w.getTimes()).sort().should.be.eql([\r\n\t\t\t\tpath.join(fixtures, \"a\"),\r\n\t\t\t\tpath.join(fixtures, \"b\")\r\n\t\t\t]);\r\n\t\t\tw.close();\r\n\t\t\tdone();\r\n\t\t});\r\n\t\tw.watch([path.join(fixtures, \"a\"), path.join(fixtures, \"b\")], []);\r\n\t\ttestHelper.tick(function() {\r\n\t\t\ttestHelper.file(\"a\");\r\n\t\t\ttestHelper.tick(function() {\r\n\t\t\t\ttestHelper.file(\"b\");\r\n\t\t\t\ttestHelper.tick(function() {\r\n\t\t\t\t\ttestHelper.file(\"a\");\r\n\t\t\t\t\ttestHelper.tick(function() {\r\n\t\t\t\t\t\ttestHelper.file(\"b\");\r\n\t\t\t\t\t\ttestHelper.tick(function() {\r\n\t\t\t\t\t\t\ttestHelper.file(\"a\");\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n\r\n\tit(\"should watch a directory\", function(done) {\r\n\t\tvar w = new Watchpack({\r\n\t\t\taggregateTimeout: 1000\r\n\t\t});\r\n\t\tvar changeEvents = [];\r\n\t\tw.on(\"change\", function(file) {\r\n\t\t\tif(changeEvents[changeEvents.length - 1] === file)\r\n\t\t\t\treturn;\r\n\t\t\tchangeEvents.push(file);\r\n\t\t});\r\n\t\tw.on(\"aggregated\", function(changes) {\r\n\t\t\tchanges.should.be.eql([path.join(fixtures, \"dir\")]);\r\n\t\t\tchangeEvents.should.be.eql([path.join(fixtures, \"dir\", \"a\")]);\r\n\t\t\tw.close();\r\n\t\t\tdone();\r\n\t\t});\r\n\t\ttestHelper.dir(\"dir\");\r\n\t\ttestHelper.tick(function() {\r\n\t\t\tw.watch([], [path.join(fixtures, \"dir\")]);\r\n\t\t\ttestHelper.tick(function() {\r\n\t\t\t\ttestHelper.file(path.join(\"dir\", \"a\"));\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n\r\n\tit(\"should watch a file than a directory\", function(done) {\r\n\t\tvar w = new Watchpack({\r\n\t\t\taggregateTimeout: 1000\r\n\t\t});\r\n\t\tvar changeEvents = [];\r\n\t\tw.on(\"change\", function(file) {\r\n\t\t\tif(changeEvents[changeEvents.length - 1] === file)\r\n\t\t\t\treturn;\r\n\t\t\tchangeEvents.push(file);\r\n\t\t});\r\n\t\tw.on(\"aggregated\", function(changes) {\r\n\t\t\tchanges.should.be.eql([path.join(fixtures, \"dir\")]);\r\n\t\t\tchangeEvents.should.be.eql([path.join(fixtures, \"dir\", \"a\")]);\r\n\t\t\tw.close();\r\n\t\t\tdone();\r\n\t\t});\r\n\t\ttestHelper.dir(\"dir\");\r\n\t\ttestHelper.dir(path.join(\"dir\", \"subdir\"));\r\n\t\ttestHelper.file(path.join(\"dir\", \"a\"));\r\n\t\ttestHelper.tick(function() {\r\n\t\t\tw.watch([path.join(fixtures, \"dir\", \"a\")], []);\r\n\t\t\ttestHelper.tick(function() {\r\n\t\t\t\tw.watch([path.join(fixtures, \"dir\")], [path.join(fixtures, \"dir\")]);\r\n\t\t\t\ttestHelper.tick(function() {\r\n\t\t\t\t\ttestHelper.file(path.join(\"dir\", \"a\"));\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n\r\n\tit(\"should watch a directory (delete file)\", function(done) {\r\n\t\tvar w = new Watchpack({\r\n\t\t\taggregateTimeout: 1000\r\n\t\t});\r\n\t\tvar changeEvents = [];\r\n\t\tw.on(\"change\", function(file) {\r\n\t\t\tif(changeEvents[changeEvents.length - 1] === file)\r\n\t\t\t\treturn;\r\n\t\t\tchangeEvents.push(file);\r\n\t\t});\r\n\t\tw.on(\"aggregated\", function(changes) {\r\n\t\t\tchanges.should.be.eql([path.join(fixtures, \"dir\")]);\r\n\t\t\tchangeEvents.should.be.eql([path.join(fixtures, \"dir\", \"a\")]);\r\n\t\t\tw.close();\r\n\t\t\tdone();\r\n\t\t});\r\n\t\ttestHelper.dir(\"dir\");\r\n\t\ttestHelper.file(path.join(\"dir\", \"a\"));\r\n\t\ttestHelper.tick(function() {\r\n\t\t\tw.watch([], [path.join(fixtures, \"dir\")]);\r\n\t\t\ttestHelper.tick(function() {\r\n\t\t\t\ttestHelper.remove(path.join(\"dir\", \"a\"));\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n\r\n\tit(\"should watch a directory (delete directory)\", function(done) {\r\n\t\tvar w = new Watchpack({\r\n\t\t\taggregateTimeout: 1000\r\n\t\t});\r\n\t\tvar changeEvents = [];\r\n\t\tw.on(\"change\", function(file) {\r\n\t\t\tif(changeEvents[changeEvents.length - 1] === file)\r\n\t\t\t\treturn;\r\n\t\t\tchangeEvents.push(file);\r\n\t\t});\r\n\t\tw.on(\"aggregated\", function(changes) {\r\n\t\t\tchanges.should.be.eql([path.join(fixtures, \"dir\")]);\r\n\t\t\tw.close();\r\n\t\t\tdone();\r\n\t\t});\r\n\t\ttestHelper.dir(\"dir\");\r\n\t\ttestHelper.dir(path.join(\"dir\", \"sub\"));\r\n\t\ttestHelper.file(path.join(\"dir\", \"sub\", \"a\"));\r\n\t\ttestHelper.tick(function() {\r\n\t\t\tw.watch([], [path.join(fixtures, \"dir\")]);\r\n\t\t\ttestHelper.tick(function() {\r\n\t\t\t\ttestHelper.remove(path.join(\"dir\", \"sub\"));\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n\r\n\tit(\"should watch a directory (delete directory2)\", function(done) {\r\n\t\tvar w = new Watchpack({\r\n\t\t\taggregateTimeout: 1000\r\n\t\t});\r\n\t\tvar changeEvents = [];\r\n\t\tw.on(\"change\", function(file) {\r\n\t\t\tif(changeEvents[changeEvents.length - 1] === file)\r\n\t\t\t\treturn;\r\n\t\t\tchangeEvents.push(file);\r\n\t\t});\r\n\t\tw.on(\"aggregated\", function(changes) {\r\n\t\t\tchanges.should.be.eql([path.join(fixtures, \"dir\")]);\r\n\t\t\tchangeEvents.should.be.eql([path.join(fixtures, \"dir\", \"sub\")]);\r\n\t\t\tw.close();\r\n\t\t\tdone();\r\n\t\t});\r\n\t\ttestHelper.dir(\"dir\");\r\n\t\ttestHelper.dir(path.join(\"dir\", \"sub\"));\r\n\t\ttestHelper.tick(function() {\r\n\t\t\tw.watch([], [path.join(fixtures, \"dir\")]);\r\n\t\t\ttestHelper.tick(function() {\r\n\t\t\t\ttestHelper.remove(path.join(\"dir\", \"sub\"));\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n\r\n\tit(\"should watch already watched directory\", function(done) {\r\n\t\tvar w = new Watchpack({\r\n\t\t\taggregateTimeout: 1000\r\n\t\t});\r\n\t\tvar changeEvents = [];\r\n\t\tw.on(\"change\", function(file) {\r\n\t\t\tif(changeEvents[changeEvents.length - 1] === file)\r\n\t\t\t\treturn;\r\n\t\t\tchangeEvents.push(file);\r\n\t\t});\r\n\t\tw.on(\"aggregated\", function(changes) {\r\n\t\t\tchanges.should.be.eql([path.join(fixtures, \"dir\")]);\r\n\t\t\tchangeEvents.should.be.eql([path.join(fixtures, \"dir\", \"a\")]);\r\n\t\t\tw.close();\r\n\t\t\tdone();\r\n\t\t});\r\n\t\ttestHelper.dir(\"dir\");\r\n\t\ttestHelper.file(path.join(\"dir\", \"a\"));\r\n\t\ttestHelper.tick(function() {\r\n\t\t\tw.watch([path.join(fixtures, \"dir\", \"a\")], []);\r\n\t\t\ttestHelper.tick(function() {\r\n\t\t\t\tw.watch([], [path.join(fixtures, \"dir\")]);\r\n\t\t\t\ttestHelper.tick(function() {\r\n\t\t\t\t\ttestHelper.remove(path.join(\"dir\", \"a\"));\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n\r\n\tit(\"should watch file in a sub directory\", function(done) {\r\n\t\tvar w = new Watchpack({\r\n\t\t\taggregateTimeout: 1000\r\n\t\t});\r\n\t\tvar changeEvents = [];\r\n\t\tw.on(\"change\", function(file) {\r\n\t\t\tif(changeEvents[changeEvents.length - 1] === file)\r\n\t\t\t\treturn;\r\n\t\t\tchangeEvents.push(file);\r\n\t\t});\r\n\t\tw.on(\"aggregated\", function(changes) {\r\n\t\t\tchanges.should.be.eql([path.join(fixtures, \"dir\")]);\r\n\t\t\tchangeEvents.should.be.eql([path.join(fixtures, \"dir\", \"sub\", \"a\")]);\r\n\t\t\tvar times = w.getTimes();\r\n\t\t\ttimes[path.join(fixtures, \"dir\")].should.be.type(\"number\");\r\n\t\t\ttimes[path.join(fixtures, \"dir\")].should.be.eql(times[path.join(fixtures, \"dir\", \"sub\", \"a\")]);\r\n\t\t\t\t\t\ttimes[path.join(fixtures, \"dir\", \"sub\")].should.be.eql(times[path.join(fixtures, \"dir\", \"sub\", \"a\")]);\r\n\t\t\tw.close();\r\n\t\t\tdone();\r\n\t\t});\r\n\t\ttestHelper.dir(\"dir\");\r\n\t\ttestHelper.dir(path.join(\"dir\", \"sub\"));\r\n\t\ttestHelper.tick(function() {\r\n\t\t\tw.watch([], [path.join(fixtures, \"dir\")]);\r\n\t\t\ttestHelper.tick(function() {\r\n\t\t\t\ttestHelper.file(path.join(\"dir\", \"sub\", \"a\"));\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n\r\n\tit(\"should watch file in a sub sub directory\", function(done) {\r\n\t\tvar w = new Watchpack({\r\n\t\t\taggregateTimeout: 1000\r\n\t\t});\r\n\t\tvar changeEvents = [];\r\n\t\tw.on(\"change\", function(file) {\r\n\t\t\tif(changeEvents[changeEvents.length - 1] === file)\r\n\t\t\t\treturn;\r\n\t\t\tchangeEvents.push(file);\r\n\t\t});\r\n\t\tw.on(\"aggregated\", function(changes) {\r\n\t\t\tchanges.should.be.eql([path.join(fixtures, \"dir\")]);\r\n\t\t\tchangeEvents.should.be.eql([path.join(fixtures, \"dir\", \"sub\", \"sub\", \"a\")]);\r\n\t\t\tObject.keys(w.getTimes()).sort().should.be.eql([\r\n\t\t\t\tpath.join(fixtures, \"dir\"),\r\n\t\t\t\tpath.join(fixtures, \"dir\", \"sub\"),\r\n\t\t\t\tpath.join(fixtures, \"dir\", \"sub\", \"sub\"),\r\n\t\t\t\tpath.join(fixtures, \"dir\", \"sub\", \"sub\", \"a\")\r\n\t\t\t]);\r\n\t\t\tw.close();\r\n\t\t\tdone();\r\n\t\t});\r\n\t\ttestHelper.dir(\"dir\");\r\n\t\ttestHelper.dir(path.join(\"dir\", \"sub\"));\r\n\t\ttestHelper.dir(path.join(\"dir\", \"sub\", \"sub\"));\r\n\t\ttestHelper.tick(function() {\r\n\t\t\tw.watch([], [path.join(fixtures, \"dir\")]);\r\n\t\t\ttestHelper.tick(function() {\r\n\t\t\t\ttestHelper.file(path.join(\"dir\", \"sub\", \"sub\", \"a\"));\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n\r\n\tit(\"should detect a single change to future timestamps\", function(done) {\r\n\t\tvar w = new Watchpack({\r\n\t\t\taggregateTimeout: 1000\r\n\t\t});\r\n\t\tvar w2 = new Watchpack({\r\n\t\t\taggregateTimeout: 1000\r\n\t\t});\r\n\t\tw.on(\"change\", function() {\r\n\t\t\tthrow new Error(\"should not report change event\");\r\n\t\t});\r\n\t\tw.on(\"aggregated\", function() {\r\n\t\t\tthrow new Error(\"should not report aggregated event\");\r\n\t\t});\r\n\t\ttestHelper.file(\"a\");\r\n\t\ttestHelper.tick(function() {\r\n\t\t\tw2.watch([path.join(fixtures, \"a\")], []);\r\n\t\t\ttestHelper.tick(1000, function() { // wait for initial scan\r\n\t\t\t\ttestHelper.mtime(\"a\", Date.now() + 1000000);\r\n\t\t\t\ttestHelper.tick(function() {\r\n\t\t\t\t\tw.watch([path.join(fixtures, \"a\")], []);\r\n\t\t\t\t\ttestHelper.tick(function() {\r\n\t\t\t\t\t\ttestHelper.tick(function() {\r\n\t\t\t\t\t\t\tw2.close();\r\n\t\t\t\t\t\t\tw.close();\r\n\t\t\t\t\t\t\tdone();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n\r\n\tit(\"should detect a past change to a file (timestamp)\", function(done) {\r\n\t\tvar w = new Watchpack({\r\n\t\t\taggregateTimeout: 1000\r\n\t\t});\r\n\t\tvar changeEvents = 0;\r\n\t\tw.on(\"change\", function(file) {\r\n\t\t\tfile.should.be.eql(path.join(fixtures, \"a\"));\r\n\t\t\tchangeEvents++;\r\n\t\t});\r\n\t\tw.on(\"aggregated\", function(changes) {\r\n\t\t\tchanges.should.be.eql([path.join(fixtures, \"a\")]);\r\n\t\t\tchangeEvents.should.be.greaterThan(0);\r\n\t\t\tw.close();\r\n\t\t\tdone();\r\n\t\t});\r\n\t\tvar startTime = Date.now();\r\n\t\ttestHelper.tick(function() {\r\n\t\t\ttestHelper.file(\"a\");\r\n\t\t\ttestHelper.tick(function() {\r\n\t\t\t\tw.watch([path.join(fixtures, \"a\")], [], startTime);\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n\r\n\tit(\"should not detect a past change to a file (watched)\", function(done) {\r\n\t\tvar w2 = new Watchpack();\r\n\t\tvar w = new Watchpack();\r\n\t\tw.on(\"change\", function() {\r\n\t\t\tthrow new Error(\"Should not be detected\");\r\n\t\t});\r\n\t\ttestHelper.tick(function() {\r\n\t\t\ttestHelper.file(\"b\");\r\n\t\t\tw2.watch([path.join(fixtures, \"b\")], []);\r\n\t\t\ttestHelper.tick(1000, function() { // wait for stable state\r\n\t\t\t\ttestHelper.file(\"a\");\r\n\t\t\t\ttestHelper.tick(function() {\r\n\t\t\t\t\tvar startTime = Date.now();\r\n\t\t\t\t\ttestHelper.tick(function() {\r\n\t\t\t\t\t\tw.watch([path.join(fixtures, \"a\")], [], startTime);\r\n\t\t\t\t\t\ttestHelper.tick(function() {\r\n\t\t\t\t\t\t\tw.close();\r\n\t\t\t\t\t\t\tw2.close();\r\n\t\t\t\t\t\t\tdone();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n\r\n\tit(\"should detect a past change to a file (watched)\", function(done) {\r\n\t\tvar w2 = new Watchpack();\r\n\t\tvar w = new Watchpack();\r\n\t\tvar changeEvents = 0;\r\n\t\tw.on(\"change\", function(file) {\r\n\t\t\tfile.should.be.eql(path.join(fixtures, \"a\"));\r\n\t\t\tchangeEvents++;\r\n\t\t});\r\n\t\tw.on(\"aggregated\", function(changes) {\r\n\t\t\tchanges.should.be.eql([path.join(fixtures, \"a\")]);\r\n\t\t\tchangeEvents.should.be.eql(1);\r\n\t\t\tw.close();\r\n\t\t\tw2.close();\r\n\t\t\tdone();\r\n\t\t});\r\n\t\ttestHelper.tick(function() {\r\n\t\t\ttestHelper.file(\"b\");\r\n\t\t\tw2.watch([path.join(fixtures, \"b\")], []);\r\n\t\t\ttestHelper.tick(function() {\r\n\t\t\t\tvar startTime = Date.now();\r\n\t\t\t\ttestHelper.tick(function() {\r\n\t\t\t\t\ttestHelper.file(\"a\");\r\n\t\t\t\t\ttestHelper.tick(function() {\r\n\t\t\t\t\t\tw.watch([path.join(fixtures, \"a\")], [], startTime);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n});\r\n"]}