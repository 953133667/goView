{"version":3,"sources":["SourceNode.js"],"names":[],"mappings":"AAAA;;;;AAIA,IAAI,YAAY,QAAQ,cAAR,CAAhB;AACA,IAAI,mBAAmB,QAAQ,WAAR,EAAqB,gBAA5C;;AAEA,SAAS,UAAT,CAAoB,aAApB,EAAmC,MAAnC,EAA2C,cAA3C,EAA2D,YAA3D,EAAyE;AACxE,MAAK,aAAL,GAAqB,aAArB;AACA,MAAK,cAAL,GAAsB,cAAtB;AACA,MAAK,MAAL,GAAc,MAAd;AACA,MAAK,YAAL,GAAoB,gBAAgB,CAApC;AACA;AACD,OAAO,OAAP,GAAiB,UAAjB;;AAEA,WAAW,SAAX,CAAqB,KAArB,GAA6B,YAAW;AACvC,QAAO,IAAI,UAAJ,CAAe,KAAK,aAApB,EAAmC,KAAK,MAAxC,EAAgD,KAAK,cAArD,EAAqE,KAAK,YAA1E,CAAP;AACA,CAFD;;AAIA,IAAI,eAAe,OAAnB;AACA,IAAI,oBAAoB,MAAxB;;AAEA,WAAW,SAAX,CAAqB,gBAArB,GAAwC,YAAW;AAClD,QAAO,KAAK,aAAZ;AACA,CAFD;;AAIA,WAAW,SAAX,CAAqB,WAArB,GAAmC,UAAS,eAAT,EAA0B;AAC5D,KAAI,QAAQ,iBAAiB,KAAK,aAAtB,CAAZ;AACA,KAAI,YAAY,gBAAgB,YAAhB,CAA6B,KAAK,MAAlC,EAA0C,KAAK,cAA/C,CAAhB;AACA,KAAI,WAAW,GAAf,CAH4D,CAGxC;AACpB,aAAY,UAAU,MAAV,CAAiB,YAAY,gBAAgB,aAA7C,CAAZ,CAJ4D,CAIa;AACzE,aAAY,UAAU,MAAV,CAAiB,KAAK,YAAL,GAAoB,gBAAgB,mBAArD,CAAZ,CAL4D,CAK2B;AACvF,aAAY,GAAZ,CAN4D,CAM3C;AACjB,KAAG,UAAU,CAAb,EACC,YAAY,GAAZ;AACD,iBAAgB,aAAhB,GAAgC,SAAhC;AACA,iBAAgB,mBAAhB,GAAsC,CAAC,SAAS,CAAV,IAAe,KAAK,YAApB,GAAmC,CAAzE;AACA,aAAY,MAAM,KAAN,EAAa,IAAb,CAAkB,YAAlB,CAAZ;AACA,KAAG,UAAU,CAAV,IAAe,KAAK,aAAL,CAAmB,KAAK,aAAL,CAAmB,MAAnB,GAA4B,CAA/C,MAAsD,IAAxE,EAA8E;AAC7E,cAAY,iBAAZ;AACA,kBAAgB,mBAAhB;AACA;AACD,QAAO,QAAP;AACA,CAjBD;;AAmBA,WAAW,SAAX,CAAqB,gBAArB,GAAwC,UAAS,EAAT,EAAa;AACpD,MAAK,aAAL,GAAqB,GAAG,KAAK,aAAR,CAArB;AACA,CAFD","file":"SourceNode-compiled.js","sourcesContent":["/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar base64VLQ = require(\"./base64-vlq\");\r\nvar getNumberOfLines = require(\"./helpers\").getNumberOfLines;\r\n\r\nfunction SourceNode(generatedCode, source, originalSource, startingLine) {\r\n\tthis.generatedCode = generatedCode;\r\n\tthis.originalSource = originalSource;\r\n\tthis.source = source;\r\n\tthis.startingLine = startingLine || 1;\r\n}\r\nmodule.exports = SourceNode;\r\n\r\nSourceNode.prototype.clone = function() {\r\n\treturn new SourceNode(this.generatedCode, this.source, this.originalSource, this.startingLine);\r\n}\r\n\r\nvar LINE_MAPPING = \"AACA;\";\r\nvar LAST_LINE_MAPPING = \"AACA\";\r\n\r\nSourceNode.prototype.getGeneratedCode = function() {\r\n\treturn this.generatedCode;\r\n};\r\n\r\nSourceNode.prototype.getMappings = function(mappingsContext) {\r\n\tvar lines = getNumberOfLines(this.generatedCode);\r\n\tvar sourceIdx = mappingsContext.ensureSource(this.source, this.originalSource);\r\n\tvar mappings = \"A\"; // generated column 0\r\n\tmappings += base64VLQ.encode(sourceIdx - mappingsContext.currentSource); // source index\r\n\tmappings += base64VLQ.encode(this.startingLine - mappingsContext.currentOriginalLine); // original line index\r\n\tmappings += \"A\"; // original column 0\r\n\tif(lines !== 0)\r\n\t\tmappings += \";\"\r\n\tmappingsContext.currentSource = sourceIdx;\r\n\tmappingsContext.currentOriginalLine = (lines || 1) + this.startingLine - 1;\r\n\tmappings += Array(lines).join(LINE_MAPPING);\r\n\tif(lines !== 0 && this.generatedCode[this.generatedCode.length - 1] !== \"\\n\") {\r\n\t\tmappings += LAST_LINE_MAPPING;\r\n\t\tmappingsContext.currentOriginalLine++;\r\n\t}\r\n\treturn mappings;\r\n};\r\n\r\nSourceNode.prototype.mapGeneratedCode = function(fn) {\r\n\tthis.generatedCode = fn(this.generatedCode);\r\n};\r\n"]}