{"version":3,"sources":["SourceListMap.js"],"names":[],"mappings":"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","file":"SourceListMap-compiled.js","sourcesContent":["/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar CodeNode = require(\"./CodeNode\");\r\nvar SourceNode = require(\"./SourceNode\");\r\nvar MappingsContext = require(\"./MappingsContext\");\r\n\r\nfunction SourceListMap(generatedCode, source, originalSource) {\r\n\tif(Array.isArray(generatedCode)) {\r\n\t\tthis.children = generatedCode;\r\n\t} else {\r\n\t\tthis.children = [];\r\n\t\tif(generatedCode || source)\r\n\t\t\tthis.add(generatedCode, source, originalSource);\r\n\t}\r\n}\r\nmodule.exports = SourceListMap;\r\n\r\nSourceListMap.prototype.add = function(generatedCode, source, originalSource) {\r\n\tif(typeof generatedCode === \"string\") {\r\n\t\tif(source) {\r\n\t\t\tthis.children.push(new SourceNode(generatedCode, source, originalSource));\r\n\t\t} else if(this.children.length > 0 && this.children[this.children.length - 1].addGeneratedCode) {\r\n\t\t\tthis.children[this.children.length - 1].addGeneratedCode(generatedCode);\r\n\t\t} else {\r\n\t\t\tthis.children.push(new CodeNode(generatedCode));\r\n\t\t}\r\n\t} else if(generatedCode.getMappings && generatedCode.getGeneratedCode) {\r\n\t\tthis.children.push(generatedCode);\r\n\t} else if(generatedCode.children) {\r\n\t\tgeneratedCode.children.forEach(function(sln) {\r\n\t\t\tthis.children.push(sln);\r\n\t\t}, this);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid arguments to SourceListMap.prototype.add: Expected string, Node or SourceListMap\");\r\n\t}\r\n};\r\n\r\nSourceListMap.prototype.preprend = function(source) {\r\n\tif(typeof generatedCode === \"string\") {\r\n\t\tif(source) {\r\n\t\t\tthis.children.unshift(new SourceNode(generatedCode, source, originalSource));\r\n\t\t} else if(this.children.length > 0 && this.children[this.children.length - 1].preprendGeneratedCode) {\r\n\t\t\tthis.children[this.children.length - 1].preprendGeneratedCode(generatedCode);\r\n\t\t} else {\r\n\t\t\tthis.children.unshift(new CodeNode(generatedCode));\r\n\t\t}\r\n\t} else if(generatedCode.getMappings && generatedCode.getGeneratedCode) {\r\n\t\tthis.children.unshift(generatedCode);\r\n\t} else if(generatedCode.children) {\r\n\t\tgeneratedCode.children.slice().reverse().forEach(function(sln) {\r\n\t\t\tthis.children.unshift(sln);\r\n\t\t}, this);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid arguments to SourceListMap.prototype.prerend: Expected string, Node or SourceListMap\");\r\n\t}\r\n};\r\n\r\nSourceListMap.prototype.mapGeneratedCode = function(fn) {\r\n\tthis.children.forEach(function(sln) {\r\n\t\tsln.mapGeneratedCode(fn);\r\n\t});\r\n};\r\n\r\nSourceListMap.prototype.toString = function() {\r\n\treturn this.children.map(function(sln) {\r\n\t\treturn sln.getGeneratedCode();\r\n\t}).join(\"\");\r\n};\r\n\r\nSourceListMap.prototype.toStringWithSourceMap = function(options) {\r\n\tvar mappingsContext = new MappingsContext();\r\n\tvar source = this.children.map(function(sln) {\r\n\t\treturn sln.generatedCode;\r\n\t}).join(\"\");\r\n\tvar mappings = this.children.map(function(sln) {\r\n\t\treturn sln.getMappings(mappingsContext);\r\n\t}).join(\"\");\r\n\treturn {\r\n\t\tsource: source,\r\n\t\tmap: {\r\n\t\t\tversion: 3,\r\n\t\t\tfile: options && options.file,\r\n\t\t\tsources: mappingsContext.sources,\r\n\t\t\tsourcesContent: mappingsContext.hasSourceContent ? mappingsContext.sourcesContent : undefined,\r\n\t\t\tmappings: mappings\r\n\t\t}\r\n\t};\r\n}\r\n"]}