{"version":3,"sources":["Tapable.js"],"names":[],"mappings":"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","file":"Tapable-compiled.js","sourcesContent":["/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nfunction Tapable() {\r\n\tthis._plugins = {};\r\n}\r\nmodule.exports = Tapable;\r\n\r\nfunction copyProperties(from, to) {\r\n\tfor(var key in from)\r\n\t\tto[key] = from[key];\r\n\treturn to;\r\n}\r\n\r\nTapable.mixin = function mixinTapable(pt) {\r\n\tcopyProperties(Tapable.prototype, pt);\r\n}\r\n\r\nTapable.prototype.applyPlugins = function applyPlugins(name) {\r\n\tif(!this._plugins[name]) return;\r\n\tvar args = Array.prototype.slice.call(arguments, 1);\r\n\tvar plugins = this._plugins[name];\r\n\tvar old = this._currentPluginApply;\r\n\tfor(this._currentPluginApply = 0; this._currentPluginApply < plugins.length; this._currentPluginApply++)\r\n\t\tplugins[this._currentPluginApply].apply(this, args);\r\n\tthis._currentPluginApply = old;\r\n};\r\n\r\nTapable.prototype.applyPluginsWaterfall = function applyPlugins(name, init) {\r\n\tif(!this._plugins[name]) return init;\r\n\tvar args = Array.prototype.slice.call(arguments, 2);\r\n\tvar plugins = this._plugins[name];\r\n\tvar current = init;\r\n\tvar old = this._currentPluginApply;\r\n\tfor(this._currentPluginApply = 0; this._currentPluginApply < plugins.length; this._currentPluginApply++)\r\n\t\tcurrent = plugins[this._currentPluginApply].apply(this, [current].concat(args));\r\n\tthis._currentPluginApply = old;\r\n\treturn current;\r\n};\r\n\r\nTapable.prototype.applyPluginsBailResult = function applyPluginsBailResult(name) {\r\n\tif(!this._plugins[name]) return;\r\n\tvar args = Array.prototype.slice.call(arguments, 1);\r\n\tvar plugins = this._plugins[name];\r\n\tvar old = this._currentPluginApply\r\n\tfor(this._currentPluginApply = 0; this._currentPluginApply < plugins.length; this._currentPluginApply++) {\r\n\t\tvar result = plugins[this._currentPluginApply].apply(this, args);\r\n\t\tif(typeof result !== \"undefined\") {\r\n\t\t\tthis._currentPluginApply = old;\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\r\n\tthis._currentPluginApply = old;\r\n};\r\n\r\nTapable.prototype.applyPluginsAsyncSeries = Tapable.prototype.applyPluginsAsync = function applyPluginsAsync(name) {\r\n\tvar args = Array.prototype.slice.call(arguments, 1);\r\n\tvar callback = args.pop();\r\n\tif(!this._plugins[name] || this._plugins[name].length == 0) return callback();\r\n\tvar plugins = this._plugins[name];\r\n\tvar i = 0;\r\n\targs.push(copyProperties(callback, function next(err) {\r\n\t\tif(err) return callback(err);\r\n\t\ti++;\r\n\t\tif(i >= plugins.length) {\r\n\t\t\treturn callback();\r\n\t\t}\r\n\t\tplugins[i].apply(this, args);\r\n\t}.bind(this)));\r\n\tplugins[0].apply(this, args);\r\n};\r\n\r\nTapable.prototype.applyPluginsAsyncWaterfall = function applyPluginsAsyncWaterfall(name, init, callback) {\r\n\tif(!this._plugins[name] || this._plugins[name].length == 0) return callback(null, init);\r\n\tvar plugins = this._plugins[name];\r\n\tvar i = 0;\r\n\tvar next = copyProperties(callback, function(err, value) {\r\n\t\tif(err) return callback(err);\r\n\t\ti++;\r\n\t\tif(i >= plugins.length) {\r\n\t\t\treturn callback(null, value);\r\n\t\t}\r\n\t\tplugins[i].call(this, value, next);\r\n\t}.bind(this));\r\n\tplugins[0].call(this, init, next);\r\n};\r\n\r\nTapable.prototype.applyPluginsParallel = function applyPluginsParallel(name) {\r\n\tvar args = Array.prototype.slice.call(arguments, 1);\r\n\tvar callback = args.pop();\r\n\tif(!this._plugins[name] || this._plugins[name].length == 0) return callback();\r\n\tvar plugins = this._plugins[name];\r\n\tvar remaining = plugins.length;\r\n\targs.push(copyProperties(callback, function(err) {\r\n\t\tif(remaining < 0) return; // ignore\r\n\t\tif(err) {\r\n\t\t\tremaining = -1;\r\n\t\t\treturn callback(err);\r\n\t\t}\r\n\t\tremaining--;\r\n\t\tif(remaining == 0) {\r\n\t\t\treturn callback();\r\n\t\t}\r\n\t}));\r\n\tfor(var i = 0; i < plugins.length; i++) {\r\n\t\tplugins[i].apply(this, args);\r\n\t\tif(remaining < 0) return;\r\n\t}\r\n};\r\n\r\nTapable.prototype.applyPluginsParallelBailResult = function applyPluginsParallelBailResult(name) {\r\n\tvar args = Array.prototype.slice.call(arguments, 1);\r\n\tvar callback = args[args.length-1];\r\n\tif(!this._plugins[name] || this._plugins[name].length == 0) return callback();\r\n\tvar plugins = this._plugins[name];\r\n\tvar currentPos = plugins.length;\r\n\tvar currentError, currentResult;\r\n\tvar done = [];\r\n\tfor(var i = 0; i < plugins.length; i++) {\r\n\t\targs[args.length-1] = (function(i) {\r\n\t\t\treturn copyProperties(callback, function(err, result) {\r\n\t\t\t\tif(i >= currentPos) return; // ignore\r\n\t\t\t\tdone.push(i);\r\n\t\t\t\tif(err || result) {\r\n\t\t\t\t\tcurrentPos = i + 1;\r\n\t\t\t\t\tdone = done.filter(function(item) {\r\n\t\t\t\t\t\treturn item <= i;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tcurrentError = err;\r\n\t\t\t\t\tcurrentResult = result;\r\n\t\t\t\t}\r\n\t\t\t\tif(done.length == currentPos) {\r\n\t\t\t\t\tcallback(currentError, currentResult);\r\n\t\t\t\t\tcurrentPos = 0;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}(i));\r\n\t\tplugins[i].apply(this, args);\r\n\t}\r\n};\r\n\r\n\r\nTapable.prototype.restartApplyPlugins = function restartApplyPlugins() {\r\n\tif(typeof this._currentPluginApply !== \"number\")\r\n\t\tthrow new Error(\"Tapable.prototype.restartApplyPlugins can only be used inside of any sync plugins application\");\r\n\tthis._currentPluginApply = -1;\r\n};\r\n\r\n\r\nTapable.prototype.plugin = function plugin(name, fn) {\r\n\tif(Array.isArray(name)) {\r\n\t\tname.forEach(function(name) {\r\n\t\t\tthis.plugin(name, fn);\r\n\t\t}, this);\r\n\t\treturn;\r\n\t}\r\n\tif(!this._plugins[name]) this._plugins[name] = [fn];\r\n\telse this._plugins[name].push(fn);\r\n};\r\n\r\nTapable.prototype.apply = function apply() {\r\n\tfor(var i = 0; i < arguments.length; i++) {\r\n\t\targuments[i].apply(this);\r\n\t}\r\n};\r\n"]}