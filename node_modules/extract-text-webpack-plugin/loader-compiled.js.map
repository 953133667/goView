{"version":3,"sources":["loader.js"],"names":[],"mappings":"AAAA;;;;AAIA,IAAI,cAAc,QAAQ,cAAR,CAAlB;AACA,IAAI,qBAAqB,QAAQ,qCAAR,CAAzB;AACA,IAAI,mBAAmB,QAAQ,mCAAR,CAAvB;AACA,IAAI,wBAAwB,QAAQ,mCAAR,CAA5B;AACA,IAAI,oBAAoB,QAAQ,+BAAR,CAAxB;AACA,IAAI,wBAAwB,QAAQ,4CAAR,CAA5B;AACA,OAAO,OAAP,GAAiB,UAAS,MAAT,EAAiB;AACjC,KAAG,KAAK,SAAR,EAAmB,KAAK,SAAL;AACnB,QAAO,MAAP;AACA,CAHD;AAIA,OAAO,OAAP,CAAe,KAAf,GAAuB,UAAS,OAAT,EAAkB;AACxC,KAAG,KAAK,SAAR,EAAmB,KAAK,SAAL;AACnB,KAAI,QAAQ,YAAY,UAAZ,CAAuB,KAAK,KAA5B,CAAZ;AACA,MAAK,aAAL,CAAmB,KAAK,YAAxB;AACA;AACA,KAAG,KAAK,SAAL,MAAoB,SAAvB,EAAkC;AACjC,QAAM,IAAI,KAAJ,CACL,oFACA,uFAFK,CAAN;AAIA,EALD,MAKO,IAAG,KAAK,SAAL,MAAoB,KAAvB,EAA8B;AACpC,SAAO,EAAP;AACA,EAFM,MAEA,IAAG,KAAK,SAAL,EAAgB,IAAhB,EAAsB,KAAtB,CAAH,EAAiC;AACvC,MAAG,MAAM,IAAT,EAAe;AACd,QAAK,WAAL,IAAoB,CAAC,MAAM,IAAP,GAAc,CAAlC;AACA,aAAU,QAAQ,KAAR,CAAc,GAAd,EAAmB,KAAnB,CAAyB,CAAC,MAAM,IAAhC,EAAsC,IAAtC,CAA2C,GAA3C,CAAV;AACA;AACD,MAAI,YAAJ;AACA,MAAG,MAAM,MAAT,EAAiB;AAChB,kBAAe,2CAAf;AACA,GAFD,MAEO;AACN,kBAAe,SAAf;AACA;;AAED,MAAG,MAAM,OAAN,KAAkB,KAArB,EAA4B;AAC3B,OAAI,gBAAgB,6CAApB,CAD2B,CACwC;AACnE,OAAI,aAAa,OAAO,MAAM,UAAb,KAA4B,QAA5B,GAAuC,MAAM,UAA7C,GAA0D,KAAK,YAAL,CAAkB,aAAlB,CAAgC,UAA3G;AACA,OAAI,gBAAgB;AACnB,cAAU,aADS;AAEnB,gBAAY;AAFO,IAApB;AAIA,OAAI,gBAAgB,KAAK,YAAL,CAAkB,mBAAlB,CAAsC,6BAAtC,EAAqE,aAArE,CAApB;AACA,iBAAc,KAAd,CAAoB,IAAI,kBAAJ,CAAuB,aAAvB,CAApB;AACA,iBAAc,KAAd,CAAoB,IAAI,qBAAJ,CAA0B,IAA1B,EAAgC,WAAhC,CAApB;AACA,iBAAc,KAAd,CAAoB,IAAI,gBAAJ,EAApB;AACA,iBAAc,KAAd,CAAoB,IAAI,iBAAJ,CAAsB,KAAK,OAA3B,EAAoC,OAAO,OAA3C,CAApB;AACA,iBAAc,KAAd,CAAoB,IAAI,qBAAJ,CAA0B,EAAE,WAAW,CAAb,EAA1B,CAApB;AACA,OAAI,WAAW,cAAc,SAAd,GAA0B,GAA1B,GAAgC,OAA/C,CAb2B,CAa6B;AACxD,iBAAc,MAAd,CAAqB,aAArB,EAAoC,UAAS,WAAT,EAAsB;AACzD,QAAG,YAAY,KAAf,EAAsB;AACrB,SAAG,CAAC,YAAY,KAAZ,CAAkB,QAAlB,CAAJ,EACC,YAAY,KAAZ,CAAkB,QAAlB,IAA8B,EAA9B;AACD,iBAAY,KAAZ,GAAoB,YAAY,KAAZ,CAAkB,QAAlB,CAApB;AACA;AACD,IAND;AAOA;AACA;AACA,iBAAc,MAAd,CAAqB,kBAArB,EAAyC,UAAS,WAAT,EAAsB;AAC9D,gBAAY,MAAZ,CAAmB,sBAAnB,EAA2C,UAAS,aAAT,EAAwB;AAClE,mBAAc,SAAd,IAA2B,KAA3B;AACA,KAFD;AAGA,IAJD;AAKA,OAAI,MAAJ;AACA,iBAAc,MAAd,CAAqB,eAArB,EAAsC,UAAS,WAAT,EAAsB,QAAtB,EAAgC;AACrE,aAAS,YAAY,MAAZ,CAAmB,aAAnB,KAAqC,YAAY,MAAZ,CAAmB,aAAnB,EAAkC,MAAlC,EAA9C;;AAEA;AACA,gBAAY,MAAZ,CAAmB,OAAnB,CAA2B,UAAS,KAAT,EAAgB;AAC1C,WAAM,KAAN,CAAY,OAAZ,CAAoB,UAAS,IAAT,EAAe;AAClC,aAAO,YAAY,MAAZ,CAAmB,IAAnB,CAAP;AACA,MAFD;AAGA,KAJD;;AAMA;AACA,IAXD;AAYA,OAAI,WAAW,KAAK,KAAL,EAAf;AACA,iBAAc,UAAd,CAAyB,UAAS,GAAT,EAAc,OAAd,EAAuB,WAAvB,EAAoC;AAC5D,QAAG,GAAH,EAAQ,OAAO,SAAS,GAAT,CAAP;;AAER,QAAG,YAAY,MAAZ,CAAmB,MAAnB,GAA4B,CAA/B,EAAkC;AACjC,YAAO,SAAS,YAAY,MAAZ,CAAmB,CAAnB,CAAT,CAAP;AACA;AACD,gBAAY,gBAAZ,CAA6B,OAA7B,CAAqC,UAAS,GAAT,EAAc;AAClD,UAAK,aAAL,CAAmB,GAAnB;AACA,KAFD,EAEG,IAFH;AAGA,gBAAY,mBAAZ,CAAgC,OAAhC,CAAwC,UAAS,GAAT,EAAc;AACrD,UAAK,oBAAL,CAA0B,GAA1B;AACA,KAFD,EAEG,IAFH;AAGA,QAAG,CAAC,MAAJ,EAAY;AACX,YAAO,SAAS,IAAI,KAAJ,CAAU,yCAAV,CAAT,CAAP;AACA;AACD,QAAI;AACH,SAAI,OAAO,KAAK,IAAL,CAAU,MAAV,EAAkB,OAAlB,CAAX;AACA,SAAG,OAAO,IAAP,KAAgB,QAAnB,EACC,OAAO,CAAC,CAAC,CAAD,EAAI,IAAJ,CAAD,CAAP;AACD,UAAK,OAAL,CAAa,UAAS,IAAT,EAAe;AAC3B,UAAI,KAAK,KAAK,CAAL,CAAT;AACA,kBAAY,OAAZ,CAAoB,OAApB,CAA4B,UAAS,MAAT,EAAiB;AAC5C,WAAG,OAAO,EAAP,KAAc,EAAjB,EACC,KAAK,CAAL,IAAU,OAAO,UAAP,EAAV;AACD,OAHD;AAIA,MAND;AAOA,UAAK,SAAL,EAAgB,IAAhB,EAAsB,KAAtB;AACA,SAAG,KAAK,MAAL,IAAe,OAAO,YAAP,KAAwB,WAA1C,EAAuD;AACtD,sBAAgB,wBAAwB,KAAK,SAAL,CAAe,KAAK,MAApB,CAAxB,GAAsD,GAAtE;AACA;AACD,KAfD,CAeE,OAAM,CAAN,EAAS;AACV,YAAO,SAAS,CAAT,CAAP;AACA;AACD,QAAG,YAAH,EACC,SAAS,IAAT,EAAe,YAAf,EADD,KAGC;AACD,IArCwB,CAqCvB,IArCuB,CAqClB,IArCkB,CAAzB;AAsCA,GAhFD,MAgFO;AACN,QAAK,SAAL,EAAgB,EAAhB,EAAoB,KAApB;AACA,UAAO,YAAP;AACA;AACD;AACD,CA7GD","file":"loader-compiled.js","sourcesContent":["/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar loaderUtils = require(\"loader-utils\");\r\nvar NodeTemplatePlugin = require(\"webpack/lib/node/NodeTemplatePlugin\");\r\nvar NodeTargetPlugin = require(\"webpack/lib/node/NodeTargetPlugin\");\r\nvar LibraryTemplatePlugin = require(\"webpack/lib/LibraryTemplatePlugin\");\r\nvar SingleEntryPlugin = require(\"webpack/lib/SingleEntryPlugin\");\r\nvar LimitChunkCountPlugin = require(\"webpack/lib/optimize/LimitChunkCountPlugin\");\r\nmodule.exports = function(source) {\r\n\tif(this.cacheable) this.cacheable();\r\n\treturn source;\r\n};\r\nmodule.exports.pitch = function(request) {\r\n\tif(this.cacheable) this.cacheable();\r\n\tvar query = loaderUtils.parseQuery(this.query);\r\n\tthis.addDependency(this.resourcePath);\r\n\t// We already in child compiler, return empty bundle\r\n\tif(this[__dirname] === undefined) {\r\n\t\tthrow new Error(\r\n\t\t\t'\"extract-text-webpack-plugin\" loader is used without the corresponding plugin, ' +\r\n\t\t\t'refer to https://github.com/webpack/extract-text-webpack-plugin for the usage example'\r\n\t\t);\r\n\t} else if(this[__dirname] === false) {\r\n\t\treturn \"\";\r\n\t} else if(this[__dirname](null, query)) {\r\n\t\tif(query.omit) {\r\n\t\t\tthis.loaderIndex += +query.omit + 1;\r\n\t\t\trequest = request.split(\"!\").slice(+query.omit).join(\"!\");\r\n\t\t}\r\n\t\tvar resultSource;\r\n\t\tif(query.remove) {\r\n\t\t\tresultSource = \"// removed by extract-text-webpack-plugin\";\r\n\t\t} else {\r\n\t\t\tresultSource = undefined;\r\n\t\t}\r\n\r\n\t\tif(query.extract !== false) {\r\n\t\t\tvar childFilename = \"extract-text-webpack-plugin-output-filename\"; // eslint-disable-line no-path-concat\r\n\t\t\tvar publicPath = typeof query.publicPath === \"string\" ? query.publicPath : this._compilation.outputOptions.publicPath;\r\n\t\t\tvar outputOptions = {\r\n\t\t\t\tfilename: childFilename,\r\n\t\t\t\tpublicPath: publicPath\r\n\t\t\t};\r\n\t\t\tvar childCompiler = this._compilation.createChildCompiler(\"extract-text-webpack-plugin\", outputOptions);\r\n\t\t\tchildCompiler.apply(new NodeTemplatePlugin(outputOptions));\r\n\t\t\tchildCompiler.apply(new LibraryTemplatePlugin(null, \"commonjs2\"));\r\n\t\t\tchildCompiler.apply(new NodeTargetPlugin());\r\n\t\t\tchildCompiler.apply(new SingleEntryPlugin(this.context, \"!!\" + request));\r\n\t\t\tchildCompiler.apply(new LimitChunkCountPlugin({ maxChunks: 1 }));\r\n\t\t\tvar subCache = \"subcache \" + __dirname + \" \" + request; // eslint-disable-line no-path-concat\r\n\t\t\tchildCompiler.plugin(\"compilation\", function(compilation) {\r\n\t\t\t\tif(compilation.cache) {\r\n\t\t\t\t\tif(!compilation.cache[subCache])\r\n\t\t\t\t\t\tcompilation.cache[subCache] = {};\r\n\t\t\t\t\tcompilation.cache = compilation.cache[subCache];\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// We set loaderContext[__dirname] = false to indicate we already in\r\n\t\t\t// a child compiler so we don't spawn another child compilers from there.\r\n\t\t\tchildCompiler.plugin(\"this-compilation\", function(compilation) {\r\n\t\t\t\tcompilation.plugin(\"normal-module-loader\", function(loaderContext) {\r\n\t\t\t\t\tloaderContext[__dirname] = false;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tvar source;\r\n\t\t\tchildCompiler.plugin(\"after-compile\", function(compilation, callback) {\r\n\t\t\t\tsource = compilation.assets[childFilename] && compilation.assets[childFilename].source();\r\n\r\n\t\t\t\t// Remove all chunk assets\r\n\t\t\t\tcompilation.chunks.forEach(function(chunk) {\r\n\t\t\t\t\tchunk.files.forEach(function(file) {\r\n\t\t\t\t\t\tdelete compilation.assets[file];\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\tcallback();\r\n\t\t\t});\r\n\t\t\tvar callback = this.async();\r\n\t\t\tchildCompiler.runAsChild(function(err, entries, compilation) {\r\n\t\t\t\tif(err) return callback(err);\r\n\r\n\t\t\t\tif(compilation.errors.length > 0) {\r\n\t\t\t\t\treturn callback(compilation.errors[0]);\r\n\t\t\t\t}\r\n\t\t\t\tcompilation.fileDependencies.forEach(function(dep) {\r\n\t\t\t\t\tthis.addDependency(dep);\r\n\t\t\t\t}, this);\r\n\t\t\t\tcompilation.contextDependencies.forEach(function(dep) {\r\n\t\t\t\t\tthis.addContextDependency(dep);\r\n\t\t\t\t}, this);\r\n\t\t\t\tif(!source) {\r\n\t\t\t\t\treturn callback(new Error(\"Didn't get a result from child compiler\"));\r\n\t\t\t\t}\r\n\t\t\t\ttry {\r\n\t\t\t\t\tvar text = this.exec(source, request);\r\n\t\t\t\t\tif(typeof text === \"string\")\r\n\t\t\t\t\t\ttext = [[0, text]];\r\n\t\t\t\t\ttext.forEach(function(item) {\r\n\t\t\t\t\t\tvar id = item[0];\r\n\t\t\t\t\t\tcompilation.modules.forEach(function(module) {\r\n\t\t\t\t\t\t\tif(module.id === id)\r\n\t\t\t\t\t\t\t\titem[0] = module.identifier();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis[__dirname](text, query);\r\n\t\t\t\t\tif(text.locals && typeof resultSource !== \"undefined\") {\r\n\t\t\t\t\t\tresultSource += \"\\nmodule.exports = \" + JSON.stringify(text.locals) + \";\";\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch(e) {\r\n\t\t\t\t\treturn callback(e);\r\n\t\t\t\t}\r\n\t\t\t\tif(resultSource)\r\n\t\t\t\t\tcallback(null, resultSource);\r\n\t\t\t\telse\r\n\t\t\t\t\tcallback();\r\n\t\t\t}.bind(this));\r\n\t\t} else {\r\n\t\t\tthis[__dirname](\"\", query);\r\n\t\t\treturn resultSource;\r\n\t\t}\r\n\t}\r\n};\r\n"]}