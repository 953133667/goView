{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar ConcatSource = require(\"webpack-sources\").ConcatSource;\r\nvar async = require(\"async\");\r\nvar ExtractedModule = require(\"./ExtractedModule\");\r\nvar Chunk = require(\"webpack/lib/Chunk\");\r\nvar OrderUndefinedError = require(\"./OrderUndefinedError\");\r\nvar loaderUtils = require(\"loader-utils\");\r\n\r\nvar nextId = 0;\r\n\r\nfunction ExtractTextPluginCompilation() {\r\n\tthis.modulesByIdentifier = {};\r\n}\r\n\r\nExtractTextPlugin.prototype.mergeNonInitialChunks = function(chunk, intoChunk, checkedChunks) {\r\n\tif(!intoChunk) {\r\n\t\tcheckedChunks = [];\r\n\t\tchunk.chunks.forEach(function(c) {\r\n\t\t\tif(c.initial) return;\r\n\t\t\tthis.mergeNonInitialChunks(c, chunk, checkedChunks);\r\n\t\t}, this);\r\n\t} else if(checkedChunks.indexOf(chunk) < 0) {\r\n\t\tcheckedChunks.push(chunk);\r\n\t\tchunk.modules.slice().forEach(function(module) {\r\n\t\t\tintoChunk.addModule(module);\r\n\t\t\tmodule.addChunk(intoChunk);\r\n\t\t});\r\n\t\tchunk.chunks.forEach(function(c) {\r\n\t\t\tif(c.initial) return;\r\n\t\t\tthis.mergeNonInitialChunks(c, intoChunk, checkedChunks);\r\n\t\t}, this);\r\n\t}\r\n};\r\n\r\nExtractTextPluginCompilation.prototype.addModule = function(identifier, originalModule, source, additionalInformation, sourceMap, prevModules) {\r\n\tvar m;\r\n\tif(!this.modulesByIdentifier[identifier]) {\r\n\t\tm = this.modulesByIdentifier[identifier] = new ExtractedModule(identifier, originalModule, source, sourceMap, additionalInformation, prevModules);\r\n\t} else {\r\n\t\tm = this.modulesByIdentifier[identifier];\r\n\t\tm.addPrevModules(prevModules);\r\n\t\tif(originalModule.index2 < m.getOriginalModule().index2) {\r\n\t\t\tm.setOriginalModule(originalModule);\r\n\t\t}\r\n\t}\r\n\treturn m;\r\n};\r\n\r\nExtractTextPluginCompilation.prototype.addResultToChunk = function(identifier, result, originalModule, extractedChunk) {\r\n\tif(!Array.isArray(result)) {\r\n\t\tresult = [[identifier, result]];\r\n\t}\r\n\tvar counterMap = {};\r\n\tvar prevModules = [];\r\n\tresult.forEach(function(item) {\r\n\t\tvar c = counterMap[item[0]];\r\n\t\tvar module = this.addModule.call(this, item[0] + (c || \"\"), originalModule, item[1], item[2], item[3], prevModules.slice());\r\n\t\textractedChunk.addModule(module);\r\n\t\tmodule.addChunk(extractedChunk);\r\n\t\tcounterMap[item[0]] = (c || 0) + 1;\r\n\t\tprevModules.push(module);\r\n\t}, this);\r\n};\r\n\r\nExtractTextPlugin.prototype.renderExtractedChunk = function(chunk) {\r\n\tvar source = new ConcatSource();\r\n\tchunk.modules.forEach(function(module) {\r\n\t\tvar moduleSource = module.source();\r\n\t\tsource.add(this.applyAdditionalInformation(moduleSource, module.additionalInformation));\r\n\t}, this);\r\n\treturn source;\r\n};\r\n\r\nfunction isInvalidOrder(a, b) {\r\n\tvar bBeforeA = a.getPrevModules().indexOf(b) >= 0;\r\n\tvar aBeforeB = b.getPrevModules().indexOf(a) >= 0;\r\n\treturn aBeforeB && bBeforeA;\r\n}\r\n\r\nfunction getOrder(a, b) {\r\n\tvar aOrder = a.getOrder();\r\n\tvar bOrder = b.getOrder();\r\n\tif(aOrder < bOrder) return -1;\r\n\tif(aOrder > bOrder) return 1;\r\n\tvar aIndex = a.getOriginalModule().index2;\r\n\tvar bIndex = b.getOriginalModule().index2;\r\n\tif(aIndex < bIndex) return -1;\r\n\tif(aIndex > bIndex) return 1;\r\n\tvar bBeforeA = a.getPrevModules().indexOf(b) >= 0;\r\n\tvar aBeforeB = b.getPrevModules().indexOf(a) >= 0;\r\n\tif(aBeforeB && !bBeforeA) return -1;\r\n\tif(!aBeforeB && bBeforeA) return 1;\r\n\tvar ai = a.identifier();\r\n\tvar bi = b.identifier();\r\n\tif(ai < bi) return -1;\r\n\tif(ai > bi) return 1;\r\n\treturn 0;\r\n}\r\n\r\nfunction ExtractTextPlugin(id, filename, options) {\r\n\tif(typeof filename !== \"string\") {\r\n\t\toptions = filename;\r\n\t\tfilename = id;\r\n\t\tid = ++nextId;\r\n\t}\r\n\tif(!options) options = {};\r\n\tthis.filename = filename;\r\n\tthis.options = options;\r\n\tthis.id = id;\r\n}\r\nmodule.exports = ExtractTextPlugin;\r\n\r\nfunction mergeOptions(a, b) {\r\n\tif(!b) return a;\r\n\tObject.keys(b).forEach(function(key) {\r\n\t\ta[key] = b[key];\r\n\t});\r\n\treturn a;\r\n}\r\n\r\nExtractTextPlugin.loader = function(options) {\r\n\treturn require.resolve(\"./loader\") + (options ? \"?\" + JSON.stringify(options) : \"\");\r\n};\r\n\r\nExtractTextPlugin.extract = function(before, loader, options) {\r\n\tif(typeof loader === \"string\" || Array.isArray(loader)) {\r\n\t\tif(typeof before === \"string\") {\r\n\t\t\tbefore = before.split(\"!\");\r\n\t\t}\r\n\t\treturn [\r\n\t\t\tExtractTextPlugin.loader(mergeOptions({omit: before.length, extract: true, remove: true}, options))\r\n\t\t].concat(before, loader).join(\"!\");\r\n\t} else {\r\n\t\toptions = loader;\r\n\t\tloader = before;\r\n\t\treturn [\r\n\t\t\tExtractTextPlugin.loader(mergeOptions({remove: true}, options))\r\n\t\t].concat(loader).join(\"!\");\r\n\t}\r\n};\r\n\r\nExtractTextPlugin.prototype.applyAdditionalInformation = function(source, info) {\r\n\tif(info) {\r\n\t\treturn new ConcatSource(\r\n\t\t\t\"@media \" + info[0] + \" {\",\r\n\t\t\tsource,\r\n\t\t\t\"}\"\r\n\t\t);\r\n\t}\r\n\treturn source;\r\n};\r\n\r\nExtractTextPlugin.prototype.loader = function(options) {\r\n\toptions = JSON.parse(JSON.stringify(options || {}));\r\n\toptions.id = this.id;\r\n\treturn ExtractTextPlugin.loader(options);\r\n};\r\n\r\nExtractTextPlugin.prototype.extract = function(before, loader, options) {\r\n\tif(typeof loader === \"string\" || Array.isArray(loader)) {\r\n\t\tif(typeof before === \"string\") {\r\n\t\t\tbefore = before.split(\"!\");\r\n\t\t}\r\n\t\treturn [\r\n\t\t\tthis.loader(mergeOptions({omit: before.length, extract: true, remove: true}, options))\r\n\t\t].concat(before, loader).join(\"!\");\r\n\t} else {\r\n\t\toptions = loader;\r\n\t\tloader = before;\r\n\t\treturn [\r\n\t\t\tthis.loader(mergeOptions({remove: true}, options))\r\n\t\t].concat(loader).join(\"!\");\r\n\t}\r\n};\r\n\r\nExtractTextPlugin.prototype.apply = function(compiler) {\r\n\tvar options = this.options;\r\n\tcompiler.plugin(\"this-compilation\", function(compilation) {\r\n\t\tvar extractCompilation = new ExtractTextPluginCompilation();\r\n\t\tcompilation.plugin(\"normal-module-loader\", function(loaderContext, module) {\r\n\t\t\tloaderContext[__dirname] = function(content, opt) {\r\n\t\t\t\tif(options.disable)\r\n\t\t\t\t\treturn false;\r\n\t\t\t\tif(!Array.isArray(content) && content !== null)\r\n\t\t\t\t\tthrow new Error(\"Exported value is not a string.\");\r\n\t\t\t\tmodule.meta[__dirname] = {\r\n\t\t\t\t\tcontent: content,\r\n\t\t\t\t\toptions: opt || {}\r\n\t\t\t\t};\r\n\t\t\t\treturn options.allChunks || module.meta[__dirname + \"/extract\"]; // eslint-disable-line no-path-concat\r\n\t\t\t};\r\n\t\t});\r\n\t\tvar filename = this.filename;\r\n\t\tvar id = this.id;\r\n\t\tvar extractedChunks, entryChunks, initialChunks;\r\n\t\tcompilation.plugin(\"optimize\", function() {\r\n\t\t\tentryChunks = compilation.chunks.filter(function(c) {\r\n\t\t\t\treturn c.entry;\r\n\t\t\t});\r\n\t\t\tinitialChunks = compilation.chunks.filter(function(c) {\r\n\t\t\t\treturn c.initial;\r\n\t\t\t});\r\n\t\t});\r\n\t\tcompilation.plugin(\"optimize-tree\", function(chunks, modules, callback) {\r\n\t\t\textractedChunks = chunks.map(function() {\r\n\t\t\t\treturn new Chunk();\r\n\t\t\t});\r\n\t\t\tchunks.forEach(function(chunk, i) {\r\n\t\t\t\tvar extractedChunk = extractedChunks[i];\r\n\t\t\t\textractedChunk.index = i;\r\n\t\t\t\textractedChunk.originalChunk = chunk;\r\n\t\t\t\textractedChunk.name = chunk.name;\r\n\t\t\t\textractedChunk.entry = chunk.entry;\r\n\t\t\t\textractedChunk.initial = chunk.initial;\r\n\t\t\t\tchunk.chunks.forEach(function(c) {\r\n\t\t\t\t\textractedChunk.addChunk(extractedChunks[chunks.indexOf(c)]);\r\n\t\t\t\t});\r\n\t\t\t\tchunk.parents.forEach(function(c) {\r\n\t\t\t\t\textractedChunk.addParent(extractedChunks[chunks.indexOf(c)]);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tentryChunks.forEach(function(chunk) {\r\n\t\t\t\tvar idx = chunks.indexOf(chunk);\r\n\t\t\t\tif(idx < 0) return;\r\n\t\t\t\tvar extractedChunk = extractedChunks[idx];\r\n\t\t\t\textractedChunk.entry = true;\r\n\t\t\t});\r\n\t\t\tinitialChunks.forEach(function(chunk) {\r\n\t\t\t\tvar idx = chunks.indexOf(chunk);\r\n\t\t\t\tif(idx < 0) return;\r\n\t\t\t\tvar extractedChunk = extractedChunks[idx];\r\n\t\t\t\textractedChunk.initial = true;\r\n\t\t\t});\r\n\t\t\tasync.forEach(chunks, function(chunk, callback) {\r\n\t\t\t\tvar extractedChunk = extractedChunks[chunks.indexOf(chunk)];\r\n\t\t\t\tvar shouldExtract = !!(options.allChunks || chunk.initial);\r\n\t\t\t\tasync.forEach(chunk.modules.slice(), function(module, callback) {\r\n\t\t\t\t\tvar meta = module.meta && module.meta[__dirname];\r\n\t\t\t\t\tif(meta && (!meta.options.id || meta.options.id === id)) {\r\n\t\t\t\t\t\tvar wasExtracted = Array.isArray(meta.content);\r\n\t\t\t\t\t\tif(shouldExtract !== wasExtracted) {\r\n\t\t\t\t\t\t\tmodule.meta[__dirname + \"/extract\"] = shouldExtract; // eslint-disable-line no-path-concat\r\n\t\t\t\t\t\t\tcompilation.rebuildModule(module, function(err) {\r\n\t\t\t\t\t\t\t\tif(err) {\r\n\t\t\t\t\t\t\t\t\tcompilation.errors.push(err);\r\n\t\t\t\t\t\t\t\t\treturn callback();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tmeta = module.meta[__dirname];\r\n\t\t\t\t\t\t\t\tif(!Array.isArray(meta.content)) {\r\n\t\t\t\t\t\t\t\t\terr = new Error(module.identifier() + \" doesn't export content\");\r\n\t\t\t\t\t\t\t\t\tcompilation.errors.push(err);\r\n\t\t\t\t\t\t\t\t\treturn callback();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(meta.content)\r\n\t\t\t\t\t\t\t\t\textractCompilation.addResultToChunk(module.identifier(), meta.content, module, extractedChunk);\r\n\t\t\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif(meta.content)\r\n\t\t\t\t\t\t\t\textractCompilation.addResultToChunk(module.identifier(), meta.content, module, extractedChunk);\r\n\t\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else callback();\r\n\t\t\t\t}, function(err) {\r\n\t\t\t\t\tif(err) return callback(err);\r\n\t\t\t\t\tcallback();\r\n\t\t\t\t});\r\n\t\t\t}, function(err) {\r\n\t\t\t\tif(err) return callback(err);\r\n\t\t\t\textractedChunks.forEach(function(extractedChunk) {\r\n\t\t\t\t\tif(extractedChunk.initial)\r\n\t\t\t\t\t\tthis.mergeNonInitialChunks(extractedChunk);\r\n\t\t\t\t}, this);\r\n\t\t\t\textractedChunks.forEach(function(extractedChunk) {\r\n\t\t\t\t\tif(!extractedChunk.initial) {\r\n\t\t\t\t\t\textractedChunk.modules.forEach(function(module) {\r\n\t\t\t\t\t\t\textractedChunk.removeModule(module);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tcompilation.applyPlugins(\"optimize-extracted-chunks\", extractedChunks);\r\n\t\t\t\tcallback();\r\n\t\t\t}.bind(this));\r\n\t\t}.bind(this));\r\n\t\tcompilation.plugin(\"additional-assets\", function(callback) {\r\n\t\t\textractedChunks.forEach(function(extractedChunk) {\r\n\t\t\t\tif(extractedChunk.modules.length) {\r\n\t\t\t\t\textractedChunk.modules.sort(function(a, b) {\r\n\t\t\t\t\t\tif(isInvalidOrder(a, b)) {\r\n\t\t\t\t\t\t\tcompilation.errors.push(new OrderUndefinedError(a.getOriginalModule()));\r\n\t\t\t\t\t\t\tcompilation.errors.push(new OrderUndefinedError(b.getOriginalModule()));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn getOrder(a, b);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tvar chunk = extractedChunk.originalChunk;\r\n\t\t\t\t\tvar source = this.renderExtractedChunk(extractedChunk);\r\n\t\t\t\t\tvar file = compilation.getPath(filename, {\r\n\t\t\t\t\t\tchunk: chunk\r\n\t\t\t\t\t}).replace(/\\[(?:(\\w+):)?contenthash(?::([a-z]+\\d*))?(?::(\\d+))?\\]/ig, function() {\r\n\t\t\t\t\t\treturn loaderUtils.getHashDigest(source.source(), arguments[1], arguments[2], parseInt(arguments[3], 10));\r\n\t\t\t\t\t});\r\n\t\t\t\t\tcompilation.assets[file] = source;\r\n\t\t\t\t\tchunk.files.push(file);\r\n\t\t\t\t}\r\n\t\t\t}, this);\r\n\t\t\tcallback();\r\n\t\t}.bind(this));\r\n\t}.bind(this));\r\n};\r\n"]}