{"version":3,"sources":["parse.js"],"names":[],"mappings":"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","file":"parse-compiled.js","sourcesContent":["var parse = require('../');\nvar test = require('tape');\n\ntest('parse args', function (t) {\n    t.deepEqual(\n        parse([ '--no-moo' ]),\n        { moo : false, _ : [] },\n        'no'\n    );\n    t.deepEqual(\n        parse([ '-v', 'a', '-v', 'b', '-v', 'c' ]),\n        { v : ['a','b','c'], _ : [] },\n        'multi'\n    );\n    t.end();\n});\n \ntest('comprehensive', function (t) {\n    t.deepEqual(\n        parse([\n            '--name=meowmers', 'bare', '-cats', 'woo',\n            '-h', 'awesome', '--multi=quux',\n            '--key', 'value',\n            '-b', '--bool', '--no-meep', '--multi=baz',\n            '--', '--not-a-flag', 'eek'\n        ]),\n        {\n            c : true,\n            a : true,\n            t : true,\n            s : 'woo',\n            h : 'awesome',\n            b : true,\n            bool : true,\n            key : 'value',\n            multi : [ 'quux', 'baz' ],\n            meep : false,\n            name : 'meowmers',\n            _ : [ 'bare', '--not-a-flag', 'eek' ]\n        }\n    );\n    t.end();\n});\n\ntest('flag boolean', function (t) {\n    var argv = parse([ '-t', 'moo' ], { boolean: 't' });\n    t.deepEqual(argv, { t : true, _ : [ 'moo' ] });\n    t.deepEqual(typeof argv.t, 'boolean');\n    t.end();\n});\n\ntest('flag boolean value', function (t) {\n    var argv = parse(['--verbose', 'false', 'moo', '-t', 'true'], {\n        boolean: [ 't', 'verbose' ],\n        default: { verbose: true }\n    });\n    \n    t.deepEqual(argv, {\n        verbose: false,\n        t: true,\n        _: ['moo']\n    });\n    \n    t.deepEqual(typeof argv.verbose, 'boolean');\n    t.deepEqual(typeof argv.t, 'boolean');\n    t.end();\n});\n\ntest('newlines in params' , function (t) {\n    var args = parse([ '-s', \"X\\nX\" ])\n    t.deepEqual(args, { _ : [], s : \"X\\nX\" });\n    \n    // reproduce in bash:\n    // VALUE=\"new\n    // line\"\n    // node program.js --s=\"$VALUE\"\n    args = parse([ \"--s=X\\nX\" ])\n    t.deepEqual(args, { _ : [], s : \"X\\nX\" });\n    t.end();\n});\n\ntest('strings' , function (t) {\n    var s = parse([ '-s', '0001234' ], { string: 's' }).s;\n    t.equal(s, '0001234');\n    t.equal(typeof s, 'string');\n    \n    var x = parse([ '-x', '56' ], { string: 'x' }).x;\n    t.equal(x, '56');\n    t.equal(typeof x, 'string');\n    t.end();\n});\n\ntest('stringArgs', function (t) {\n    var s = parse([ '  ', '  ' ], { string: '_' })._;\n    t.same(s.length, 2);\n    t.same(typeof s[0], 'string');\n    t.same(s[0], '  ');\n    t.same(typeof s[1], 'string');\n    t.same(s[1], '  ');\n    t.end();\n});\n\ntest('empty strings', function(t) {\n    var s = parse([ '-s' ], { string: 's' }).s;\n    t.equal(s, '');\n    t.equal(typeof s, 'string');\n\n    var str = parse([ '--str' ], { string: 'str' }).str;\n    t.equal(str, '');\n    t.equal(typeof str, 'string');\n\n    var letters = parse([ '-art' ], {\n        string: [ 'a', 't' ]\n    });\n\n    t.equal(letters.a, '');\n    t.equal(letters.r, true);\n    t.equal(letters.t, '');\n\n    t.end();\n});\n\n\ntest('string and alias', function(t) {\n    var x = parse([ '--str',  '000123' ], {\n        string: 's',\n        alias: { s: 'str' }\n    });\n\n    t.equal(x.str, '000123');\n    t.equal(typeof x.str, 'string');\n    t.equal(x.s, '000123');\n    t.equal(typeof x.s, 'string');\n\n    var y = parse([ '-s',  '000123' ], {\n        string: 'str',\n        alias: { str: 's' }\n    });\n\n    t.equal(y.str, '000123');\n    t.equal(typeof y.str, 'string');\n    t.equal(y.s, '000123');\n    t.equal(typeof y.s, 'string');\n    t.end();\n});\n\ntest('slashBreak', function (t) {\n    t.same(\n        parse([ '-I/foo/bar/baz' ]),\n        { I : '/foo/bar/baz', _ : [] }\n    );\n    t.same(\n        parse([ '-xyz/foo/bar/baz' ]),\n        { x : true, y : true, z : '/foo/bar/baz', _ : [] }\n    );\n    t.end();\n});\n\ntest('alias', function (t) {\n    var argv = parse([ '-f', '11', '--zoom', '55' ], {\n        alias: { z: 'zoom' }\n    });\n    t.equal(argv.zoom, 55);\n    t.equal(argv.z, argv.zoom);\n    t.equal(argv.f, 11);\n    t.end();\n});\n\ntest('multiAlias', function (t) {\n    var argv = parse([ '-f', '11', '--zoom', '55' ], {\n        alias: { z: [ 'zm', 'zoom' ] }\n    });\n    t.equal(argv.zoom, 55);\n    t.equal(argv.z, argv.zoom);\n    t.equal(argv.z, argv.zm);\n    t.equal(argv.f, 11);\n    t.end();\n});\n\ntest('nested dotted objects', function (t) {\n    var argv = parse([\n        '--foo.bar', '3', '--foo.baz', '4',\n        '--foo.quux.quibble', '5', '--foo.quux.o_O',\n        '--beep.boop'\n    ]);\n    \n    t.same(argv.foo, {\n        bar : 3,\n        baz : 4,\n        quux : {\n            quibble : 5,\n            o_O : true\n        }\n    });\n    t.same(argv.beep, { boop : true });\n    t.end();\n});\n"]}