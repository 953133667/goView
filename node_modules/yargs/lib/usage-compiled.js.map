{"version":3,"sources":["usage.js"],"names":[],"mappings":"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","file":"usage-compiled.js","sourcesContent":["// this file handles outputting usage instructions,\n// failures, etc. keeps logging in one place.\nvar cliui = require('cliui'),\n  decamelize = require('decamelize'),\n  wsize = require('window-size')\n\nmodule.exports = function (yargs) {\n  var self = {}\n\n  // methods for ouputting/building failure message.\n  var fails = []\n  self.failFn = function (f) {\n    fails.push(f)\n  }\n\n  var failMessage = null\n  var showHelpOnFail = true\n  self.showHelpOnFail = function (enabled, message) {\n    if (typeof enabled === 'string') {\n      message = enabled\n      enabled = true\n    } else if (typeof enabled === 'undefined') {\n      enabled = true\n    }\n    failMessage = message\n    showHelpOnFail = enabled\n    return self\n  }\n\n  self.fail = function (msg) {\n    if (fails.length) {\n      fails.forEach(function (f) {\n        f(msg)\n      })\n    } else {\n      if (showHelpOnFail) yargs.showHelp('error')\n      if (msg) console.error(msg)\n      if (failMessage) {\n        if (msg) console.error('')\n        console.error(failMessage)\n      }\n      if (yargs.getExitProcess()) {\n        process.exit(1)\n      } else {\n        throw new Error(msg)\n      }\n    }\n  }\n\n  // methods for ouputting/building help (usage) message.\n  var usage\n  self.usage = function (msg) {\n    usage = msg\n  }\n\n  var examples = []\n  self.example = function (cmd, description) {\n    examples.push([cmd, description || ''])\n  }\n\n  var commands = []\n  self.command = function (cmd, description) {\n    commands.push([cmd, description || ''])\n  }\n  self.getCommands = function () {\n    return commands\n  }\n\n  var descriptions = {}\n  self.describe = function (key, desc) {\n    if (typeof key === 'object') {\n      Object.keys(key).forEach(function (k) {\n        self.describe(k, key[k])\n      })\n    } else {\n      descriptions[key] = desc\n    }\n  }\n  self.getDescriptions = function () {\n    return descriptions\n  }\n\n  var epilog\n  self.epilog = function (msg) {\n    epilog = msg\n  }\n\n  var wrap = windowWidth()\n  self.wrap = function (cols) {\n    wrap = cols\n  }\n\n  self.help = function () {\n    normalizeAliases()\n\n    var demanded = yargs.getDemanded(),\n      options = yargs.getOptions(),\n      keys = Object.keys(\n        Object.keys(descriptions)\n        .concat(Object.keys(demanded))\n        .concat(Object.keys(options.default))\n        .reduce(function (acc, key) {\n          if (key !== '_') acc[key] = true\n          return acc\n        }, {})\n      ),\n      ui = cliui({\n        width: wrap,\n        wrap: !!wrap\n      })\n\n    // the usage string.\n    if (usage) {\n      var u = usage.replace(/\\$0/g, yargs.$0)\n      ui.div(u + '\\n')\n    }\n\n    // your application's commands, i.e., non-option\n    // arguments populated in '_'.\n    if (commands.length) {\n      ui.div('Commands:')\n\n      commands.forEach(function (command) {\n        ui.div(\n          {text: command[0], padding: [0, 2, 0, 2], width: maxWidth(commands) + 4},\n          {text: command[1]}\n        )\n      })\n\n      ui.div()\n    }\n\n    // the options table.\n    var aliasKeys = (Object.keys(options.alias) || [])\n      .concat(Object.keys(yargs.parsed.newAliases) || [])\n\n    keys = keys.filter(function (key) {\n      return !yargs.parsed.newAliases[key] && aliasKeys.every(function (alias) {\n        return (options.alias[alias] || []).indexOf(key) === -1\n      })\n    })\n\n    var switches = keys.reduce(function (acc, key) {\n      acc[key] = [ key ].concat(options.alias[key] || [])\n      .map(function (sw) {\n        return (sw.length > 1 ? '--' : '-') + sw\n      })\n      .join(', ')\n\n      return acc\n    }, {})\n\n    if (keys.length) {\n      ui.div('Options:')\n\n      keys.forEach(function (key) {\n        var kswitch = switches[key]\n        var desc = descriptions[key] || ''\n        var type = null\n\n        if (~options.boolean.indexOf(key)) type = '[boolean]'\n        if (~options.count.indexOf(key)) type = '[count]'\n        if (~options.string.indexOf(key)) type = '[string]'\n        if (~options.normalize.indexOf(key)) type = '[string]'\n        if (~options.array.indexOf(key)) type = '[array]'\n\n        var extra = [\n            type,\n            demanded[key] ? '[required]' : null,\n            defaultString(options.default[key], options.defaultDescription[key])\n          ].filter(Boolean).join(' ')\n\n        ui.span(\n          {text: kswitch, padding: [0, 2, 0, 2], width: maxWidth(switches) + 4},\n          desc\n        )\n\n        if (extra) ui.div({text: extra, padding: [0, 0, 0, 2], align: 'right'})\n        else ui.div()\n      })\n\n      ui.div()\n    }\n\n    // describe some common use-cases for your application.\n    if (examples.length) {\n      ui.div('Examples:')\n\n      examples.forEach(function (example) {\n        example[0] = example[0].replace(/\\$0/g, yargs.$0)\n      })\n\n      examples.forEach(function (example) {\n        ui.div(\n          {text: example[0], padding: [0, 2, 0, 2], width: maxWidth(examples) + 4},\n          example[1]\n        )\n      })\n\n      ui.div()\n    }\n\n    // the usage string.\n    if (epilog) {\n      var e = epilog.replace(/\\$0/g, yargs.$0)\n      ui.div(e + '\\n')\n    }\n\n    return ui.toString()\n  }\n\n  // return the maximum width of a string\n  // in the left-hand column of a table.\n  function maxWidth (table) {\n    var width = 0\n\n    // table might be of the form [leftColumn],\n    // or {key: leftColumn}}\n    if (!Array.isArray(table)) {\n      table = Object.keys(table).map(function (key) {\n        return [table[key]]\n      })\n    }\n\n    table.forEach(function (v) {\n      width = Math.max(v[0].length, width)\n    })\n\n    // if we've enabled 'wrap' we should limit\n    // the max-width of the left-column.\n    if (wrap) width = Math.min(width, parseInt(wrap * 0.5, 10))\n\n    return width\n  }\n\n  // make sure any options set for aliases,\n  // are copied to the keys being aliased.\n  function normalizeAliases () {\n    var options = yargs.getOptions(),\n    demanded = yargs.getDemanded()\n\n    ;(Object.keys(options.alias) || []).forEach(function (key) {\n      options.alias[key].forEach(function (alias) {\n        // copy descriptions.\n        if (descriptions[alias]) self.describe(key, descriptions[alias])\n        // copy demanded.\n        if (demanded[alias]) yargs.demand(key, demanded[alias].msg)\n\n        // type messages.\n        if (~options.boolean.indexOf(alias)) yargs.boolean(key)\n        if (~options.count.indexOf(alias)) yargs.count(key)\n        if (~options.string.indexOf(alias)) yargs.string(key)\n        if (~options.normalize.indexOf(alias)) yargs.normalize(key)\n        if (~options.array.indexOf(alias)) yargs.array(key)\n      })\n    })\n  }\n\n  self.showHelp = function (level) {\n    level = level || 'error'\n    console[level](self.help())\n  }\n\n  self.functionDescription = function (fn, defaultDescription) {\n    if (defaultDescription) {\n      return defaultDescription\n    }\n    var description = fn.name ? decamelize(fn.name, '-') : 'generated-value'\n    return ['(', description, ')'].join('')\n  }\n\n  // format the default-value-string displayed in\n  // the right-hand column.\n  function defaultString (value, defaultDescription) {\n    var string = '[default: '\n\n    if (value === undefined) return null\n\n    if (defaultDescription) {\n      string += defaultDescription\n    } else {\n      switch (typeof value) {\n        case 'string':\n          string += JSON.stringify(value)\n          break\n        case 'object':\n          string += JSON.stringify(value)\n          break\n        default:\n          string += value\n      }\n    }\n\n    return string + ']'\n  }\n\n  // guess the width of the console window, max-width 80.\n  function windowWidth () {\n    return wsize.width ? Math.min(80, wsize.width) : null\n  }\n\n  // logic for displaying application version.\n  var version = null\n  self.version = function (ver, opt, msg) {\n    version = ver\n  }\n\n  self.showVersion = function () {\n    if (typeof version === 'function') console.log(version())\n    else console.log(version)\n  }\n\n  return self\n}\n"]}