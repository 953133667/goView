{"version":3,"sources":["NormalModuleMixin.js"],"names":[],"mappings":"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","file":"NormalModuleMixin-compiled.js","sourcesContent":["/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar RawSource = require(\"./RawSource\");\r\nvar OriginalSource = require(\"./OriginalSource\");\r\nvar SourceMapSource = require(\"./SourceMapSource\");\r\nvar LineToLineMappedSource = require(\"./LineToLineMappedSource\");\r\nvar path = require(\"path\"); // TODO refactor\r\n\r\nvar ModuleBuildError = require(\"./ModuleBuildError\");\r\nvar ModuleError = require(\"./ModuleError\");\r\nvar ModuleWarning = require(\"./ModuleWarning\");\r\n\r\nfunction utf8BufferToString(buf) {\r\n\tvar str = buf.toString(\"utf-8\");\r\n\tif(str.charCodeAt(0) === 0xFEFF) {\r\n\t\treturn str.substr(1);\r\n\t} else {\r\n\t\treturn str;\r\n\t}\r\n}\r\n\r\nfunction NormalModuleMixin(loaders, resource) {\r\n\tthis.resource = resource;\r\n\tthis.loaders = loaders;\r\n\tvar resourcePath = this.splitQuery(this.resource)[0];\r\n\tthis.context = resourcePath ? path.dirname(resourcePath) : null;\r\n\tthis.fileDependencies = [];\r\n\tthis.contextDependencies = [];\r\n\tthis.warnings = [];\r\n\tthis.errors = [];\r\n\tthis.error = null;\r\n\tthis._source = null;\r\n}\r\nmodule.exports = NormalModuleMixin;\r\n\r\nNormalModuleMixin.mixin = function(pt) {\r\n\tfor(var name in NormalModuleMixin.prototype)\r\n\t\tpt[name] = NormalModuleMixin.prototype[name];\r\n};\r\n\r\nNormalModuleMixin.prototype.splitQuery = function splitQuery(req) {\r\n\tvar i = req.indexOf(\"?\");\r\n\tif(i < 0) return [req, \"\"];\r\n\treturn [req.substr(0, i), req.substr(i)];\r\n};\r\n\r\nNormalModuleMixin.prototype.doBuild = function doBuild(options, moduleContext, resolver, fs, callback) {\r\n\tvar splitQuery = this.splitQuery.bind(this);\r\n\tvar module = this;\r\n\tthis.cacheable = true;\r\n\r\n\t// Prepare context\r\n\tvar loaders = [];\r\n\tfunction addLoaderToList(loader) {\r\n\t\tvar l = splitQuery(loader);\r\n\t\tloaders.push({\r\n\t\t\trequest: loader,\r\n\t\t\tpath: l[0],\r\n\t\t\tquery: l[1],\r\n\t\t\tmodule: null\r\n\t\t});\r\n\t}\r\n\tthis.loaders.forEach(addLoaderToList);\r\n\tvar loaderContextCacheable;\r\n\tvar loaderContext = {\r\n\t\tversion: 1,\r\n\t\tcontext: this.context,\r\n\t\tloaders: loaders,\r\n\t\tloaderIndex: 0,\r\n\t\tresource: this.resource,\r\n\t\tresourcePath: splitQuery(this.resource)[0],\r\n\t\tresourceQuery: this.resource ? splitQuery(this.resource)[1] || null : undefined,\r\n\t\temitWarning: function(warning) {\r\n\t\t\tthis.warnings.push(new ModuleWarning(this, warning));\r\n\t\t}.bind(this),\r\n\t\temitError: function(error) {\r\n\t\t\tthis.errors.push(new ModuleError(this, error));\r\n\t\t}.bind(this),\r\n\t\texec: function(code, filename) {\r\n\t\t\tif(typeof __webpack_modules__ === \"undefined\") {\r\n\t\t\t\t// TODO: check if in enhanced-require\r\n\t\t\t\tvar Module = require(\"module\");\r\n\t\t\t\tvar m = new Module(filename, module);\r\n\t\t\t\tm.paths = Module._nodeModulePaths(loaderContext.context);\r\n\t\t\t\tm.filename = filename;\r\n\t\t\t\tm._compile(code, filename);\r\n\t\t\t\treturn m.exports;\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error(\"loaderContext.exec is not supported\");\r\n\t\t\t}\r\n\t\t},\r\n\t\tresolve: function(context, request, callback) {\r\n\t\t\tresolver.resolve(context, request, callback);\r\n\t\t},\r\n\t\tresolveSync: function(context, request) {\r\n\t\t\treturn resolver.resolveSync(context, request);\r\n\t\t},\r\n\t\tcacheable: function(flag) {\r\n\t\t\tloaderContextCacheable = flag !== false;\r\n\t\t},\r\n\t\tdependency: function(file) {\r\n\t\t\tthis.fileDependencies.push(file);\r\n\t\t}.bind(this),\r\n\t\taddDependency: function(file) {\r\n\t\t\tthis.fileDependencies.push(file);\r\n\t\t}.bind(this),\r\n\t\taddContextDependency: function(context) {\r\n\t\t\tthis.contextDependencies.push(context);\r\n\t\t}.bind(this),\r\n\t\tclearDependencies: function() {\r\n\t\t\tthis.fileDependencies.length = 0;\r\n\t\t\tthis.contextDependencies.length = 0;\r\n\t\t\tmodule.cacheable = true;\r\n\t\t}.bind(this),\r\n\t\tinputValue: undefined,\r\n\t\tvalue: null,\r\n\t\toptions: options,\r\n\t\tdebug: options.debug\r\n\t};\r\n\tthis.fillLoaderContext(loaderContext, options, moduleContext);\r\n\tif(options.loader) for(var key in options.loader)\r\n\t\tloaderContext[key] = options.loader[key];\r\n\r\n\r\n\tfunction runSyncOrAsync(fn, context, args, callback) {\r\n\t\tvar isSync = true;\r\n\t\tvar isDone = false;\r\n\t\tvar isError = false; // internal error\r\n\t\tvar reportedError = false;\r\n\t\tif(!context.async) context.async = function async() {\r\n\t\t\tif(isDone) {\r\n\t\t\t\tif(reportedError) return; // ignore\r\n\t\t\t\tthrow new Error(\"async(): The callback was already called.\");\r\n\t\t\t}\r\n\t\t\tisSync = false;\r\n\t\t\treturn context.callback;\r\n\t\t};\r\n\t\tcontext.callback = function() {\r\n\t\t\tif(isDone) {\r\n\t\t\t\tif(reportedError) return; // ignore\r\n\t\t\t\tthrow new Error(\"callback(): The callback was already called.\");\r\n\t\t\t}\r\n\t\t\tisDone = true;\r\n\t\t\tisSync = false;\r\n\t\t\ttry {\r\n\t\t\t\tcallback.apply(null, arguments);\r\n\t\t\t} catch(e) {\r\n\t\t\t\tisError = true;\r\n\t\t\t\tthrow e;\r\n\t\t\t}\r\n\t\t};\r\n\t\ttry {\r\n\t\t\tvar result = (function WEBPACK_CORE_LOADER_EXECUTION() { return fn.apply(context, args) }());\r\n\t\t\tif(isSync) {\r\n\t\t\t\tisDone = true;\r\n\t\t\t\tif(result === undefined)\r\n\t\t\t\t\treturn callback();\r\n\t\t\t\treturn callback(null, result);\r\n\t\t\t}\r\n\t\t} catch(e) {\r\n\t\t\tif(isError) throw e;\r\n\t\t\tif(isDone) {\r\n\t\t\t\t// loader is already \"done\", so we cannot use the callback function\r\n\t\t\t\t// for better debugging we print the error on the console\r\n\t\t\t\tif(typeof e === \"object\" && e.stack) console.error(e.stack);\r\n\t\t\t\telse console.error(e);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tisDone = true;\r\n\t\t\treportedError = true;\r\n\t\t\tcallback(e);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// Load and pitch loaders\r\n\t(function loadPitch() {\r\n\t\tvar l = loaderContext.loaders[loaderContext.loaderIndex];\r\n\t\tif(!l) {\r\n\t\t\treturn onLoadPitchDone.call(this);\r\n\t\t}\r\n\t\tif(l.module) {\r\n\t\t\tloaderContext.loaderIndex++;\r\n\t\t\treturn loadPitch.call(this);\r\n\t\t}\r\n\t\tif(typeof __webpack_modules__ === \"undefined\") {\r\n\t\t\tif(require.supportQuery) {\r\n\t\t\t\tl.module = require(l.request);\r\n\t\t\t} else {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tl.module = require(l.path);\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\t// it is possible for node to choke on a require if the FD descriptor\r\n\t\t\t\t\t// limit has been reached. give it a chance to recover.\r\n\t\t\t\t\tif (e instanceof Error && e.code === 'EMFILE') {\r\n\t\t\t\t\t\tif (typeof setImmediate === 'function') {\r\n\t\t\t\t\t\t\t// node >= 0.9.0\r\n\t\t\t\t\t\t\treturn setImmediate(loadPitch.bind(this));\r\n\t\t\t\t\t\t} else  {\r\n\t\t\t\t\t\t\t// node < 0.9.0\r\n\t\t\t\t\t\t\treturn process.nextTick(loadPitch.bind(this));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn callback(e)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if(typeof __webpack_require_loader__ === \"function\") {\r\n\t\t\tl.module = __webpack_require_loader__(l.request);\r\n\t\t} else {\r\n\t\t\treturn callback(new Error(\"Cannot load loader, __webpack_require_loader__ not provided.\"));\r\n\t\t}\r\n\t\tif(typeof l.module !== \"function\")\r\n\t\t\treturn callback(new Error(\"Loader \" + l.request + \" didn't return a function\"));\r\n\t\tvar pitchedLoaders = [];\r\n\t\tvar remaining = [];\r\n\t\tfor(var i = 0; i < loaderContext.loaderIndex; i++)\r\n\t\t\tpitchedLoaders.push(loaderContext.loaders[i].request);\r\n\t\tfor(i = loaderContext.loaderIndex + 1; i < loaderContext.loaders.length; i++)\r\n\t\t\tremaining.push(loaderContext.loaders[i].request);\r\n\t\tremaining.push(loaderContext.resource);\r\n\t\tif(typeof l.module.pitch !== \"function\") return loadPitch.call(this);\r\n\t\tloaderContextCacheable = false;\r\n\t\tvar privateLoaderContext = Object.create(loaderContext);\r\n\t\tprivateLoaderContext.query = l.query;\r\n\t\trunSyncOrAsync(l.module.pitch, privateLoaderContext, [remaining.join(\"!\"), pitchedLoaders.join(\"!\"), l.data = {}], function(err) {\r\n\t\t\tif(err) return onModuleBuildFailed.call(this, err);\r\n\t\t\tif(!loaderContextCacheable) this.cacheable = false;\r\n\t\t\tvar args = Array.prototype.slice.call(arguments, 1);\r\n\t\t\tloaderContext.resourcePath = privateLoaderContext.resourcePath;\r\n\t\t\tloaderContext.resourceQuery = privateLoaderContext.resourceQuery;\r\n\t\t\tloaderContext.resource = privateLoaderContext.resource;\r\n\t\t\tloaderContext.loaderIndex = privateLoaderContext.loaderIndex;\r\n\t\t\tif(args.length > 0) {\r\n\t\t\t\tnextLoader.apply(this, [null].concat(args));\r\n\t\t\t} else {\r\n\t\t\t\tloadPitch.call(this);\r\n\t\t\t}\r\n\t\t}.bind(this));\r\n\t}.call(this));\r\n\r\n\tvar resourceBuffer;\r\n\tfunction onLoadPitchDone() {\r\n\t\tloaderContext.loaderIndex = loaderContext.loaders.length;\r\n\t\tvar request = [];\r\n\t\tfor(var i = 0; i < loaderContext.loaders.length; i++)\r\n\t\t\trequest.push(loaderContext.loaders[i].request);\r\n\t\trequest.push(loaderContext.resource);\r\n\t\tloaderContext.request = request.join(\"!\");\r\n\t\tvar resourcePath = loaderContext.resourcePath;\r\n\t\tloaderContextCacheable = true;\r\n\t\tif(resourcePath) {\r\n\t\t\tloaderContext.addDependency(resourcePath);\r\n\t\t\tfs.readFile(resourcePath, function(err, buffer) {\r\n\t\t\t\tif(err) return nextLoader(err);\r\n\t\t\t\tif(module.lineToLine)\r\n\t\t\t\t\tresourceBuffer = buffer;\r\n\t\t\t\tnextLoader(null, buffer);\r\n\t\t\t});\r\n\t\t} else\r\n\t\t\tnextLoader(null, null);\r\n\t}\r\n\r\n\tfunction nextLoader(err/*, paramBuffer1, param2, ...*/) {\r\n\t\tif(!loaderContextCacheable) module.cacheable = false;\r\n\t\tvar args = Array.prototype.slice.call(arguments, 1);\r\n\t\tif(err) {\r\n\t\t\t// a loader emitted an error\r\n\t\t\treturn onModuleBuildFailed.call(module, err);\r\n\t\t}\r\n\t\tif(loaderContext.loaderIndex === 0) {\r\n\t\t\tif(Buffer.isBuffer(args[0]))\r\n\t\t\t\targs[0] = utf8BufferToString(args[0]);\r\n\t\t\treturn onModuleBuild.apply(module, args);\r\n\t\t}\r\n\t\tloaderContext.loaderIndex--;\r\n\t\tvar l = loaderContext.loaders[loaderContext.loaderIndex];\r\n\t\tif(!l.module) return nextLoader.apply(null, [null].concat(args));\r\n\t\tvar privateLoaderContext = Object.create(loaderContext);\r\n\t\tprivateLoaderContext.data = l.data;\r\n\t\tprivateLoaderContext.inputValue = loaderContext.inputValue;\r\n\t\tprivateLoaderContext.query = l.query;\r\n\t\tif(!l.module.raw && Buffer.isBuffer(args[0])) {\r\n\t\t\targs[0] = utf8BufferToString(args[0]);\r\n\t\t} else if(l.module.raw && typeof args[0] === \"string\") {\r\n\t\t\targs[0] = new Buffer(args[0], \"utf-8\");\r\n\t\t}\r\n\t\tloaderContextCacheable = false;\r\n\t\trunSyncOrAsync(l.module, privateLoaderContext, args, function() {\r\n\t\t\tloaderContext.inputValue = privateLoaderContext.value;\r\n\t\t\tnextLoader.apply(null, arguments);\r\n\t\t});\r\n\t}\r\n\r\n\r\n\tfunction onModuleBuild(source, sourceMap) {\r\n\t\tif(!Buffer.isBuffer(source) && typeof source !== \"string\")\r\n\t\t\treturn onModuleBuildFailed.call(this, new Error(\"Final loader didn't return a Buffer or String\"));\r\n\t\tif(this.identifier && this.lineToLine && resourceBuffer) {\r\n\t\t\tthis._source = new LineToLineMappedSource(source, this.identifier(),\r\n\t\t\t\tresourceBuffer.toString(\"utf-8\"));\r\n\t\t} else if(this.identifier && this.useSourceMap && sourceMap) {\r\n\t\t\tthis._source = new SourceMapSource(source, this.identifier(), sourceMap);\r\n\t\t} else if(this.identifier) {\r\n\t\t\tthis._source = new OriginalSource(source, this.identifier());\r\n\t\t} else {\r\n\t\t\tthis._source = new RawSource(source);\r\n\t\t}\r\n\t\treturn callback();\r\n\t}\r\n\r\n\tfunction onModuleBuildFailed(err) {\r\n\t\tthis.error = err;\r\n\t\treturn callback(new ModuleBuildError(this, err));\r\n\t}\r\n};\r\n\r\nNormalModuleMixin.prototype.fillLoaderContext = function fillLoaderContext() {};\r\n"]}