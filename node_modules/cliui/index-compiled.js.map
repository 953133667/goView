{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["var wrap = require('wordwrap'),\n  align = {\n    right: require('right-align'),\n    center: require('center-align')\n  },\n  top = 0,\n  right = 1,\n  bottom = 2,\n  left = 3\n\nfunction UI (opts) {\n  this.width = opts.width\n  this.wrap = opts.wrap\n  this.rows = []\n}\n\nUI.prototype.span = function () {\n  var cols = this.div.apply(this, arguments)\n  cols.span = true\n}\n\nUI.prototype.div = function () {\n  if (arguments.length === 0) this.div('')\n  if (this.wrap && this._shouldApplyLayoutDSL.apply(this, arguments)) {\n    return this._applyLayoutDSL(arguments[0])\n  }\n\n  var cols = []\n\n  for (var i = 0, arg; (arg = arguments[i]) !== undefined; i++) {\n    if (typeof arg === 'string') cols.push(this._colFromString(arg))\n    else cols.push(arg)\n  }\n\n  this.rows.push(cols)\n  return cols\n}\n\nUI.prototype._shouldApplyLayoutDSL = function () {\n  return arguments.length === 1 && typeof arguments[0] === 'string' &&\n    /[\\t\\n]/.test(arguments[0])\n}\n\nUI.prototype._applyLayoutDSL = function (str) {\n  var _this = this,\n    rows = str.split('\\n'),\n    leftColumnWidth = 0\n\n  // simple heuristic for layout, make sure the\n  // second column lines up along the left-hand.\n  // don't allow the first column to take up more\n  // than 50% of the screen.\n  rows.forEach(function (row) {\n    var columns = row.split('\\t')\n    if (columns.length > 1 && columns[0].length > leftColumnWidth) {\n      leftColumnWidth = Math.min(\n        Math.floor(_this.width * 0.5),\n        columns[0].length\n      )\n    }\n  })\n\n  // generate a table:\n  //  replacing ' ' with padding calculations.\n  //  using the algorithmically generated width.\n  rows.forEach(function (row) {\n    var columns = row.split('\\t')\n    _this.div.apply(_this, columns.map(function (r, i) {\n      return {\n        text: r.trim(),\n        padding: [0, r.match(/\\s*$/)[0].length, 0, r.match(/^\\s*/)[0].length],\n        width: (i === 0 && columns.length > 1) ? leftColumnWidth : undefined\n      }\n    }))\n  })\n\n  return this.rows[this.rows.length - 1]\n}\n\nUI.prototype._colFromString = function (str) {\n  return {\n    text: str\n  }\n}\n\nUI.prototype.toString = function () {\n  var _this = this,\n    lines = []\n\n  _this.rows.forEach(function (row, i) {\n    _this.rowToString(row, lines)\n  })\n\n  // don't display any lines with the\n  // hidden flag set.\n  lines = lines.filter(function (line) {\n    return !line.hidden\n  })\n\n  return lines.map(function (line) {\n    return line.text\n  }).join('\\n')\n}\n\nUI.prototype.rowToString = function (row, lines) {\n  var _this = this,\n    paddingLeft,\n    rrows = this._rasterize(row),\n    str = '',\n    ts,\n    width,\n    wrapWidth\n\n  rrows.forEach(function (rrow, r) {\n    str = ''\n    rrow.forEach(function (col, c) {\n      ts = '' // temporary string used during alignment/padding.\n      width = row[c].width // the width with padding.\n      wrapWidth = _this._negatePadding(row[c]) // the width without padding.\n\n      for (var i = 0; i < Math.max(wrapWidth, col.length); i++) {\n        ts += col.charAt(i) || ' '\n      }\n\n      // align the string within its column.\n      if (row[c].align && row[c].align !== 'left' && _this.wrap) {\n        ts = align[row[c].align](ts.trim() + '\\n' + new Array(wrapWidth + 1).join(' '))\n          .split('\\n')[0]\n        if (ts.length < wrapWidth) ts += new Array(width - ts.length).join(' ')\n      }\n\n      // add left/right padding and print string.\n      paddingLeft = (row[c].padding || [0, 0, 0, 0])[left]\n      if (paddingLeft) str += new Array(row[c].padding[left] + 1).join(' ')\n      str += ts\n      if (row[c].padding && row[c].padding[right]) str += new Array(row[c].padding[right] + 1).join(' ')\n\n      // if prior row is span, try to render the\n      // current row on the prior line.\n      if (r === 0 && lines.length > 0) {\n        str = _this._renderInline(str, lines[lines.length - 1], paddingLeft)\n      }\n    })\n\n    // remove trailing whitespace.\n    lines.push({\n      text: str.replace(/ +$/, ''),\n      span: row.span\n    })\n  })\n\n  return lines\n}\n\n// if the full 'source' can render in\n// the target line, do so.\nUI.prototype._renderInline = function (source, previousLine, paddingLeft) {\n  var target = previousLine.text,\n    str = ''\n\n  if (!previousLine.span) return source\n\n  // if we're not applying wrapping logic,\n  // just always append to the span.\n  if (!this.wrap) {\n    previousLine.hidden = true\n    return target + source\n  }\n\n  for (var i = 0, tc, sc; i < Math.max(source.length, target.length); i++) {\n    tc = target.charAt(i) || ' '\n    sc = source.charAt(i) || ' '\n    // we tried to overwrite a character in the other string.\n    if (tc !== ' ' && sc !== ' ') return source\n    // there is not enough whitespace to maintain padding.\n    if (sc !== ' ' && i < paddingLeft + target.length) return source\n    // :thumbsup:\n    if (tc === ' ') str += sc\n    else str += tc\n  }\n\n  previousLine.hidden = true\n\n  return str\n}\n\nUI.prototype._rasterize = function (row) {\n  var _this = this,\n    i,\n    rrow,\n    rrows = [],\n    widths = this._columnWidths(row),\n    wrapped\n\n  // word wrap all columns, and create\n  // a data-structure that is easy to rasterize.\n  row.forEach(function (col, c) {\n    // leave room for left and right padding.\n    col.width = widths[c]\n    if (_this.wrap) wrapped = wrap.hard(_this._negatePadding(col))(col.text).split('\\n')\n    else wrapped = col.text.split('\\n')\n\n    // add top and bottom padding.\n    if (col.padding) {\n      for (i = 0; i < (col.padding[top] || 0); i++) wrapped.unshift('')\n      for (i = 0; i < (col.padding[bottom] || 0); i++) wrapped.push('')\n    }\n\n    wrapped.forEach(function (str, r) {\n      if (!rrows[r]) rrows.push([])\n\n      rrow = rrows[r]\n\n      for (var i = 0; i < c; i++) {\n        if (rrow[i] === undefined) rrow.push('')\n      }\n      rrow.push(str)\n    })\n  })\n\n  return rrows\n}\n\nUI.prototype._negatePadding = function (col) {\n  var wrapWidth = col.width\n  if (col.padding) wrapWidth -= (col.padding[left] || 0) + (col.padding[right] || 0)\n  return wrapWidth\n}\n\nUI.prototype._columnWidths = function (row) {\n  var _this = this,\n    widths = [],\n    unset = row.length,\n    unsetWidth,\n    remainingWidth = this.width\n\n  // column widths can be set in config.\n  row.forEach(function (col, i) {\n    if (col.width) {\n      unset--\n      widths[i] = col.width\n      remainingWidth -= col.width\n    } else {\n      widths[i] = undefined\n    }\n  })\n\n  // any unset widths should be calculated.\n  if (unset) unsetWidth = Math.floor(remainingWidth / unset)\n  widths.forEach(function (w, i) {\n    if (!_this.wrap) widths[i] = row[i].width || row[i].text.length\n    else if (w === undefined) widths[i] = Math.max(unsetWidth, _minWidth(row[i]))\n  })\n\n  return widths\n}\n\n// calculates the minimum width of\n// a column, based on padding preferences.\nfunction _minWidth (col) {\n  var padding = col.padding || []\n\n  return 1 + (padding[left] || 0) + (padding[right] || 0)\n}\n\nmodule.exports = function (opts) {\n  opts = opts || {}\n\n  return new UI({\n    width: (opts || {}).width || 80,\n    wrap: typeof opts.wrap === 'boolean' ? opts.wrap : true\n  })\n}\n"]}