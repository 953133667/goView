{"version":3,"sources":["binding.js"],"names":[],"mappings":"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","file":"binding-compiled.js","sourcesContent":["var msg = require('pako/lib/zlib/messages');\nvar zstream = require('pako/lib/zlib/zstream');\nvar zlib_deflate = require('pako/lib/zlib/deflate.js');\nvar zlib_inflate = require('pako/lib/zlib/inflate.js');\nvar constants = require('pako/lib/zlib/constants');\n\nfor (var key in constants) {\n  exports[key] = constants[key];\n}\n\n// zlib modes\nexports.NONE = 0;\nexports.DEFLATE = 1;\nexports.INFLATE = 2;\nexports.GZIP = 3;\nexports.GUNZIP = 4;\nexports.DEFLATERAW = 5;\nexports.INFLATERAW = 6;\nexports.UNZIP = 7;\n\n/**\n * Emulate Node's zlib C++ layer for use by the JS layer in index.js\n */\nfunction Zlib(mode) {\n  if (mode < exports.DEFLATE || mode > exports.UNZIP)\n    throw new TypeError(\"Bad argument\");\n    \n  this.mode = mode;\n  this.init_done = false;\n  this.write_in_progress = false;\n  this.pending_close = false;\n  this.windowBits = 0;\n  this.level = 0;\n  this.memLevel = 0;\n  this.strategy = 0;\n  this.dictionary = null;\n}\n\nZlib.prototype.init = function(windowBits, level, memLevel, strategy, dictionary) {\n  this.windowBits = windowBits;\n  this.level = level;\n  this.memLevel = memLevel;\n  this.strategy = strategy;\n  // dictionary not supported.\n  \n  if (this.mode === exports.GZIP || this.mode === exports.GUNZIP)\n    this.windowBits += 16;\n    \n  if (this.mode === exports.UNZIP)\n    this.windowBits += 32;\n    \n  if (this.mode === exports.DEFLATERAW || this.mode === exports.INFLATERAW)\n    this.windowBits = -this.windowBits;\n    \n  this.strm = new zstream();\n  \n  switch (this.mode) {\n    case exports.DEFLATE:\n    case exports.GZIP:\n    case exports.DEFLATERAW:\n      var status = zlib_deflate.deflateInit2(\n        this.strm,\n        this.level,\n        exports.Z_DEFLATED,\n        this.windowBits,\n        this.memLevel,\n        this.strategy\n      );\n      break;\n    case exports.INFLATE:\n    case exports.GUNZIP:\n    case exports.INFLATERAW:\n    case exports.UNZIP:\n      var status  = zlib_inflate.inflateInit2(\n        this.strm,\n        this.windowBits\n      );\n      break;\n    default:\n      throw new Error(\"Unknown mode \" + this.mode);\n  }\n  \n  if (status !== exports.Z_OK) {\n    this._error(status);\n    return;\n  }\n  \n  this.write_in_progress = false;\n  this.init_done = true;\n};\n\nZlib.prototype.params = function() {\n  throw new Error(\"deflateParams Not supported\");\n};\n\nZlib.prototype._writeCheck = function() {\n  if (!this.init_done)\n    throw new Error(\"write before init\");\n    \n  if (this.mode === exports.NONE)\n    throw new Error(\"already finalized\");\n    \n  if (this.write_in_progress)\n    throw new Error(\"write already in progress\");\n    \n  if (this.pending_close)\n    throw new Error(\"close is pending\");\n};\n\nZlib.prototype.write = function(flush, input, in_off, in_len, out, out_off, out_len) {    \n  this._writeCheck();\n  this.write_in_progress = true;\n  \n  var self = this;\n  process.nextTick(function() {\n    self.write_in_progress = false;\n    var res = self._write(flush, input, in_off, in_len, out, out_off, out_len);\n    self.callback(res[0], res[1]);\n    \n    if (self.pending_close)\n      self.close();\n  });\n  \n  return this;\n};\n\n// set method for Node buffers, used by pako\nfunction bufferSet(data, offset) {\n  for (var i = 0; i < data.length; i++) {\n    this[offset + i] = data[i];\n  }\n}\n\nZlib.prototype.writeSync = function(flush, input, in_off, in_len, out, out_off, out_len) {\n  this._writeCheck();\n  return this._write(flush, input, in_off, in_len, out, out_off, out_len);\n};\n\nZlib.prototype._write = function(flush, input, in_off, in_len, out, out_off, out_len) {\n  this.write_in_progress = true;\n  \n  if (flush !== exports.Z_NO_FLUSH &&\n      flush !== exports.Z_PARTIAL_FLUSH &&\n      flush !== exports.Z_SYNC_FLUSH &&\n      flush !== exports.Z_FULL_FLUSH &&\n      flush !== exports.Z_FINISH &&\n      flush !== exports.Z_BLOCK) {\n    throw new Error(\"Invalid flush value\");\n  }\n  \n  if (input == null) {\n    input = new Buffer(0);\n    in_len = 0;\n    in_off = 0;\n  }\n  \n  if (out._set)\n    out.set = out._set;\n  else\n    out.set = bufferSet;\n  \n  var strm = this.strm;\n  strm.avail_in = in_len;\n  strm.input = input;\n  strm.next_in = in_off;\n  strm.avail_out = out_len;\n  strm.output = out;\n  strm.next_out = out_off;\n  \n  switch (this.mode) {\n    case exports.DEFLATE:\n    case exports.GZIP:\n    case exports.DEFLATERAW:\n      var status = zlib_deflate.deflate(strm, flush);\n      break;\n    case exports.UNZIP:\n    case exports.INFLATE:\n    case exports.GUNZIP:\n    case exports.INFLATERAW:\n      var status = zlib_inflate.inflate(strm, flush);\n      break;\n    default:\n      throw new Error(\"Unknown mode \" + this.mode);\n  }\n  \n  if (status !== exports.Z_STREAM_END && status !== exports.Z_OK) {\n    this._error(status);\n  }\n  \n  this.write_in_progress = false;\n  return [strm.avail_in, strm.avail_out];\n};\n\nZlib.prototype.close = function() {\n  if (this.write_in_progress) {\n    this.pending_close = true;\n    return;\n  }\n  \n  this.pending_close = false;\n  \n  if (this.mode === exports.DEFLATE || this.mode === exports.GZIP || this.mode === exports.DEFLATERAW) {\n    zlib_deflate.deflateEnd(this.strm);\n  } else {\n    zlib_inflate.inflateEnd(this.strm);\n  }\n  \n  this.mode = exports.NONE;\n};\n\nZlib.prototype.reset = function() {\n  switch (this.mode) {\n    case exports.DEFLATE:\n    case exports.DEFLATERAW:\n      var status = zlib_deflate.deflateReset(this.strm);\n      break;\n    case exports.INFLATE:\n    case exports.INFLATERAW:\n      var status = zlib_inflate.inflateReset(this.strm);\n      break;\n  }\n  \n  if (status !== exports.Z_OK) {\n    this._error(status);\n  }\n};\n\nZlib.prototype._error = function(status) {\n  this.onerror(msg[status] + ': ' + this.strm.msg, status);\n  \n  this.write_in_progress = false;\n  if (this.pending_close)\n    this.close();\n};\n\nexports.Zlib = Zlib;\n"]}