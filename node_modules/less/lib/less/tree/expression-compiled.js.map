{"version":3,"sources":["expression.js"],"names":[],"mappings":"AAAA,IAAI,OAAO,QAAQ,QAAR,CAAX;AAAA,IACI,QAAQ,QAAQ,SAAR,CADZ;AAAA,IAEI,UAAU,QAAQ,WAAR,CAFd;;AAIA,IAAI,aAAa,UAAU,KAAV,EAAiB;AAC9B,SAAK,KAAL,GAAa,KAAb;AACA,QAAI,CAAC,KAAL,EAAY;AACR,cAAM,IAAI,KAAJ,CAAU,wCAAV,CAAN;AACH;AACJ,CALD;AAMA,WAAW,SAAX,GAAuB,IAAI,IAAJ,EAAvB;AACA,WAAW,SAAX,CAAqB,IAArB,GAA4B,YAA5B;AACA,WAAW,SAAX,CAAqB,MAArB,GAA8B,UAAU,OAAV,EAAmB;AAC7C,SAAK,KAAL,GAAa,QAAQ,UAAR,CAAmB,KAAK,KAAxB,CAAb;AACH,CAFD;AAGA,WAAW,SAAX,CAAqB,IAArB,GAA4B,UAAU,OAAV,EAAmB;AAC3C,QAAI,WAAJ;AAAA,QACI,gBAAgB,KAAK,MAAL,IAAe,CAAC,KAAK,UADzC;AAAA,QAEI,cAAc,KAFlB;AAGA,QAAI,aAAJ,EAAmB;AACf,gBAAQ,aAAR;AACH;AACD,QAAI,KAAK,KAAL,CAAW,MAAX,GAAoB,CAAxB,EAA2B;AACvB,sBAAc,IAAI,UAAJ,CAAe,KAAK,KAAL,CAAW,GAAX,CAAe,UAAU,CAAV,EAAa;AACrD,mBAAO,EAAE,IAAF,CAAO,OAAP,CAAP;AACH,SAF4B,CAAf,CAAd;AAGH,KAJD,MAIO,IAAI,KAAK,KAAL,CAAW,MAAX,KAAsB,CAA1B,EAA6B;AAChC,YAAI,KAAK,KAAL,CAAW,CAAX,EAAc,MAAd,IAAwB,CAAC,KAAK,KAAL,CAAW,CAAX,EAAc,UAA3C,EAAuD;AACnD,0BAAc,IAAd;AACH;AACD,sBAAc,KAAK,KAAL,CAAW,CAAX,EAAc,IAAd,CAAmB,OAAnB,CAAd;AACH,KALM,MAKA;AACH,sBAAc,IAAd;AACH;AACD,QAAI,aAAJ,EAAmB;AACf,gBAAQ,gBAAR;AACH;AACD,QAAI,KAAK,MAAL,IAAe,KAAK,UAApB,IAAkC,CAAE,QAAQ,QAAR,EAApC,IAA2D,CAAC,WAAhE,EAA6E;AACzE,sBAAc,IAAI,KAAJ,CAAU,WAAV,CAAd;AACH;AACD,WAAO,WAAP;AACH,CA1BD;AA2BA,WAAW,SAAX,CAAqB,MAArB,GAA8B,UAAU,OAAV,EAAmB,MAAnB,EAA2B;AACrD,SAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,KAAK,KAAL,CAAW,MAA/B,EAAuC,GAAvC,EAA4C;AACxC,aAAK,KAAL,CAAW,CAAX,EAAc,MAAd,CAAqB,OAArB,EAA8B,MAA9B;AACA,YAAI,IAAI,CAAJ,GAAQ,KAAK,KAAL,CAAW,MAAvB,EAA+B;AAC3B,mBAAO,GAAP,CAAW,GAAX;AACH;AACJ;AACJ,CAPD;AAQA,WAAW,SAAX,CAAqB,iBAArB,GAAyC,YAAY;AACjD,SAAK,KAAL,GAAa,KAAK,KAAL,CAAW,MAAX,CAAkB,UAAS,CAAT,EAAY;AACvC,eAAO,EAAE,aAAa,OAAf,CAAP;AACH,KAFY,CAAb;AAGH,CAJD;AAKA,OAAO,OAAP,GAAiB,UAAjB","file":"expression-compiled.js","sourcesContent":["var Node = require(\"./node\"),\n    Paren = require(\"./paren\"),\n    Comment = require(\"./comment\");\n\nvar Expression = function (value) {\n    this.value = value;\n    if (!value) {\n        throw new Error(\"Expression requires an array parameter\");\n    }\n};\nExpression.prototype = new Node();\nExpression.prototype.type = \"Expression\";\nExpression.prototype.accept = function (visitor) {\n    this.value = visitor.visitArray(this.value);\n};\nExpression.prototype.eval = function (context) {\n    var returnValue,\n        inParenthesis = this.parens && !this.parensInOp,\n        doubleParen = false;\n    if (inParenthesis) {\n        context.inParenthesis();\n    }\n    if (this.value.length > 1) {\n        returnValue = new Expression(this.value.map(function (e) {\n            return e.eval(context);\n        }));\n    } else if (this.value.length === 1) {\n        if (this.value[0].parens && !this.value[0].parensInOp) {\n            doubleParen = true;\n        }\n        returnValue = this.value[0].eval(context);\n    } else {\n        returnValue = this;\n    }\n    if (inParenthesis) {\n        context.outOfParenthesis();\n    }\n    if (this.parens && this.parensInOp && !(context.isMathOn()) && !doubleParen) {\n        returnValue = new Paren(returnValue);\n    }\n    return returnValue;\n};\nExpression.prototype.genCSS = function (context, output) {\n    for (var i = 0; i < this.value.length; i++) {\n        this.value[i].genCSS(context, output);\n        if (i + 1 < this.value.length) {\n            output.add(\" \");\n        }\n    }\n};\nExpression.prototype.throwAwayComments = function () {\n    this.value = this.value.filter(function(v) {\n        return !(v instanceof Comment);\n    });\n};\nmodule.exports = Expression;\n"]}