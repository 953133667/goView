{"version":3,"sources":["check-listener-leaks.js"],"names":[],"mappings":"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","file":"check-listener-leaks-compiled.js","sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar assert = require('assert');\nvar events = require('../');\n\nvar e = new events.EventEmitter();\n\n// default\nfor (var i = 0; i < 10; i++) {\n  e.on('default', function() {});\n}\nassert.ok(!e._events['default'].hasOwnProperty('warned'));\ne.on('default', function() {});\nassert.ok(e._events['default'].warned);\n\n// specific\ne.setMaxListeners(5);\nfor (var i = 0; i < 5; i++) {\n  e.on('specific', function() {});\n}\nassert.ok(!e._events['specific'].hasOwnProperty('warned'));\ne.on('specific', function() {});\nassert.ok(e._events['specific'].warned);\n\n// only one\ne.setMaxListeners(1);\ne.on('only one', function() {});\nassert.ok(!e._events['only one'].hasOwnProperty('warned'));\ne.on('only one', function() {});\nassert.ok(e._events['only one'].hasOwnProperty('warned'));\n\n// unlimited\ne.setMaxListeners(0);\nfor (var i = 0; i < 1000; i++) {\n  e.on('unlimited', function() {});\n}\nassert.ok(!e._events['unlimited'].hasOwnProperty('warned'));\n\n// process-wide\nevents.EventEmitter.defaultMaxListeners = 42;\ne = new events.EventEmitter();\n\nfor (var i = 0; i < 42; ++i) {\n  e.on('fortytwo', function() {});\n}\nassert.ok(!e._events['fortytwo'].hasOwnProperty('warned'));\ne.on('fortytwo', function() {});\nassert.ok(e._events['fortytwo'].hasOwnProperty('warned'));\ndelete e._events['fortytwo'].warned;\n\nevents.EventEmitter.defaultMaxListeners = 44;\ne.on('fortytwo', function() {});\nassert.ok(!e._events['fortytwo'].hasOwnProperty('warned'));\ne.on('fortytwo', function() {});\nassert.ok(e._events['fortytwo'].hasOwnProperty('warned'));\n\n// but _maxListeners still has precedence over defaultMaxListeners\nevents.EventEmitter.defaultMaxListeners = 42;\ne = new events.EventEmitter();\ne.setMaxListeners(1);\ne.on('uno', function() {});\nassert.ok(!e._events['uno'].hasOwnProperty('warned'));\ne.on('uno', function() {});\nassert.ok(e._events['uno'].hasOwnProperty('warned'));\n\n// chainable\nassert.strictEqual(e, e.setMaxListeners(1));\n"]}