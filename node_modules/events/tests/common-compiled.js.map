{"version":3,"sources":["common.js"],"names":[],"mappings":"AAAA,IAAI,SAAS,QAAQ,QAAR,CAAb;;AAEA,IAAI,iBAAiB,EAArB;;AAEA,SAAS,aAAT,GAAyB;AACvB,MAAI,eAAe,CAAnB;AACA,OAAK,IAAI,IAAE,CAAX,EAAe,IAAG,eAAe,MAAjC,EAAyC,EAAE,CAA3C,EAA8C;AAC5C,QAAI,UAAU,eAAe,CAAf,CAAd;AACA,QAAI,QAAQ,MAAR,KAAmB,QAAQ,QAA/B,EAAyC;AACvC;AACD;;AAED;AACA,YAAQ,GAAR,CAAY,uDAAZ,EACY,QAAQ,IADpB,EAEY,QAAQ,QAFpB,EAGY,QAAQ,MAHpB;AAIA,YAAQ,GAAR,CAAY,QAAQ,KAAR,CAAc,KAAd,CAAoB,IAApB,EAA0B,KAA1B,CAAgC,CAAhC,EAAmC,IAAnC,CAAwC,IAAxC,CAAZ;AACD;;AAED,SAAO,iBAAiB,CAAxB;AACD;;AAED,MAAM,aAAN;;AAEA,QAAQ,QAAR,GAAmB,UAAS,EAAT,EAAa,QAAb,EAAuB;AACxC,MAAI,OAAO,QAAP,KAAoB,QAAxB,EAAkC,WAAW,CAAX;;AAElC,MAAI,UAAU;AACZ,cAAU,QADE;AAEZ,YAAQ,CAFI;AAGZ,WAAQ,IAAI,KAAJ,EAAD,CAAY,KAHP;AAIZ,UAAM,GAAG,IAAH,IAAW;AAJL,GAAd;;AAOA,iBAAe,IAAf,CAAoB,OAApB;;AAEA,SAAO,YAAW;AAChB,YAAQ,MAAR;AACA,WAAO,GAAG,KAAH,CAAS,IAAT,EAAe,SAAf,CAAP;AACD,GAHD;AAID,CAhBD","file":"common-compiled.js","sourcesContent":["var assert = require('assert');\n\nvar mustCallChecks = [];\n\nfunction runCallChecks() {\n  var failed_count = 0;\n  for (var i=0 ; i< mustCallChecks.length; ++i) {\n    var context = mustCallChecks[i];\n    if (context.actual === context.expected) {\n      continue;\n    }\n\n    failed_count++;\n    console.log('Mismatched %s function calls. Expected %d, actual %d.',\n                context.name,\n                context.expected,\n                context.actual);\n    console.log(context.stack.split('\\n').slice(2).join('\\n'));\n  }\n\n  assert(failed_count === 0);\n}\n\nafter(runCallChecks);\n\nexports.mustCall = function(fn, expected) {\n  if (typeof expected !== 'number') expected = 1;\n\n  var context = {\n    expected: expected,\n    actual: 0,\n    stack: (new Error).stack,\n    name: fn.name || '<anonymous>'\n  };\n\n  mustCallChecks.push(context);\n\n  return function() {\n    context.actual++;\n    return fn.apply(this, arguments);\n  };\n};\n"]}