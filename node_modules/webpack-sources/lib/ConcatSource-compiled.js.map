{"version":3,"sources":["ConcatSource.js"],"names":[],"mappings":"AAAA;;;;AAIA,IAAI,aAAa,QAAQ,YAAR,EAAsB,UAAvC;AACA,IAAI,gBAAgB,QAAQ,iBAAR,EAA2B,aAA/C;AACA,IAAI,SAAS,QAAQ,UAAR,CAAb;;AAEA,SAAS,YAAT,GAAwB;AACvB,QAAO,IAAP,CAAY,IAAZ;AACA,MAAK,QAAL,GAAgB,MAAM,SAAN,CAAgB,KAAhB,CAAsB,IAAtB,CAA2B,SAA3B,CAAhB;AACA;AACD,OAAO,OAAP,GAAiB,YAAjB;;AAEA,aAAa,SAAb,GAAyB,OAAO,MAAP,CAAc,OAAO,SAArB,CAAzB;AACA,aAAa,SAAb,CAAuB,WAAvB,GAAqC,YAArC;;AAEA,aAAa,SAAb,CAAuB,GAAvB,GAA6B,UAAS,IAAT,EAAe;AAC3C,MAAK,QAAL,CAAc,IAAd,CAAmB,IAAnB;AACA,CAFD;;AAIA,aAAa,SAAb,CAAuB,MAAvB,GAAgC,YAAW;AAC1C,QAAO,KAAK,QAAL,CAAc,GAAd,CAAkB,UAAS,IAAT,EAAe;AACvC,SAAO,OAAO,IAAP,KAAgB,QAAhB,GAA2B,IAA3B,GAAkC,KAAK,MAAL,EAAzC;AACA,EAFM,EAEJ,IAFI,CAEC,EAFD,CAAP;AAGA,CAJD;;AAMA,aAAa,SAAb,CAAuB,IAAvB,GAA8B,YAAW;AACxC,QAAO,KAAK,QAAL,CAAc,GAAd,CAAkB,UAAS,IAAT,EAAe;AACvC,SAAO,OAAO,IAAP,KAAgB,QAAhB,GAA2B,KAAK,MAAhC,GAAyC,KAAK,IAAL,EAAhD;AACA,EAFM,EAEJ,MAFI,CAEG,UAAS,GAAT,EAAc,CAAd,EAAiB;AAC1B,SAAO,MAAM,CAAb;AACA,EAJM,EAIJ,CAJI,CAAP;AAKA,CAND;;AAQA,QAAQ,qBAAR,EAA+B,aAAa,SAA5C;;AAEA,aAAa,SAAb,CAAuB,IAAvB,GAA8B,UAAS,OAAT,EAAkB;AAC/C,KAAI,OAAO,IAAI,UAAJ,CAAe,IAAf,EAAqB,IAArB,EAA2B,IAA3B,EAAiC,KAAK,QAAL,CAAc,GAAd,CAAkB,UAAS,IAAT,EAAe;AAC5E,SAAO,OAAO,IAAP,KAAgB,QAAhB,GAA2B,IAA3B,GAAkC,KAAK,IAAL,CAAU,OAAV,CAAzC;AACA,EAF2C,CAAjC,CAAX;AAGA,QAAO,IAAP;AACA,CALD;;AAOA,aAAa,SAAb,CAAuB,OAAvB,GAAiC,UAAS,OAAT,EAAkB;AAClD,KAAI,MAAM,IAAI,aAAJ,EAAV;AACA,MAAK,QAAL,CAAc,OAAd,CAAsB,UAAS,IAAT,EAAe;AACpC,MAAG,OAAO,IAAP,KAAgB,QAAnB,EACC,IAAI,GAAJ,CAAQ,IAAR,EADD,KAGC,IAAI,GAAJ,CAAQ,KAAK,OAAL,CAAa,OAAb,CAAR;AACD,EALD;AAMA,QAAO,GAAP;AACA,CATD;;AAWA,aAAa,SAAb,CAAuB,UAAvB,GAAoC,UAAS,IAAT,EAAe;AAClD,MAAK,QAAL,CAAc,OAAd,CAAsB,UAAS,IAAT,EAAe;AACpC,OAAK,UAAL,CAAgB,IAAhB;AACA,EAFD;AAGA,CAJD","file":"ConcatSource-compiled.js","sourcesContent":["/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar SourceNode = require(\"source-map\").SourceNode;\r\nvar SourceListMap = require(\"source-list-map\").SourceListMap;\r\nvar Source = require(\"./Source\");\r\n\r\nfunction ConcatSource() {\r\n\tSource.call(this);\r\n\tthis.children = Array.prototype.slice.call(arguments);\r\n}\r\nmodule.exports = ConcatSource;\r\n\r\nConcatSource.prototype = Object.create(Source.prototype);\r\nConcatSource.prototype.constructor = ConcatSource;\r\n\r\nConcatSource.prototype.add = function(item) {\r\n\tthis.children.push(item);\r\n};\r\n\r\nConcatSource.prototype.source = function() {\r\n\treturn this.children.map(function(item) {\r\n\t\treturn typeof item === \"string\" ? item : item.source();\r\n\t}).join(\"\");\r\n};\r\n\r\nConcatSource.prototype.size = function() {\r\n\treturn this.children.map(function(item) {\r\n\t\treturn typeof item === \"string\" ? item.length : item.size();\r\n\t}).reduce(function(sum, s) {\r\n\t\treturn sum + s;\r\n\t}, 0);\r\n};\r\n\r\nrequire(\"./SourceAndMapMixin\")(ConcatSource.prototype);\r\n\r\nConcatSource.prototype.node = function(options) {\r\n\tvar node = new SourceNode(null, null, null, this.children.map(function(item) {\r\n\t\treturn typeof item === \"string\" ? item : item.node(options);\r\n\t}));\r\n\treturn node;\r\n};\r\n\r\nConcatSource.prototype.listMap = function(options) {\r\n\tvar map = new SourceListMap();\r\n\tthis.children.forEach(function(item) {\r\n\t\tif(typeof item === \"string\")\r\n\t\t\tmap.add(item);\r\n\t\telse\r\n\t\t\tmap.add(item.listMap(options));\r\n\t});\r\n\treturn map;\r\n};\r\n\r\nConcatSource.prototype.updateHash = function(hash) {\r\n\tthis.children.forEach(function(item) {\r\n\t\titem.updateHash(hash);\r\n\t});\r\n};\r\n"]}