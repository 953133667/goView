{"version":3,"sources":["0.7.x - 1.x.js"],"names":[],"mappings":"AAAA;AACA,CAAC,YAAW;AACV,MAAI,OAAJ;AAAA,MAAa,UAAb;AAAA,MAAyB,CAAzB;AAAA,MAA4B,CAA5B;AAAA,MACE,SAAS,UAAS,KAAT,EAAgB,MAAhB,EAAwB;AAAE,SAAK,IAAI,GAAT,IAAgB,MAAhB,EAAwB;AAAE,UAAI,QAAQ,IAAR,CAAa,MAAb,EAAqB,GAArB,CAAJ,EAA+B,MAAM,GAAN,IAAa,OAAO,GAAP,CAAb;AAA2B,KAAC,SAAS,IAAT,GAAgB;AAAE,WAAK,WAAL,GAAmB,KAAnB;AAA2B,KAAC,KAAK,SAAL,GAAiB,OAAO,SAAxB,CAAmC,MAAM,SAAN,GAAkB,IAAI,IAAJ,EAAlB,CAA8B,MAAM,SAAN,GAAkB,OAAO,SAAzB,CAAoC,OAAO,KAAP;AAAe,GAD5R;AAAA,MAEE,UAAU,GAAG,cAFf;;AAIA,YAAU,QAAQ,oBAAR,CAAV;;AAEA,MAAI,QAAQ,MAAR,CAAJ;;AAEA,MAAI,QAAQ,QAAR,CAAJ;;AAEA,eAAc,UAAS,UAAT,EAAqB;AACjC,QAAI,OAAJ;;AAEA,WAAO,UAAP,EAAmB,UAAnB;;AAEA,aAAS,UAAT,GAAsB;AACpB,aAAO,WAAW,SAAX,CAAqB,WAArB,CAAiC,KAAjC,CAAuC,IAAvC,EAA6C,SAA7C,CAAP;AACD;;AAED,eAAW,SAAX,CAAqB,IAArB,GAA4B,aAA5B;;AAEA,eAAW,SAAX,CAAqB,UAArB,GAAkC,CAAC,MAAD,CAAlC;;AAEA,eAAW,SAAX,CAAqB,MAArB,GAA8B,MAA9B;;AAEA,eAAW,SAAX,CAAqB,gBAArB,GAAwC,CAAC,eAAD,CAAxC;;AAGA;;;;;;AAMA,eAAW,SAAX,CAAqB,QAArB,GAAgC,IAAhC;;AAEA,eAAW,SAAX,CAAqB,OAArB,GAA+B,UAAS,GAAT,EAAc,OAAd,EAAuB;AACpD,gBAAU,EAAE,QAAF,CAAW,OAAX,EAAoB;AAC5B,wBAAgB,IADY;AAE5B,4BAAoB,IAFQ;AAG5B,+BAAuB;AAHK,OAApB,CAAV;AAKA,aAAO,QAAS,UAAS,KAAT,EAAgB;AAC9B,eAAO,YAAW;AAChB,iBAAO,MAAM,MAAN,CAAa,MAAb,CAAoB,GAApB,EAAyB,OAAzB,CAAP;AACD,SAFD;AAGD,OAJc,CAIZ,IAJY,CAAR,CAAP;AAKD,KAXD;;AAaA,cAAU,UAAS,EAAT,EAAa;AACrB,UAAI,GAAJ,EAAS,KAAT,EAAgB,GAAhB;AACA,UAAI;AACF,cAAM,IAAN;AACD,OAFD,CAEE,OAAO,KAAP,EAAc;AACd,cAAM,KAAN;AACA,eAAO,EAAE,MAAF,CAAS,GAAT,CAAP;AACD;AACD,aAAO,EAAE,OAAF,CAAU;AACf,gBAAQ;AADO,OAAV,CAAP;AAGD,KAXD;;AAaA,WAAO,UAAP;AAED,GAtDY,CAsDV,OAtDU,CAAb;;AAwDA,SAAO,OAAP,GAAiB,UAAjB;AAED,CArED,EAqEG,IArEH,CAqEQ,IArER","file":"0.7.x - 1.x-compiled.js","sourcesContent":["// Generated by CoffeeScript 1.10.0\n(function() {\n  var Adapter, MinifyHTML, W, _,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  Adapter = require('../../adapter_base');\n\n  W = require('when');\n\n  _ = require('lodash');\n\n  MinifyHTML = (function(superClass) {\n    var compile;\n\n    extend(MinifyHTML, superClass);\n\n    function MinifyHTML() {\n      return MinifyHTML.__super__.constructor.apply(this, arguments);\n    }\n\n    MinifyHTML.prototype.name = 'minify-html';\n\n    MinifyHTML.prototype.extensions = ['html'];\n\n    MinifyHTML.prototype.output = 'html';\n\n    MinifyHTML.prototype.supportedEngines = ['html-minifier'];\n\n\n    /**\n     * I think that you could cause this to not be isolated by using the minifyCSS\n       option and then making that import stylesheets, but I'm not even sure if\n       MinifyHTML would support that...\n     */\n\n    MinifyHTML.prototype.isolated = true;\n\n    MinifyHTML.prototype._render = function(str, options) {\n      options = _.defaults(options, {\n        removeComments: true,\n        collapseWhitespace: true,\n        removeEmptyAttributes: true\n      });\n      return compile((function(_this) {\n        return function() {\n          return _this.engine.minify(str, options);\n        };\n      })(this));\n    };\n\n    compile = function(fn) {\n      var err, error, res;\n      try {\n        res = fn();\n      } catch (error) {\n        err = error;\n        return W.reject(err);\n      }\n      return W.resolve({\n        result: res\n      });\n    };\n\n    return MinifyHTML;\n\n  })(Adapter);\n\n  module.exports = MinifyHTML;\n\n}).call(this);\n"]}