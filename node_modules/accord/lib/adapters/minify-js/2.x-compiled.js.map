{"version":3,"sources":["2.x.js"],"names":[],"mappings":"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","file":"2.x-compiled.js","sourcesContent":["// Generated by CoffeeScript 1.10.0\n(function() {\n  var Adapter, MinifyJS, W, _, convert, path, sourcemaps,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  Adapter = require('../../adapter_base');\n\n  sourcemaps = require('../../sourcemaps');\n\n  W = require('when');\n\n  _ = require('lodash');\n\n  path = require('path');\n\n  convert = require('convert-source-map');\n\n  MinifyJS = (function(superClass) {\n    var compile;\n\n    extend(MinifyJS, superClass);\n\n    function MinifyJS() {\n      return MinifyJS.__super__.constructor.apply(this, arguments);\n    }\n\n    MinifyJS.prototype.name = 'minify-js';\n\n    MinifyJS.prototype.extensions = ['js'];\n\n    MinifyJS.prototype.output = 'js';\n\n    MinifyJS.prototype.supportedEngines = ['uglify-js'];\n\n    MinifyJS.prototype.isolated = true;\n\n    MinifyJS.prototype._render = function(str, options) {\n      if (options.sourcemap === true) {\n        options.sourceMap = true;\n        options.outSourceMap = path.basename(options.filename);\n      }\n      return compile((function(_this) {\n        return function() {\n          var obj, res;\n          res = _this.engine.minify(str, _.extend(options, {\n            fromString: true\n          }));\n          obj = {\n            result: res.code\n          };\n          if (options.sourceMap) {\n            obj.sourcemap = JSON.parse(res.map);\n            obj.sourcemap.sources.pop();\n            obj.sourcemap.sources.push(options.filename);\n            obj.result = convert.removeMapFileComments(obj.result).trim();\n            return sourcemaps.inline_sources(obj.sourcemap).then(function(map) {\n              obj.sourcemap = map;\n              return obj;\n            });\n          } else {\n            return obj;\n          }\n        };\n      })(this));\n    };\n\n    compile = function(fn, map) {\n      var err, error, res;\n      try {\n        res = fn();\n      } catch (error) {\n        err = error;\n        return W.reject(err);\n      }\n      return W.resolve(res);\n    };\n\n    return MinifyJS;\n\n  })(Adapter);\n\n  module.exports = MinifyJS;\n\n}).call(this);\n"]}