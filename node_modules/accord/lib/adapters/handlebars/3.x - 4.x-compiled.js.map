{"version":3,"sources":["3.x - 4.x.js"],"names":[],"mappings":"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","file":"3.x - 4.x-compiled.js","sourcesContent":["// Generated by CoffeeScript 1.10.0\n(function() {\n  var Adapter, Handlebars, W, _, fs, path,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  Adapter = require('../../adapter_base');\n\n  _ = require('lodash');\n\n  path = require('path');\n\n  fs = require('fs');\n\n  W = require('when');\n\n  Handlebars = (function(superClass) {\n    var compile, register_helpers;\n\n    extend(Handlebars, superClass);\n\n    function Handlebars() {\n      return Handlebars.__super__.constructor.apply(this, arguments);\n    }\n\n    Handlebars.prototype.name = 'handlebars';\n\n    Handlebars.prototype.extensions = ['hbs', 'handlebars'];\n\n    Handlebars.prototype.output = 'html';\n\n    Handlebars.prototype._render = function(str, options) {\n      var compiler;\n      compiler = _.clone(this.engine);\n      register_helpers(compiler, options);\n      return compile((function(_this) {\n        return function() {\n          return compiler.compile(str)(options);\n        };\n      })(this));\n    };\n\n    Handlebars.prototype._compile = function(str, options) {\n      var compiler;\n      compiler = _.clone(this.engine);\n      register_helpers(compiler, options);\n      return compile((function(_this) {\n        return function() {\n          return compiler.compile(str);\n        };\n      })(this));\n    };\n\n    Handlebars.prototype._compileClient = function(str, options) {\n      var compiler;\n      compiler = _.clone(this.engine);\n      register_helpers(compiler, options);\n      return compile((function(_this) {\n        return function() {\n          return \"Handlebars.template(\" + (compiler.precompile(str)) + \");\";\n        };\n      })(this));\n    };\n\n    Handlebars.prototype.clientHelpers = function() {\n      var runtime_path;\n      runtime_path = path.join(this.engine.__accord_path, 'dist/handlebars.runtime.min.js');\n      return fs.readFileSync(runtime_path, 'utf8');\n    };\n\n\n    /**\n     * @private\n     */\n\n    register_helpers = function(compiler, opts) {\n      if (opts.helpers) {\n        compiler.helpers = _.merge(compiler.helpers, opts.helpers);\n      }\n      if (opts.partials) {\n        return compiler.partials = _.merge(compiler.partials, opts.partials);\n      }\n    };\n\n    compile = function(fn) {\n      var err, error, res;\n      try {\n        res = fn();\n      } catch (error) {\n        err = error;\n        return W.reject(err);\n      }\n      return W.resolve({\n        result: res\n      });\n    };\n\n    return Handlebars;\n\n  })(Adapter);\n\n  module.exports = Handlebars;\n\n}).call(this);\n"]}