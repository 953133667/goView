{"version":3,"sources":["AmdMainTemplatePlugin.js"],"names":[],"mappings":"AAAA;;;;AAIA,IAAI,eAAe,QAAQ,+BAAR,CAAnB;;AAEA,SAAS,qBAAT,CAA+B,IAA/B,EAAqC;AACpC,MAAK,IAAL,GAAY,IAAZ;AACA;AACD,OAAO,OAAP,GAAiB,qBAAjB;AACA,sBAAsB,SAAtB,CAAgC,KAAhC,GAAwC,UAAS,WAAT,EAAsB;AAC7D,KAAI,eAAe,YAAY,YAA/B;AACA,aAAY,eAAZ,CAA4B,mBAA5B,EAAiD,UAAS,MAAT,EAAiB,KAAjB,EAAwB,IAAxB,EAA8B;AAC9E,MAAI,YAAY,MAAM,OAAN,CAAc,MAAd,CAAqB,UAAS,CAAT,EAAY;AAChD,UAAO,EAAE,QAAT;AACA,GAFe,CAAhB;AAGA,MAAI,qBAAqB,KAAK,SAAL,CAAe,UAAU,GAAV,CAAc,UAAS,CAAT,EAAY;AACjE,UAAO,OAAO,EAAE,OAAT,KAAqB,QAArB,GAAgC,EAAE,OAAF,CAAU,GAA1C,GAAgD,EAAE,OAAzD;AACA,GAFuC,CAAf,CAAzB;AAGA,MAAI,qBAAqB,UAAU,GAAV,CAAc,UAAS,CAAT,EAAY;AAClD,UAAO,+BAA+B,EAAE,EAAjC,GAAsC,IAA7C;AACA,GAFwB,EAEtB,IAFsB,CAEjB,IAFiB,CAAzB;AAGA,MAAG,KAAK,IAAR,EAAc;AACb,OAAI,OAAO,aAAa,qBAAb,CAAmC,YAAnC,EAAiD,KAAK,IAAtD,EAA4D;AACtE,UAAM,IADgE;AAEtE,WAAO;AAF+D,IAA5D,CAAX;AAIA,UAAO,IAAI,YAAJ,CAAiB,YAAY,KAAK,SAAL,CAAe,IAAf,CAAZ,GAAmC,IAAnC,GAA0C,kBAA1C,GAA+D,aAA/D,GAA+E,kBAA/E,GAAoG,aAArH,EAAoI,MAApI,EAA4I,KAA5I,CAAP;AACA,GAND,MAMO,IAAG,kBAAH,EAAuB;AAC7B,UAAO,IAAI,YAAJ,CAAiB,YAAY,kBAAZ,GAAiC,aAAjC,GAAiD,kBAAjD,GAAsE,aAAvF,EAAsG,MAAtG,EAA8G,KAA9G,CAAP;AACA,GAFM,MAEA;AACN,UAAO,IAAI,YAAJ,CAAiB,6BAAjB,EAAgD,MAAhD,EAAwD,KAAxD,CAAP;AACA;AACD,EArBgD,CAqB/C,IArB+C,CAqB1C,IArB0C,CAAjD;AAsBA,cAAa,MAAb,CAAoB,mBAApB,EAAyC,UAAS,KAAT,EAAgB;AACxD,MAAG,KAAK,IAAR,EAAc,MAAM,IAAN,CAAW,KAAK,IAAhB;AACd,SAAO,KAAP;AACA,EAHwC,CAGvC,IAHuC,CAGlC,IAHkC,CAAzC;AAIA,cAAa,MAAb,CAAoB,MAApB,EAA4B,UAAS,IAAT,EAAe;AAC1C,OAAK,MAAL,CAAY,aAAZ;AACA,OAAK,MAAL,CAAY,KAAK,IAAL,GAAY,EAAxB;AACA,EAH2B,CAG1B,IAH0B,CAGrB,IAHqB,CAA5B;AAIA,CAhCD","file":"AmdMainTemplatePlugin-compiled.js","sourcesContent":["/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar ConcatSource = require(\"webpack-core/lib/ConcatSource\");\r\n\r\nfunction AmdMainTemplatePlugin(name) {\r\n\tthis.name = name;\r\n}\r\nmodule.exports = AmdMainTemplatePlugin;\r\nAmdMainTemplatePlugin.prototype.apply = function(compilation) {\r\n\tvar mainTemplate = compilation.mainTemplate;\r\n\tcompilation.templatesPlugin(\"render-with-entry\", function(source, chunk, hash) {\r\n\t\tvar externals = chunk.modules.filter(function(m) {\r\n\t\t\treturn m.external;\r\n\t\t});\r\n\t\tvar externalsDepsArray = JSON.stringify(externals.map(function(m) {\r\n\t\t\treturn typeof m.request === \"object\" ? m.request.amd : m.request;\r\n\t\t}));\r\n\t\tvar externalsArguments = externals.map(function(m) {\r\n\t\t\treturn \"__WEBPACK_EXTERNAL_MODULE_\" + m.id + \"__\";\r\n\t\t}).join(\", \");\r\n\t\tif(this.name) {\r\n\t\t\tvar name = mainTemplate.applyPluginsWaterfall(\"asset-path\", this.name, {\r\n\t\t\t\thash: hash,\r\n\t\t\t\tchunk: chunk\r\n\t\t\t});\r\n\t\t\treturn new ConcatSource(\"define(\" + JSON.stringify(name) + \", \" + externalsDepsArray + \", function(\" + externalsArguments + \") { return \", source, \"});\");\r\n\t\t} else if(externalsArguments) {\r\n\t\t\treturn new ConcatSource(\"define(\" + externalsDepsArray + \", function(\" + externalsArguments + \") { return \", source, \"});\");\r\n\t\t} else {\r\n\t\t\treturn new ConcatSource(\"define(function() { return \", source, \"});\");\r\n\t\t}\r\n\t}.bind(this));\r\n\tmainTemplate.plugin(\"global-hash-paths\", function(paths) {\r\n\t\tif(this.name) paths.push(this.name);\r\n\t\treturn paths;\r\n\t}.bind(this));\r\n\tmainTemplate.plugin(\"hash\", function(hash) {\r\n\t\thash.update(\"exports amd\");\r\n\t\thash.update(this.name + \"\");\r\n\t}.bind(this));\r\n};\r\n"]}