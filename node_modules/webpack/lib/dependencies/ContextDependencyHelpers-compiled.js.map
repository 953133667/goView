{"version":3,"sources":["ContextDependencyHelpers.js"],"names":[],"mappings":"AAAA;;;;AAIA,IAAI,2BAA2B,OAA/B;;AAEA,yBAAyB,MAAzB,GAAkC,UAAS,GAAT,EAAc,KAAd,EAAqB,KAArB,EAA4B,IAA5B,EAAkC,OAAlC,EAA2C;AAC5E,KAAG,MAAM,SAAN,OAAsB,MAAM,MAAN,IAAgB,MAAM,MAAN,CAAa,QAAb,EAAhB,IAA2C,MAAM,OAAN,IAAiB,MAAM,OAAN,CAAc,QAAd,EAAlF,CAAH,EAAgH;AAC/G,MAAI,SAAS,MAAM,MAAN,IAAgB,MAAM,MAAN,CAAa,QAAb,EAAhB,GAA0C,MAAM,MAAN,CAAa,MAAvD,GAAgE,EAA7E;AACA,MAAI,UAAU,MAAM,OAAN,IAAiB,MAAM,OAAN,CAAc,QAAd,EAAjB,GAA4C,MAAM,OAAN,CAAc,MAA1D,GAAmE,EAAjF;AACA,MAAI,cAAc,MAAM,MAAN,IAAgB,MAAM,MAAN,CAAa,QAAb,EAAhB,GAA0C,MAAM,MAAN,CAAa,KAAvD,GAA+D,IAAjF;AACA,MAAI,aAAa,CAAC,cAAc,YAAY,CAAZ,CAAd,GAA+B,MAAM,KAAN,CAAY,CAAZ,CAAhC,EAAgD,MAAM,KAAN,CAAY,CAAZ,CAAhD,CAAjB;AACA,MAAI,MAAM,OAAO,WAAP,CAAmB,GAAnB,CAAV;AACA,MAAI,UAAU,GAAd;AACA,MAAG,OAAO,CAAV,EAAa;AACZ,aAAU,OAAO,MAAP,CAAc,CAAd,EAAiB,GAAjB,CAAV;AACA,YAAS,MAAM,OAAO,MAAP,CAAc,GAAd,CAAf;AACA;AACD,MAAI,SAAS,IAAI,MAAJ,CAAW,MACvB,OAAO,OAAP,CAAe,qCAAf,EAAsD,MAAtD,CADuB,GAEvB,QAAQ,oBAAR,CAA6B,MAFN,GAGvB,QAAQ,OAAR,CAAgB,qCAAhB,EAAuD,MAAvD,CAHuB,GAG0C,GAHrD,CAAb;AAIA,MAAI,MAAM,IAAI,GAAJ,CAAQ,OAAR,EAAiB,QAAQ,uBAAzB,EAAkD,MAAlD,EAA0D,KAA1D,EAAiE,UAAjE,CAAV;AACA,MAAI,GAAJ,GAAU,KAAK,GAAf;AACA,MAAI,OAAJ,GAAc,MAAM,MAAN,IAAgB,MAAM,MAAN,CAAa,QAAb,EAAhB,GAA0C,MAA1C,GAAmD,IAAjE;AACA,MAAI,QAAJ,GAAe,QAAQ,sBAAR,IAAkC,wDAAjD;AACA,SAAO,GAAP;AACA,EApBD,MAoBO;AACN,MAAI,MAAM,IAAI,GAAJ,CAAQ,QAAQ,kBAAhB,EAAoC,QAAQ,oBAA5C,EAAkE,QAAQ,iBAA1E,EAA6F,KAA7F,EAAoG,MAAM,KAA1G,CAAV;AACA,MAAI,GAAJ,GAAU,KAAK,GAAf;AACA,MAAI,QAAJ,GAAe,QAAQ,mBAAR,IAA+B,8CAA9C;AACA,SAAO,GAAP;AACA;AACD,CA3BD","file":"ContextDependencyHelpers-compiled.js","sourcesContent":["/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar ContextDependencyHelpers = exports;\r\n\r\nContextDependencyHelpers.create = function(Dep, range, param, expr, options) {\r\n\tif(param.isWrapped() && (param.prefix && param.prefix.isString() || param.postfix && param.postfix.isString())) {\r\n\t\tvar prefix = param.prefix && param.prefix.isString() ? param.prefix.string : \"\";\r\n\t\tvar postfix = param.postfix && param.postfix.isString() ? param.postfix.string : \"\";\r\n\t\tvar prefixRange = param.prefix && param.prefix.isString() ? param.prefix.range : null;\r\n\t\tvar valueRange = [prefixRange ? prefixRange[1] : param.range[0], param.range[1]];\r\n\t\tvar idx = prefix.lastIndexOf(\"/\");\r\n\t\tvar context = \".\";\r\n\t\tif(idx >= 0) {\r\n\t\t\tcontext = prefix.substr(0, idx);\r\n\t\t\tprefix = \".\" + prefix.substr(idx);\r\n\t\t}\r\n\t\tvar regExp = new RegExp(\"^\" +\r\n\t\t\tprefix.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\") +\r\n\t\t\toptions.wrappedContextRegExp.source +\r\n\t\t\tpostfix.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\") + \"$\");\r\n\t\tvar dep = new Dep(context, options.wrappedContextRecursive, regExp, range, valueRange);\r\n\t\tdep.loc = expr.loc;\r\n\t\tdep.prepend = param.prefix && param.prefix.isString() ? prefix : null;\r\n\t\tdep.critical = options.wrappedContextCritical && \"a part of the request of a dependency is an expression\";\r\n\t\treturn dep;\r\n\t} else {\r\n\t\tvar dep = new Dep(options.exprContextRequest, options.exprContextRecursive, options.exprContextRegExp, range, param.range);\r\n\t\tdep.loc = expr.loc;\r\n\t\tdep.critical = options.exprContextCritical && \"the request of a dependency is an expression\";\r\n\t\treturn dep;\r\n\t}\r\n};\r\n"]}