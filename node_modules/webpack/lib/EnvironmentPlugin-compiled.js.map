{"version":3,"sources":["EnvironmentPlugin.js"],"names":[],"mappings":"AAAA;;;;AAIA,IAAI,eAAe,QAAQ,gBAAR,CAAnB;;AAEA,SAAS,iBAAT,CAA2B,IAA3B,EAAiC;AAChC,MAAK,IAAL,GAAY,MAAM,OAAN,CAAc,IAAd,IAAsB,IAAtB,GAA6B,MAAM,SAAN,CAAgB,KAAhB,CAAsB,IAAtB,CAA2B,SAA3B,CAAzC;AACA;AACD,OAAO,OAAP,GAAiB,iBAAjB;;AAEA,kBAAkB,SAAlB,CAA4B,KAA5B,GAAoC,UAAS,QAAT,EAAmB;AACtD,UAAS,KAAT,CAAe,IAAI,YAAJ,CAAiB,KAAK,IAAL,CAAU,MAAV,CAAiB,UAAS,WAAT,EAAsB,GAAtB,EAA2B;AAC3E,MAAI,QAAQ,QAAQ,GAAR,CAAY,GAAZ,CAAZ;;AAEA,MAAG,UAAU,SAAb,EAAwB;AACvB,YAAS,MAAT,CAAgB,kBAAhB,EAAoC,UAAS,WAAT,EAAsB;AACzD,QAAI,QAAQ,IAAI,KAAJ,CAAU,MAAM,qCAAhB,CAAZ;AACA,UAAM,IAAN,GAAa,4BAAb;AACA,gBAAY,QAAZ,CAAqB,IAArB,CAA0B,KAA1B;AACA,IAJD;AAKA;;AAED,cAAY,iBAAiB,GAA7B,IAAoC,QAAQ,KAAK,SAAL,CAAe,KAAf,CAAR,GAAgC,WAApE;;AAEA,SAAO,WAAP;AACA,EAd+B,EAc7B,EAd6B,CAAjB,CAAf;AAeA,CAhBD","file":"EnvironmentPlugin-compiled.js","sourcesContent":["/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Simen Brekken @simenbrekken\r\n*/\r\nvar DefinePlugin = require(\"./DefinePlugin\");\r\n\r\nfunction EnvironmentPlugin(keys) {\r\n\tthis.keys = Array.isArray(keys) ? keys : Array.prototype.slice.call(arguments);\r\n}\r\nmodule.exports = EnvironmentPlugin;\r\n\r\nEnvironmentPlugin.prototype.apply = function(compiler) {\r\n\tcompiler.apply(new DefinePlugin(this.keys.reduce(function(definitions, key) {\r\n\t\tvar value = process.env[key];\r\n\r\n\t\tif(value === undefined) {\r\n\t\t\tcompiler.plugin(\"this-compilation\", function(compilation) {\r\n\t\t\t\tvar error = new Error(key + \" environment variable is undefined.\");\r\n\t\t\t\terror.name = \"EnvVariableNotDefinedError\";\r\n\t\t\t\tcompilation.warnings.push(error);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tdefinitions[\"process.env.\" + key] = value ? JSON.stringify(value) : \"undefined\";\r\n\r\n\t\treturn definitions;\r\n\t}, {})));\r\n};\r\n"]}