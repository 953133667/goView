{"version":3,"sources":["ContextModule.js"],"names":[],"mappings":"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","file":"ContextModule-compiled.js","sourcesContent":["/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar Module = require(\"./Module\");\r\nvar OriginalSource = require(\"webpack-core/lib/OriginalSource\");\r\nvar RawSource = require(\"webpack-core/lib/RawSource\");\r\n\r\nfunction ContextModule(resolveDependencies, context, recursive, regExp, addon) {\r\n\tModule.call(this);\r\n\tthis.resolveDependencies = resolveDependencies;\r\n\tthis.context = context;\r\n\tthis.recursive = recursive;\r\n\tthis.regExp = regExp;\r\n\tthis.addon = addon;\r\n\tthis.cacheable = true;\r\n\tthis.contextDependencies = [context];\r\n\tthis.built = false;\r\n}\r\nmodule.exports = ContextModule;\r\n\r\nContextModule.prototype = Object.create(Module.prototype);\r\n\r\nContextModule.prototype.identifier = function() {\r\n\tvar identifier = \"\";\r\n\tidentifier += this.context + \" \";\r\n\tif(!this.recursive)\r\n\t\tidentifier += \"nonrecursive \";\r\n\tif(this.addon)\r\n\t\tidentifier += this.addon;\r\n\tif(this.regExp)\r\n\t\tidentifier += this.regExp;\r\n\treturn identifier.replace(/ $/, \"\");\r\n};\r\n\r\nfunction prettyRegExp(str) {\r\n\treturn str.substring(1, str.length - 1);\r\n}\r\n\r\nContextModule.prototype.readableIdentifier = function(requestShortener) {\r\n\tvar identifier = \"\";\r\n\tidentifier += requestShortener.shorten(this.context) + \" \";\r\n\tif(!this.recursive)\r\n\t\tidentifier += \"nonrecursive \";\r\n\tif(this.addon)\r\n\t\tidentifier += requestShortener.shorten(this.addon);\r\n\tif(this.regExp)\r\n\t\tidentifier += prettyRegExp(this.regExp + \"\");\r\n\treturn identifier.replace(/ $/, \"\");\r\n};\r\n\r\nContextModule.prototype.needRebuild = function(fileTimestamps, contextTimestamps) {\r\n\tvar ts = contextTimestamps[this.context];\r\n\tif(!ts) return true;\r\n\treturn ts >= this.builtTime;\r\n};\r\n\r\nContextModule.prototype.disconnect = function disconnect() {\r\n\tthis.built = false;\r\n\tModule.prototype.disconnect.call(this);\r\n};\r\n\r\nContextModule.prototype.build = function(options, compilation, resolver, fs, callback) {\r\n\tthis.built = true;\r\n\tthis.builtTime = new Date().getTime();\r\n\tvar addon = this.addon;\r\n\tthis.resolveDependencies(fs, this.context, this.recursive, this.regExp, function(err, dependencies) {\r\n\t\tif(err) return callback(err);\r\n\t\tif(dependencies) {\r\n\t\t\tdependencies.forEach(function(dep) {\r\n\t\t\t\tdep.loc = dep.userRequest;\r\n\t\t\t\tdep.request = addon + dep.request;\r\n\t\t\t});\r\n\t\t}\r\n\t\tthis.dependencies = dependencies;\r\n\t\tcallback();\r\n\t}.bind(this));\r\n};\r\n\r\nContextModule.prototype.source = function() {\r\n\tvar str;\r\n\tif(this.dependencies && this.dependencies.length > 0) {\r\n\t\tvar map = {};\r\n\t\tthis.dependencies.slice().sort(function(a, b) {\r\n\t\t\tif(a.userRequest === b.userRequest) return 0;\r\n\t\t\treturn a.userRequest < b.userRequest ? -1 : 1;\r\n\t\t}).forEach(function(dep) {\r\n\t\t\tif(dep.module)\r\n\t\t\t\tmap[dep.userRequest] = dep.module.id;\r\n\t\t});\r\n\t\tstr = [\r\n\t\t\t\"var map = \", JSON.stringify(map, null, \"\\t\"), \";\\n\",\r\n\t\t\t\"function webpackContext(req) {\\n\",\r\n\t\t\t\"\\treturn __webpack_require__(webpackContextResolve(req));\\n\",\r\n\t\t\t\"};\\n\",\r\n\t\t\t\"function webpackContextResolve(req) {\\n\",\r\n\t\t\t\"\\treturn map[req] || (function() { throw new Error(\\\"Cannot find module '\\\" + req + \\\"'.\\\") }());\\n\",\r\n\t\t\t\"};\\n\",\r\n\t\t\t\"webpackContext.keys = function webpackContextKeys() {\\n\",\r\n\t\t\t\"\\treturn Object.keys(map);\\n\",\r\n\t\t\t\"};\\n\",\r\n\t\t\t\"webpackContext.resolve = webpackContextResolve;\\n\",\r\n\t\t\t\"module.exports = webpackContext;\\n\",\r\n\t\t\t\"webpackContext.id = \" + this.id + \";\\n\"\r\n\t\t];\r\n\t} else {\r\n\t\tstr = [\r\n\t\t\t\"function webpackContext(req) {\\n\",\r\n\t\t\t\"\\tthrow new Error(\\\"Cannot find module '\\\" + req + \\\"'.\\\");\\n\",\r\n\t\t\t\"}\\n\",\r\n\t\t\t\"webpackContext.keys = function() { return []; };\\n\",\r\n\t\t\t\"webpackContext.resolve = webpackContext;\\n\",\r\n\t\t\t\"module.exports = webpackContext;\\n\",\r\n\t\t\t\"webpackContext.id = \" + this.id + \";\\n\"\r\n\t\t];\r\n\t}\r\n\tif(this.useSourceMap) {\r\n\t\treturn new OriginalSource(str.join(\"\"), this.identifier());\r\n\t} else {\r\n\t\treturn new RawSource(str.join(\"\"));\r\n\t}\r\n};\r\n\r\nContextModule.prototype.size = function() {\r\n\treturn this.dependencies.map(function(dep) {\r\n\t\treturn dep.userRequest.length + 5;\r\n\t}).reduce(function(a, b) {\r\n\t\treturn a + b;\r\n\t}, 160);\r\n};\r\n"]}