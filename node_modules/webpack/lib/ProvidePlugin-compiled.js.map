{"version":3,"sources":["ProvidePlugin.js"],"names":[],"mappings":"AAAA;;;;AAIA,IAAI,sBAAsB,QAAQ,uBAAR,CAA1B;AACA,IAAI,kBAAkB,QAAQ,gCAAR,CAAtB;;AAEA,IAAI,cAAc,QAAQ,eAAR,CAAlB;;AAEA,SAAS,aAAT,CAAuB,WAAvB,EAAoC;AACnC,MAAK,WAAL,GAAmB,WAAnB;AACA;AACD,OAAO,OAAP,GAAiB,aAAjB;AACA,cAAc,SAAd,CAAwB,KAAxB,GAAgC,UAAS,QAAT,EAAmB;AAClD,UAAS,MAAT,CAAgB,aAAhB,EAA+B,UAAS,WAAT,EAAsB;AACpD,cAAY,mBAAZ,CAAgC,GAAhC,CAAoC,eAApC,EAAqD,IAAI,WAAJ,EAArD;AACA,cAAY,mBAAZ,CAAgC,GAAhC,CAAoC,eAApC,EAAqD,IAAI,gBAAgB,QAApB,EAArD;AACA,EAHD;AAIA,QAAO,IAAP,CAAY,KAAK,WAAjB,EAA8B,OAA9B,CAAsC,UAAS,IAAT,EAAe;AACpD,MAAI,UAAU,KAAK,WAAL,CAAiB,IAAjB,CAAd;AACA,MAAI,eAAe,KAAK,KAAL,CAAW,GAAX,CAAnB;AACA,MAAG,aAAa,MAAb,GAAsB,CAAzB,EAA4B;AAC3B,gBAAa,KAAb,CAAmB,CAAnB,EAAsB,OAAtB,CAA8B,UAAS,CAAT,EAAY,CAAZ,EAAe;AAC5C,QAAI,OAAO,aAAa,KAAb,CAAmB,CAAnB,EAAsB,IAAI,CAA1B,EAA6B,IAA7B,CAAkC,GAAlC,CAAX;AACA,aAAS,MAAT,CAAgB,MAAhB,CAAuB,gBAAgB,IAAvC,EAA6C,YAAW;AACvD,YAAO,IAAP;AACA,KAFD;AAGA,IALD;AAMA;AACD,WAAS,MAAT,CAAgB,MAAhB,CAAuB,gBAAgB,IAAvC,EAA6C,UAAS,IAAT,EAAe;AAC3D,OAAI,iBAAiB,IAArB;AACA,OAAI,aAAa,KAAK,OAAL,CAAa,GAAb,KAAqB,CAAtC;AACA,OAAG,UAAH,EAAe;AACd,qBAAiB,wBAAwB,KAAK,OAAL,CAAa,KAAb,EAAoB,OAApB,CAAzC;AACA;AACD,OAAG,CAAC,oBAAoB,iBAApB,CAAsC,IAAtC,EAA4C,cAA5C,EAA4D,aAAa,KAAK,SAAL,CAAe,OAAf,CAAb,GAAuC,GAAnG,CAAJ,EAA6G;AAC5G,WAAO,KAAP;AACA;AACD,OAAG,UAAH,EAAe;AACd,qBAAiB,wBAAwB,KAAK,OAAL,CAAa,KAAb,EAAoB,OAApB,CAAzC;AACA,QAAI,MAAM,IAAI,eAAJ,CAAoB,cAApB,EAAoC,KAAK,KAAzC,CAAV;AACA,QAAI,GAAJ,GAAU,KAAK,GAAf;AACA,SAAK,KAAL,CAAW,OAAX,CAAmB,aAAnB,CAAiC,GAAjC;AACA;AACD,UAAO,IAAP;AACA,GAhBD;AAiBA,EA5BD,EA4BG,IA5BH;AA6BA,CAlCD","file":"ProvidePlugin-compiled.js","sourcesContent":["/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar ModuleParserHelpers = require(\"./ModuleParserHelpers\");\r\nvar ConstDependency = require(\"./dependencies/ConstDependency\");\r\n\r\nvar NullFactory = require(\"./NullFactory\");\r\n\r\nfunction ProvidePlugin(definitions) {\r\n\tthis.definitions = definitions;\r\n}\r\nmodule.exports = ProvidePlugin;\r\nProvidePlugin.prototype.apply = function(compiler) {\r\n\tcompiler.plugin(\"compilation\", function(compilation) {\r\n\t\tcompilation.dependencyFactories.set(ConstDependency, new NullFactory());\r\n\t\tcompilation.dependencyTemplates.set(ConstDependency, new ConstDependency.Template());\r\n\t});\r\n\tObject.keys(this.definitions).forEach(function(name) {\r\n\t\tvar request = this.definitions[name];\r\n\t\tvar splittedName = name.split(\".\");\r\n\t\tif(splittedName.length > 0) {\r\n\t\t\tsplittedName.slice(1).forEach(function(_, i) {\r\n\t\t\t\tvar name = splittedName.slice(0, i + 1).join(\".\");\r\n\t\t\t\tcompiler.parser.plugin(\"can-rename \" + name, function() {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t\tcompiler.parser.plugin(\"expression \" + name, function(expr) {\r\n\t\t\tvar nameIdentifier = name;\r\n\t\t\tvar scopedName = name.indexOf(\".\") >= 0;\r\n\t\t\tif(scopedName) {\r\n\t\t\t\tnameIdentifier = \"__webpack_provided_\" + name.replace(/\\./g, \"_dot_\");\r\n\t\t\t}\r\n\t\t\tif(!ModuleParserHelpers.addParsedVariable(this, nameIdentifier, \"require(\" + JSON.stringify(request) + \")\")) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif(scopedName) {\r\n\t\t\t\tnameIdentifier = \"__webpack_provided_\" + name.replace(/\\./g, \"_dot_\");\r\n\t\t\t\tvar dep = new ConstDependency(nameIdentifier, expr.range);\r\n\t\t\t\tdep.loc = expr.loc;\r\n\t\t\t\tthis.state.current.addDependency(dep);\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t});\r\n\t}, this);\r\n};\r\n"]}