{"version":3,"sources":["Parser.js"],"names":[],"mappings":"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","file":"Parser-compiled.js","sourcesContent":["/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar acorn = require(\"acorn\");\r\nvar Tapable = require(\"tapable\");\r\nvar BasicEvaluatedExpression = require(\"./BasicEvaluatedExpression\");\r\n\r\nfunction Parser(options) {\r\n\tTapable.call(this);\r\n\tthis.options = options;\r\n\tthis.initializeEvaluating();\r\n}\r\nmodule.exports = Parser;\r\n\r\n// Syntax: https://developer.mozilla.org/en/SpiderMonkey/Parser_API\r\n\r\nParser.prototype = Object.create(Tapable.prototype);\r\nParser.prototype.constructor = Parser;\r\n\r\nParser.prototype.initializeEvaluating = function() {\r\n\tfunction joinRanges(startRange, endRange) {\r\n\t\tif(!endRange) return startRange;\r\n\t\tif(!startRange) return endRange;\r\n\t\treturn [startRange[0], endRange[1]];\r\n\t}\r\n\tthis.plugin(\"evaluate Literal\", function(expr) {\r\n\t\tswitch(typeof expr.value) {\r\n\t\t\tcase \"number\":\r\n\t\t\t\treturn new BasicEvaluatedExpression().setNumber(expr.value).setRange(expr.range);\r\n\t\t\tcase \"string\":\r\n\t\t\t\treturn new BasicEvaluatedExpression().setString(expr.value).setRange(expr.range);\r\n\t\t\tcase \"boolean\":\r\n\t\t\t\treturn new BasicEvaluatedExpression().setBoolean(expr.value).setRange(expr.range);\r\n\t\t}\r\n\t\tif(expr.value === null)\r\n\t\t\treturn new BasicEvaluatedExpression().setNull().setRange(expr.range);\r\n\t\tif(expr.value instanceof RegExp)\r\n\t\t\treturn new BasicEvaluatedExpression().setRegExp(expr.value).setRange(expr.range);\r\n\t});\r\n\tthis.plugin(\"evaluate LogicalExpression\", function(expr) {\r\n\t\tvar left;\r\n\t\tvar leftAsBool;\r\n\t\tvar right;\r\n\t\tif(expr.operator === \"&&\") {\r\n\t\t\tleft = this.evaluateExpression(expr.left);\r\n\t\t\tleftAsBool = left && left.asBool();\r\n\t\t\tif(leftAsBool === false) return left.setRange(expr.range);\r\n\t\t\tif(leftAsBool !== true) return;\r\n\t\t\tright = this.evaluateExpression(expr.right);\r\n\t\t\treturn right.setRange(expr.range);\r\n\t\t} else if(expr.operator === \"||\") {\r\n\t\t\tleft = this.evaluateExpression(expr.left);\r\n\t\t\tleftAsBool = left && left.asBool();\r\n\t\t\tif(leftAsBool === true) return left.setRange(expr.range);\r\n\t\t\tif(leftAsBool !== false) return;\r\n\t\t\tright = this.evaluateExpression(expr.right);\r\n\t\t\treturn right.setRange(expr.range);\r\n\t\t}\r\n\t});\r\n\tthis.plugin(\"evaluate BinaryExpression\", function(expr) {\r\n\t\tvar left;\r\n\t\tvar right;\r\n\t\tvar res;\r\n\t\tif(expr.operator === \"+\") {\r\n\t\t\tleft = this.evaluateExpression(expr.left);\r\n\t\t\tright = this.evaluateExpression(expr.right);\r\n\t\t\tif(!left || !right) return;\r\n\t\t\tres = new BasicEvaluatedExpression();\r\n\t\t\tif(left.isString()) {\r\n\t\t\t\tif(right.isString()) {\r\n\t\t\t\t\tres.setString(left.string + right.string);\r\n\t\t\t\t} else if(right.isNumber()) {\r\n\t\t\t\t\tres.setString(left.string + right.number);\r\n\t\t\t\t} else if(right.isWrapped() && right.prefix && right.prefix.isString()) {\r\n\t\t\t\t\tres.setWrapped(\r\n\t\t\t\t\t\tnew BasicEvaluatedExpression()\r\n\t\t\t\t\t\t.setString(left.string + right.prefix.string)\r\n\t\t\t\t\t\t.setRange(joinRanges(left.range, right.prefix.range)),\r\n\t\t\t\t\t\tright.postfix);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tres.setWrapped(left, null);\r\n\t\t\t\t}\r\n\t\t\t} else if(left.isNumber()) {\r\n\t\t\t\tif(right.isString()) {\r\n\t\t\t\t\tres.setString(left.number + right.string);\r\n\t\t\t\t} else if(right.isNumber()) {\r\n\t\t\t\t\tres.setNumber(left.number + right.number);\r\n\t\t\t\t}\r\n\t\t\t} else if(left.isWrapped()) {\r\n\t\t\t\tif(left.postfix && left.postfix.isString() && right.isString()) {\r\n\t\t\t\t\tres.setWrapped(left.prefix,\r\n\t\t\t\t\t\tnew BasicEvaluatedExpression()\r\n\t\t\t\t\t\t.setString(left.postfix.string + right.string)\r\n\t\t\t\t\t\t.setRange(joinRanges(left.postfix.range, right.range))\r\n\t\t\t\t\t);\r\n\t\t\t\t} else if(left.postfix && left.postfix.isString() && right.isNumber()) {\r\n\t\t\t\t\tres.setWrapped(left.prefix,\r\n\t\t\t\t\t\tnew BasicEvaluatedExpression()\r\n\t\t\t\t\t\t.setString(left.postfix.string + right.number)\r\n\t\t\t\t\t\t.setRange(joinRanges(left.postfix.range, right.range))\r\n\t\t\t\t\t);\r\n\t\t\t\t} else if(right.isString()) {\r\n\t\t\t\t\tres.setWrapped(left.prefix, right);\r\n\t\t\t\t} else if(right.isNumber()) {\r\n\t\t\t\t\tres.setWrapped(left.prefix,\r\n\t\t\t\t\t\tnew BasicEvaluatedExpression()\r\n\t\t\t\t\t\t.setString(right.number + \"\")\r\n\t\t\t\t\t\t.setRange(right.range));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tres.setWrapped(left.prefix, new BasicEvaluatedExpression());\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif(right.isString()) {\r\n\t\t\t\t\tres.setWrapped(null, right);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tres.setRange(expr.range);\r\n\t\t\treturn res;\r\n\t\t} else if(expr.operator === \"-\") {\r\n\t\t\tleft = this.evaluateExpression(expr.left);\r\n\t\t\tright = this.evaluateExpression(expr.right);\r\n\t\t\tif(!left || !right) return;\r\n\t\t\tif(!left.isNumber() || !right.isNumber()) return;\r\n\t\t\tres = new BasicEvaluatedExpression();\r\n\t\t\tres.setNumber(left.number - right.number);\r\n\t\t\tres.setRange(expr.range);\r\n\t\t\treturn res;\r\n\t\t} else if(expr.operator === \"*\") {\r\n\t\t\tleft = this.evaluateExpression(expr.left);\r\n\t\t\tright = this.evaluateExpression(expr.right);\r\n\t\t\tif(!left || !right) return;\r\n\t\t\tif(!left.isNumber() || !right.isNumber()) return;\r\n\t\t\tres = new BasicEvaluatedExpression();\r\n\t\t\tres.setNumber(left.number * right.number);\r\n\t\t\tres.setRange(expr.range);\r\n\t\t\treturn res;\r\n\t\t} else if(expr.operator === \"/\") {\r\n\t\t\tleft = this.evaluateExpression(expr.left);\r\n\t\t\tright = this.evaluateExpression(expr.right);\r\n\t\t\tif(!left || !right) return;\r\n\t\t\tif(!left.isNumber() || !right.isNumber()) return;\r\n\t\t\tres = new BasicEvaluatedExpression();\r\n\t\t\tres.setNumber(left.number / right.number);\r\n\t\t\tres.setRange(expr.range);\r\n\t\t\treturn res;\r\n\t\t} else if(expr.operator === \"==\" || expr.operator === \"===\") {\r\n\t\t\tleft = this.evaluateExpression(expr.left);\r\n\t\t\tright = this.evaluateExpression(expr.right);\r\n\t\t\tif(!left || !right) return;\r\n\t\t\tres = new BasicEvaluatedExpression();\r\n\t\t\tres.setRange(expr.range);\r\n\t\t\tif(left.isString() && right.isString()) {\r\n\t\t\t\treturn res.setBoolean(left.string === right.string);\r\n\t\t\t} else if(left.isNumber() && right.isNumber()) {\r\n\t\t\t\treturn res.setBoolean(left.number === right.number);\r\n\t\t\t} else if(left.isBoolean() && right.isBoolean()) {\r\n\t\t\t\treturn res.setBoolean(left.bool === right.bool);\r\n\t\t\t}\r\n\t\t} else if(expr.operator === \"!=\" || expr.operator === \"!==\") {\r\n\t\t\tleft = this.evaluateExpression(expr.left);\r\n\t\t\tright = this.evaluateExpression(expr.right);\r\n\t\t\tif(!left || !right) return;\r\n\t\t\tres = new BasicEvaluatedExpression();\r\n\t\t\tres.setRange(expr.range);\r\n\t\t\tif(left.isString() && right.isString()) {\r\n\t\t\t\treturn res.setBoolean(left.string !== right.string);\r\n\t\t\t} else if(left.isNumber() && right.isNumber()) {\r\n\t\t\t\treturn res.setBoolean(left.number !== right.number);\r\n\t\t\t} else if(left.isBoolean() && right.isBoolean()) {\r\n\t\t\t\treturn res.setBoolean(left.bool !== right.bool);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\tthis.plugin(\"evaluate UnaryExpression\", function(expr) {\r\n\t\tif(expr.operator === \"typeof\") {\r\n\t\t\tvar res;\r\n\t\t\tif(expr.argument.type === \"Identifier\") {\r\n\t\t\t\tvar name = this.scope.renames[\"$\" + expr.argument.name] || expr.argument.name;\r\n\t\t\t\tif(this.scope.definitions.indexOf(name) === -1) {\r\n\t\t\t\t\tres = this.applyPluginsBailResult(\"evaluate typeof \" + name, expr);\r\n\t\t\t\t\tif(res !== undefined) return res;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(expr.argument.type === \"MemberExpression\") {\r\n\t\t\t\tvar expression = expr.argument;\r\n\t\t\t\tvar exprName = [];\r\n\t\t\t\twhile(expression.type === \"MemberExpression\" && !expression.computed) {\r\n\t\t\t\t\texprName.unshift(this.scope.renames[\"$\" + expression.property.name] || expression.property.name);\r\n\t\t\t\t\texpression = expression.object;\r\n\t\t\t\t}\r\n\t\t\t\tif(expression.type === \"Identifier\") {\r\n\t\t\t\t\texprName.unshift(this.scope.renames[\"$\" + expression.name] || expression.name);\r\n\t\t\t\t\tif(this.scope.definitions.indexOf(name) === -1) {\r\n\t\t\t\t\t\texprName = exprName.join(\".\");\r\n\t\t\t\t\t\tres = this.applyPluginsBailResult(\"evaluate typeof \" + exprName, expr);\r\n\t\t\t\t\t\tif(res !== undefined) return res;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(expr.argument.type === \"FunctionExpression\") {\r\n\t\t\t\treturn new BasicEvaluatedExpression().setString(\"function\").setRange(expr.range);\r\n\t\t\t}\r\n\t\t\tvar arg = this.evaluateExpression(expr.argument);\r\n\t\t\tif(arg.isString() || arg.isWrapped()) return new BasicEvaluatedExpression().setString(\"string\").setRange(expr.range);\r\n\t\t\telse if(arg.isNumber()) return new BasicEvaluatedExpression().setString(\"number\").setRange(expr.range);\r\n\t\t\telse if(arg.isBoolean()) return new BasicEvaluatedExpression().setString(\"boolean\").setRange(expr.range);\r\n\t\t\telse if(arg.isArray() || arg.isConstArray() || arg.isRegExp()) return new BasicEvaluatedExpression().setString(\"object\").setRange(expr.range);\r\n\t\t} else if(expr.operator === \"!\") {\r\n\t\t\tvar argument = this.evaluateExpression(expr.argument);\r\n\t\t\tif(!argument) return;\r\n\t\t\tif(argument.isBoolean()) {\r\n\t\t\t\treturn new BasicEvaluatedExpression().setBoolean(!argument.bool).setRange(expr.range);\r\n\t\t\t} else if(argument.isString()) {\r\n\t\t\t\treturn new BasicEvaluatedExpression().setBoolean(!argument.string).setRange(expr.range);\r\n\t\t\t} else if(argument.isNumber()) {\r\n\t\t\t\treturn new BasicEvaluatedExpression().setBoolean(!argument.number).setRange(expr.range);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\tthis.plugin(\"evaluate typeof undefined\", function(expr) {\r\n\t\treturn new BasicEvaluatedExpression().setString(\"undefined\").setRange(expr.range);\r\n\t});\r\n\tthis.plugin(\"evaluate Identifier\", function(expr) {\r\n\t\tvar name = this.scope.renames[\"$\" + expr.name] || expr.name;\r\n\t\tif(this.scope.definitions.indexOf(expr.name) === -1) {\r\n\t\t\tvar result = this.applyPluginsBailResult(\"evaluate Identifier \" + name, expr);\r\n\t\t\tif(result) return result;\r\n\t\t\treturn new BasicEvaluatedExpression().setIdentifier(name).setRange(expr.range);\r\n\t\t} else {\r\n\t\t\treturn this.applyPluginsBailResult(\"evaluate defined Identifier \" + name, expr);\r\n\t\t}\r\n\t});\r\n\tthis.plugin(\"evaluate MemberExpression\", function(expression) {\r\n\t\tvar expr = expression;\r\n\t\tvar exprName = [];\r\n\t\twhile(expr.type === \"MemberExpression\" && !expr.computed) {\r\n\t\t\texprName.unshift(expr.property.name);\r\n\t\t\texpr = expr.object;\r\n\t\t}\r\n\t\tif(expr.type === \"Identifier\") {\r\n\t\t\tvar name = this.scope.renames[\"$\" + expr.name] || expr.name;\r\n\t\t\tif(this.scope.definitions.indexOf(name) === -1) {\r\n\t\t\t\texprName.unshift(name);\r\n\t\t\t\texprName = exprName.join(\".\");\r\n\t\t\t\tif(this.scope.definitions.indexOf(expr.name) === -1) {\r\n\t\t\t\t\tvar result = this.applyPluginsBailResult(\"evaluate Identifier \" + exprName, expression);\r\n\t\t\t\t\tif(result) return result;\r\n\t\t\t\t\treturn new BasicEvaluatedExpression().setIdentifier(exprName).setRange(expression.range);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn this.applyPluginsBailResult(\"evaluate defined Identifier \" + exprName, expression);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\tthis.plugin(\"evaluate CallExpression\", function(expr) {\r\n\t\tif(expr.callee.type !== \"MemberExpression\") return;\r\n\t\tif(expr.callee.computed) return;\r\n\t\tvar param = this.evaluateExpression(expr.callee.object);\r\n\t\tif(!param) return;\r\n\t\treturn this.applyPluginsBailResult(\"evaluate CallExpression .\" + expr.callee.property.name, expr, param);\r\n\t});\r\n\tthis.plugin(\"evaluate CallExpression .replace\", function(expr, param) {\r\n\t\tif(!param.isString()) return;\r\n\t\tif(expr.arguments.length !== 2) return;\r\n\t\tvar arg1 = this.evaluateExpression(expr.arguments[0]);\r\n\t\tvar arg2 = this.evaluateExpression(expr.arguments[1]);\r\n\t\tif(!arg1.isString() && !arg1.isRegExp()) return;\r\n\t\targ1 = arg1.regExp || arg1.string;\r\n\t\tif(!arg2.isString()) return;\r\n\t\targ2 = arg2.string;\r\n\t\treturn new BasicEvaluatedExpression().setString(param.string.replace(arg1, arg2)).setRange(expr.range);\r\n\t});\r\n\t[\"substr\", \"substring\"].forEach(function(fn) {\r\n\t\tthis.plugin(\"evaluate CallExpression .\" + fn, function(expr, param) {\r\n\t\t\tif(!param.isString()) return;\r\n\t\t\tvar arg1;\r\n\t\t\tvar result, str = param.string;\r\n\t\t\tswitch(expr.arguments.length) {\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\targ1 = this.evaluateExpression(expr.arguments[0]);\r\n\t\t\t\t\tif(!arg1.isNumber()) return;\r\n\t\t\t\t\tresult = str[fn](arg1.number);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\targ1 = this.evaluateExpression(expr.arguments[0]);\r\n\t\t\t\t\tvar arg2 = this.evaluateExpression(expr.arguments[1]);\r\n\t\t\t\t\tif(!arg1.isNumber()) return;\r\n\t\t\t\t\tif(!arg2.isNumber()) return;\r\n\t\t\t\t\tresult = str[fn](arg1.number, arg2.number);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\treturn new BasicEvaluatedExpression().setString(result).setRange(expr.range);\r\n\t\t});\r\n\t}, this);\r\n\tthis.plugin(\"evaluate CallExpression .split\", function(expr, param) {\r\n\t\tif(!param.isString()) return;\r\n\t\tif(expr.arguments.length !== 1) return;\r\n\t\tvar result;\r\n\t\tvar arg = this.evaluateExpression(expr.arguments[0]);\r\n\t\tif(arg.isString()) {\r\n\t\t\tresult = param.string.split(arg.string);\r\n\t\t} else if(arg.isRegExp()) {\r\n\t\t\tresult = param.string.split(arg.regExp);\r\n\t\t} else return;\r\n\t\treturn new BasicEvaluatedExpression().setArray(result).setRange(expr.range);\r\n\t});\r\n\tthis.plugin(\"evaluate ConditionalExpression\", function(expr) {\r\n\t\tvar condition = this.evaluateExpression(expr.test);\r\n\t\tvar conditionValue = condition.asBool();\r\n\t\tvar res;\r\n\t\tif(conditionValue === undefined) {\r\n\t\t\tvar consequent = this.evaluateExpression(expr.consequent);\r\n\t\t\tvar alternate = this.evaluateExpression(expr.alternate);\r\n\t\t\tif(!consequent || !alternate) return;\r\n\t\t\tres = new BasicEvaluatedExpression();\r\n\t\t\tif(consequent.isConditional())\r\n\t\t\t\tres.setOptions(consequent.options);\r\n\t\t\telse\r\n\t\t\t\tres.setOptions([consequent]);\r\n\t\t\tif(alternate.isConditional())\r\n\t\t\t\tres.addOptions(alternate.options);\r\n\t\t\telse\r\n\t\t\t\tres.addOptions([alternate]);\r\n\t\t} else {\r\n\t\t\tres = this.evaluateExpression(conditionValue ? expr.consequent : expr.alternate);\r\n\t\t}\r\n\t\tres.setRange(expr.range);\r\n\t\treturn res;\r\n\t});\r\n\tthis.plugin(\"evaluate ArrayExpression\", function(expr) {\r\n\t\tvar items = expr.elements.map(function(element) {\r\n\t\t\treturn element !== null && this.evaluateExpression(element);\r\n\t\t}, this);\r\n\t\tif(items.filter(function(i) {\r\n\t\t\t\treturn !i;\r\n\t\t\t}).length > 0) return;\r\n\t\treturn new BasicEvaluatedExpression().setItems(items).setRange(expr.range);\r\n\t});\r\n};\r\n\r\nParser.prototype.getRenameIdentifier = function getRenameIdentifier(expr) {\r\n\tvar result = this.evaluateExpression(expr);\r\n\tif(!result) return;\r\n\tif(result.isIdentifier()) return result.identifier;\r\n\treturn;\r\n};\r\n\r\nParser.prototype.walkClass = function walkClass(classy) {\r\n\tif(classy.superClass)\r\n\t\tthis.walkExpression(classy.superClass);\r\n\tif(classy.body && classy.body.type === \"ClassBody\") {\r\n\t\tclassy.body.body.forEach(function(methodDefinition) {\r\n\t\t\tif(methodDefinition.type === \"MethodDefinition\")\r\n\t\t\t\tthis.walkMethodDefinition(methodDefinition);\r\n\t\t}, this);\r\n\t}\r\n};\r\n\r\nParser.prototype.walkMethodDefinition = function walkMethodDefinition(methodDefinition) {\r\n\tif(methodDefinition.computed && methodDefinition.key)\r\n\t\tthis.walkExpression(methodDefinition.key);\r\n\tif(methodDefinition.value)\r\n\t\tthis.walkExpression(methodDefinition.value);\r\n};\r\n\r\nParser.prototype.walkStatements = function walkStatements(statements) {\r\n\tstatements.forEach(function(statement) {\r\n\t\tthis.walkStatement(statement);\r\n\t}, this);\r\n};\r\n\r\nParser.prototype.walkStatement = function walkStatement(statement) {\r\n\tif(this.applyPluginsBailResult(\"statement\", statement) !== undefined) return;\r\n\tif(this[\"walk\" + statement.type])\r\n\t\tthis[\"walk\" + statement.type](statement);\r\n};\r\n\r\n// Real Statements\r\nParser.prototype.walkBlockStatement = function walkBlockStatement(statement) {\r\n\tthis.walkStatements(statement.body);\r\n};\r\n\r\nParser.prototype.walkExpressionStatement = function walkExpressionStatement(statement) {\r\n\tthis.walkExpression(statement.expression);\r\n};\r\n\r\nParser.prototype.walkIfStatement = function walkIfStatement(statement) {\r\n\tvar result = this.applyPluginsBailResult(\"statement if\", statement);\r\n\tif(result === undefined) {\r\n\t\tthis.walkExpression(statement.test);\r\n\t\tthis.walkStatement(statement.consequent);\r\n\t\tif(statement.alternate)\r\n\t\t\tthis.walkStatement(statement.alternate);\r\n\t} else {\r\n\t\tif(result)\r\n\t\t\tthis.walkStatement(statement.consequent);\r\n\t\telse if(statement.alternate)\r\n\t\t\tthis.walkStatement(statement.alternate);\r\n\t}\r\n};\r\n\r\nParser.prototype.walkLabeledStatement = function walkLabeledStatement(statement) {\r\n\tvar result = this.applyPluginsBailResult(\"label \" + statement.label.name, statement);\r\n\tif(result !== true)\r\n\t\tthis.walkStatement(statement.body);\r\n};\r\n\r\nParser.prototype.walkWithStatement = function walkWithStatement(statement) {\r\n\tthis.walkExpression(statement.object);\r\n\tthis.walkStatement(statement.body);\r\n};\r\n\r\nParser.prototype.walkSwitchStatement = function walkSwitchStatement(statement) {\r\n\tthis.walkExpression(statement.discriminant);\r\n\tthis.walkSwitchCases(statement.cases);\r\n};\r\n\r\nParser.prototype.walkReturnStatement =\r\n\tParser.prototype.walkThrowStatement = function walkArgumentStatement(statement) {\r\n\t\tif(statement.argument)\r\n\t\t\tthis.walkExpression(statement.argument);\r\n\t};\r\n\r\nParser.prototype.walkTryStatement = function walkTryStatement(statement) {\r\n\tif(this.scope.inTry) {\r\n\t\tthis.walkStatement(statement.block);\r\n\t} else {\r\n\t\tthis.scope.inTry = true;\r\n\t\tthis.walkStatement(statement.block);\r\n\t\tthis.scope.inTry = false;\r\n\t}\r\n\tif(statement.handler)\r\n\t\tthis.walkCatchClause(statement.handler);\r\n\tif(statement.finalizer)\r\n\t\tthis.walkStatement(statement.finalizer);\r\n};\r\n\r\nParser.prototype.walkWhileStatement =\r\n\tParser.prototype.walkDoWhileStatement = function walkLoopStatement(statement) {\r\n\t\tthis.walkExpression(statement.test);\r\n\t\tthis.walkStatement(statement.body);\r\n\t};\r\n\r\nParser.prototype.walkForStatement = function walkForStatement(statement) {\r\n\tif(statement.init) {\r\n\t\tif(statement.init.type === \"VariableDeclaration\")\r\n\t\t\tthis.walkStatement(statement.init);\r\n\t\telse\r\n\t\t\tthis.walkExpression(statement.init);\r\n\t}\r\n\tif(statement.test)\r\n\t\tthis.walkExpression(statement.test);\r\n\tif(statement.update)\r\n\t\tthis.walkExpression(statement.update);\r\n\tthis.walkStatement(statement.body);\r\n};\r\n\r\nParser.prototype.walkForInStatement = function walkForInStatement(statement) {\r\n\tif(statement.left.type === \"VariableDeclaration\")\r\n\t\tthis.walkStatement(statement.left);\r\n\telse\r\n\t\tthis.walkExpression(statement.left);\r\n\tthis.walkExpression(statement.right);\r\n\tthis.walkStatement(statement.body);\r\n};\r\n\r\nParser.prototype.walkForOfStatement = function walkForOfStatement(statement) {\r\n\tif(statement.left.type === \"VariableDeclaration\")\r\n\t\tthis.walkStatement(statement.left);\r\n\telse\r\n\t\tthis.walkExpression(statement.left);\r\n\tthis.walkExpression(statement.right);\r\n\tthis.walkStatement(statement.body);\r\n};\r\n\r\n// Declarations\r\nParser.prototype.walkFunctionDeclaration = function walkFunctionDeclaration(statement) {\r\n\tthis.scope.renames[\"$\" + statement.id.name] = undefined;\r\n\tthis.scope.definitions.push(statement.id.name);\r\n\tthis.inScope(statement.params, function() {\r\n\t\tif(statement.body.type === \"BlockStatement\")\r\n\t\t\tthis.walkStatement(statement.body);\r\n\t\telse\r\n\t\t\tthis.walkExpression(statement.body);\r\n\t}.bind(this));\r\n};\r\n\r\nParser.prototype.walkVariableDeclaration = function walkVariableDeclaration(statement) {\r\n\tif(statement.declarations)\r\n\t\tthis.walkVariableDeclarators(statement.declarations);\r\n};\r\n\r\nParser.prototype.walkClassDeclaration = function walkClassDeclaration(statement) {\r\n\tthis.walkClass(statement);\r\n};\r\n\r\nParser.prototype.walkSwitchCases = function walkSwitchCases(switchCases) {\r\n\tswitchCases.forEach(function(switchCase) {\r\n\t\tif(switchCase.test)\r\n\t\t\tthis.walkExpression(switchCase.test);\r\n\t\tthis.walkStatements(switchCase.consequent);\r\n\t}, this);\r\n};\r\n\r\nParser.prototype.walkCatchClause = function walkCatchClause(catchClause) {\r\n\tif(catchClause.guard)\r\n\t\tthis.walkExpression(catchClause.guard);\r\n\tthis.inScope([catchClause.param], function() {\r\n\t\tthis.walkStatement(catchClause.body);\r\n\t}.bind(this));\r\n};\r\n\r\nParser.prototype.walkVariableDeclarators = function walkVariableDeclarators(declarators) {\r\n\tdeclarators.forEach(function(declarator) {\r\n\t\tswitch(declarator.type) {\r\n\t\t\tcase \"VariableDeclarator\":\r\n\t\t\t\tvar renameIdentifier = declarator.init && this.getRenameIdentifier(declarator.init);\r\n\t\t\t\tif(renameIdentifier && declarator.id.type === \"Identifier\" && this.applyPluginsBailResult(\"can-rename \" + renameIdentifier, declarator.init)) {\r\n\t\t\t\t\t// renaming with \"var a = b;\"\r\n\t\t\t\t\tif(!this.applyPluginsBailResult(\"rename \" + renameIdentifier, declarator.init)) {\r\n\t\t\t\t\t\tthis.scope.renames[\"$\" + declarator.id.name] = this.scope.renames[\"$\" + renameIdentifier] || renameIdentifier;\r\n\t\t\t\t\t\tvar idx = this.scope.definitions.indexOf(declarator.id.name);\r\n\t\t\t\t\t\tif(idx >= 0) this.scope.definitions.splice(idx, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if(declarator.id.type === \"Identifier\" && !this.applyPluginsBailResult(\"var \" + declarator.id.name, declarator)) {\r\n\t\t\t\t\tthis.scope.renames[\"$\" + declarator.id.name] = undefined;\r\n\t\t\t\t\tthis.scope.definitions.push(declarator.id.name);\r\n\t\t\t\t\tif(declarator.init)\r\n\t\t\t\t\t\tthis.walkExpression(declarator.init);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.walkExpression(declarator.id);\r\n\t\t\t\t\tif(declarator.init)\r\n\t\t\t\t\t\tthis.walkExpression(declarator.init);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}, this);\r\n};\r\n\r\nParser.prototype.walkExpressions = function walkExpressions(expressions) {\r\n\texpressions.forEach(function(expression) {\r\n\t\tif(expression)\r\n\t\t\tthis.walkExpression(expression);\r\n\t}, this);\r\n};\r\n\r\nParser.prototype.walkExpression = function walkExpression(expression) {\r\n\tif(this[\"walk\" + expression.type])\r\n\t\treturn this[\"walk\" + expression.type](expression);\r\n};\r\n\r\nParser.prototype.walkArrayExpression = function walkArrayExpression(expression) {\r\n\tif(expression.elements)\r\n\t\tthis.walkExpressions(expression.elements);\r\n};\r\n\r\nParser.prototype.walkSpreadElement = function walkSpreadElement(expression) {\r\n\tif(expression.argument)\r\n\t\tthis.walkExpression(expression.argument);\r\n};\r\n\r\nParser.prototype.walkObjectExpression = function walkObjectExpression(expression) {\r\n\texpression.properties.forEach(function(prop) {\r\n\t\tif(prop.computed)\r\n\t\t\tthis.walkExpression(prop.key)\r\n\t\tthis.walkExpression(prop.value);\r\n\t}, this);\r\n};\r\n\r\nParser.prototype.walkFunctionExpression = function walkFunctionExpression(expression) {\r\n\tthis.inScope(expression.params, function() {\r\n\t\tif(expression.body.type === \"BlockStatement\")\r\n\t\t\tthis.walkStatement(expression.body);\r\n\t\telse\r\n\t\t\tthis.walkExpression(expression.body);\r\n\t}.bind(this));\r\n};\r\n\r\nParser.prototype.walkArrowFunctionExpression = function walkArrowFunctionExpression(expression) {\r\n\tthis.inScope(expression.params, function() {\r\n\t\tif(expression.body.type === \"BlockStatement\")\r\n\t\t\tthis.walkStatement(expression.body);\r\n\t\telse\r\n\t\t\tthis.walkExpression(expression.body);\r\n\t}.bind(this));\r\n};\r\n\r\nParser.prototype.walkSequenceExpression = function walkSequenceExpression(expression) {\r\n\tif(expression.expressions)\r\n\t\tthis.walkExpressions(expression.expressions);\r\n};\r\n\r\nParser.prototype.walkUpdateExpression = function walkUpdateExpression(expression) {\r\n\tthis.walkExpression(expression.argument);\r\n};\r\n\r\nParser.prototype.walkUnaryExpression = function walkUnaryExpression(expression) {\r\n\tif(expression.operator === \"typeof\") {\r\n\t\tvar expr = expression.argument;\r\n\t\tvar exprName = [];\r\n\t\twhile(expr.type === \"MemberExpression\" && !expr.computed) {\r\n\t\t\texprName.unshift(expr.property.name);\r\n\t\t\texpr = expr.object;\r\n\t\t}\r\n\t\tif(expr.type === \"Identifier\" && this.scope.definitions.indexOf(expr.name) === -1) {\r\n\t\t\texprName.unshift(this.scope.renames[\"$\" + expr.name] || expr.name);\r\n\t\t\texprName = exprName.join(\".\");\r\n\t\t\tvar result = this.applyPluginsBailResult(\"typeof \" + exprName, expression);\r\n\t\t\tif(result === true)\r\n\t\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\tthis.walkExpression(expression.argument);\r\n};\r\n\r\nParser.prototype.walkBinaryExpression =\r\n\tParser.prototype.walkLogicalExpression = function walkLeftRightExpression(expression) {\r\n\t\tthis.walkExpression(expression.left);\r\n\t\tthis.walkExpression(expression.right);\r\n\t};\r\n\r\nParser.prototype.walkAssignmentExpression = function walkAssignmentExpression(expression) {\r\n\tvar renameIdentifier = this.getRenameIdentifier(expression.right);\r\n\tif(expression.left.type === \"Identifier\" && renameIdentifier && this.applyPluginsBailResult(\"can-rename \" + renameIdentifier, expression.right)) {\r\n\t\t// renaming \"a = b;\"\r\n\t\tif(!this.applyPluginsBailResult(\"rename \" + renameIdentifier, expression.right)) {\r\n\t\t\tthis.scope.renames[\"$\" + expression.left.name] = renameIdentifier;\r\n\t\t\tvar idx = this.scope.definitions.indexOf(expression.left.name);\r\n\t\t\tif(idx >= 0) this.scope.definitions.splice(idx, 1);\r\n\t\t}\r\n\t} else if(expression.left.type === \"Identifier\") {\r\n\t\tif(!this.applyPluginsBailResult(\"assigned \" + expression.left.name, expression)) {\r\n\t\t\tthis.walkExpression(expression.right);\r\n\t\t}\r\n\t\tthis.scope.renames[\"$\" + expression.left.name] = undefined;\r\n\t\tif(!this.applyPluginsBailResult(\"assign \" + expression.left.name, expression)) {\r\n\t\t\tthis.walkExpression(expression.left);\r\n\t\t}\r\n\t} else {\r\n\t\tthis.walkExpression(expression.right);\r\n\t\tthis.scope.renames[\"$\" + expression.left.name] = undefined;\r\n\t\tthis.walkExpression(expression.left);\r\n\t}\r\n};\r\n\r\nParser.prototype.walkConditionalExpression = function walkConditionalExpression(expression) {\r\n\tvar result = this.applyPluginsBailResult(\"expression ?:\", expression);\r\n\tif(result === undefined) {\r\n\t\tthis.walkExpression(expression.test);\r\n\t\tthis.walkExpression(expression.consequent);\r\n\t\tif(expression.alternate)\r\n\t\t\tthis.walkExpression(expression.alternate);\r\n\t} else {\r\n\t\tif(result)\r\n\t\t\tthis.walkExpression(expression.consequent);\r\n\t\telse if(expression.alternate)\r\n\t\t\tthis.walkExpression(expression.alternate);\r\n\t}\r\n};\r\n\r\nParser.prototype.walkNewExpression = function walkNewExpression(expression) {\r\n\tthis.walkExpression(expression.callee);\r\n\tif(expression.arguments)\r\n\t\tthis.walkExpressions(expression.arguments);\r\n};\r\n\r\nParser.prototype.walkYieldExpression = function walkYieldExpression(expression) {\r\n\tif(expression.argument)\r\n\t\tthis.walkExpression(expression.argument);\r\n};\r\n\r\nParser.prototype.walkTemplateLiteral = function walkTemplateLiteral(expression) {\r\n\tif(expression.expressions)\r\n\t\tthis.walkExpressions(expression.expressions);\r\n};\r\n\r\nParser.prototype.walkTaggedTemplateExpression = function walkTaggedTemplateExpression(expression) {\r\n\tif(expression.tag)\r\n\t\tthis.walkExpression(expression.tag);\r\n\tif(expression.quasi && expression.quasi.expressions)\r\n\t\tthis.walkExpressions(expression.quasi.expressions);\r\n};\r\n\r\nParser.prototype.walkClassExpression = function walkClassExpression(expression) {\r\n\tthis.walkClass(expression);\r\n};\r\n\r\nParser.prototype.walkCallExpression = function walkCallExpression(expression) {\r\n\tfunction walkIIFE(functionExpression, args) {\r\n\t\tvar params = functionExpression.params;\r\n\t\tvar args = args.map(function(arg) {\r\n\t\t\tvar renameIdentifier = this.getRenameIdentifier(arg);\r\n\t\t\tif(renameIdentifier && this.applyPluginsBailResult(\"can-rename \" + renameIdentifier, arg)) {\r\n\t\t\t\tif(!this.applyPluginsBailResult(\"rename \" + renameIdentifier, arg))\r\n\t\t\t\t\treturn renameIdentifier;\r\n\t\t\t}\r\n\t\t\tthis.walkExpression(arg);\r\n\t\t}, this);\r\n\t\tthis.inScope(params.filter(function(identifier, idx) {\r\n\t\t\treturn !args[idx];\r\n\t\t}), function() {\r\n\t\t\targs.forEach(function(arg, idx) {\r\n\t\t\t\tif(!arg) return;\r\n\t\t\t\tif(!params[idx] || params[idx].type !== \"Identifier\") return;\r\n\t\t\t\tthis.scope.renames[\"$\" + params[idx].name] = arg;\r\n\t\t\t}, this);\r\n\t\t\tif(functionExpression.body.type === \"BlockStatement\")\r\n\t\t\t\tthis.walkStatement(functionExpression.body);\r\n\t\t\telse\r\n\t\t\t\tthis.walkExpression(functionExpression.body);\r\n\t\t}.bind(this));\r\n\t}\r\n\tif(expression.callee.type === \"MemberExpression\" && expression.callee.object.type === \"FunctionExpression\" && !expression.callee.computed && [\"call\", \"bind\"].indexOf(expression.callee.property.name) >= 0 && expression.arguments && expression.arguments.length > 1) {\r\n\t\t// (function(...) { }.call/bind(?, ...))\r\n\t\twalkIIFE.call(this, expression.callee.object, expression.arguments.slice(1));\r\n\t\tthis.walkExpression(expression.arguments[0]);\r\n\t} else if(expression.callee.type === \"FunctionExpression\" && expression.arguments) {\r\n\t\t// (function(...) { }(...))\r\n\t\twalkIIFE.call(this, expression.callee, expression.arguments);\r\n\t} else {\r\n\r\n\t\tvar callee = this.evaluateExpression(expression.callee);\r\n\t\tif(callee.isIdentifier()) {\r\n\t\t\tvar result = this.applyPluginsBailResult(\"call \" + callee.identifier, expression);\r\n\t\t\tif(result === true)\r\n\t\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif(expression.callee)\r\n\t\t\tthis.walkExpression(expression.callee);\r\n\t\tif(expression.arguments)\r\n\t\t\tthis.walkExpressions(expression.arguments);\r\n\t}\r\n};\r\n\r\nParser.prototype.walkMemberExpression = function walkMemberExpression(expression) {\r\n\tvar expr = expression;\r\n\tvar exprName = [];\r\n\twhile(expr.type === \"MemberExpression\" && !expr.computed) {\r\n\t\texprName.unshift(expr.property.name);\r\n\t\texpr = expr.object;\r\n\t}\r\n\tif(expr.type === \"Identifier\" && this.scope.definitions.indexOf(expr.name) === -1) {\r\n\t\texprName.unshift(this.scope.renames[\"$\" + expr.name] || expr.name);\r\n\t\texprName = exprName.join(\".\");\r\n\t\tvar result = this.applyPluginsBailResult(\"expression \" + exprName, expression);\r\n\t\tif(result === true)\r\n\t\t\treturn;\r\n\t}\r\n\tthis.walkExpression(expression.object);\r\n\tif(expression.computed === true)\r\n\t\tthis.walkExpression(expression.property);\r\n};\r\n\r\nParser.prototype.walkIdentifier = function walkIdentifier(expression) {\r\n\tif(this.scope.definitions.indexOf(expression.name) === -1) {\r\n\t\tvar result = this.applyPluginsBailResult(\"expression \" + (this.scope.renames[\"$\" + expression.name] || expression.name), expression);\r\n\t\tif(result === true)\r\n\t\t\treturn;\r\n\t}\r\n};\r\n\r\nParser.prototype.inScope = function inScope(params, fn) {\r\n\tvar oldScope = this.scope;\r\n\tthis.scope = {\r\n\t\tinTry: false,\r\n\t\tdefinitions: oldScope.definitions.slice(),\r\n\t\trenames: Object.create(oldScope.renames)\r\n\t};\r\n\tparams.forEach(function(param) {\r\n\t\tif(typeof param !== \"string\") {\r\n\t\t\tif(param.type !== \"Identifier\")\r\n\t\t\t\treturn;\r\n\t\t\tparam = param.name;\r\n\t\t}\r\n\t\tthis.scope.renames[\"$\" + param] = undefined;\r\n\t\tthis.scope.definitions.push(param);\r\n\t}, this);\r\n\tfn();\r\n\tthis.scope = oldScope;\r\n};\r\n\r\nParser.prototype.evaluateExpression = function evaluateExpression(expression) {\r\n\tvar result = this.applyPluginsBailResult(\"evaluate \" + expression.type, expression);\r\n\tif(result !== undefined)\r\n\t\treturn result;\r\n\treturn new BasicEvaluatedExpression().setRange(expression.range);\r\n};\r\n\r\nParser.prototype.parseString = function parseString(expression) {\r\n\tswitch(expression.type) {\r\n\t\tcase \"BinaryExpression\":\r\n\t\t\tif(expression.operator === \"+\")\r\n\t\t\t\treturn this.parseString(expression.left) + this.parseString(expression.right);\r\n\t\t\tbreak;\r\n\t\tcase \"Literal\":\r\n\t\t\treturn expression.value + \"\";\r\n\t}\r\n\tthrow new Error(expression.type + \" is not supported as parameter for require\");\r\n};\r\n\r\nParser.prototype.parseCalculatedString = function parseCalculatedString(expression) {\r\n\tswitch(expression.type) {\r\n\t\tcase \"BinaryExpression\":\r\n\t\t\tif(expression.operator === \"+\") {\r\n\t\t\t\tvar left = this.parseCalculatedString(expression.left);\r\n\t\t\t\tvar right = this.parseCalculatedString(expression.right);\r\n\t\t\t\tif(left.code) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\trange: left.range,\r\n\t\t\t\t\t\tvalue: left.value,\r\n\t\t\t\t\t\tcode: true\r\n\t\t\t\t\t};\r\n\t\t\t\t} else if(right.code) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\trange: [left.range[0], right.range ? right.range[1] : left.range[1]],\r\n\t\t\t\t\t\tvalue: left.value + right.value,\r\n\t\t\t\t\t\tcode: true\r\n\t\t\t\t\t};\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\trange: [left.range[0], right.range[1]],\r\n\t\t\t\t\t\tvalue: left.value + right.value\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase \"ConditionalExpression\":\r\n\t\t\tvar consequent = this.parseCalculatedString(expression.consequent);\r\n\t\t\tvar alternate = this.parseCalculatedString(expression.alternate);\r\n\t\t\tvar items = [];\r\n\t\t\tif(consequent.conditional)\r\n\t\t\t\tArray.prototype.push.apply(items, consequent.conditional);\r\n\t\t\telse if(!consequent.code)\r\n\t\t\t\titems.push(consequent);\r\n\t\t\telse break;\r\n\t\t\tif(alternate.conditional)\r\n\t\t\t\tArray.prototype.push.apply(items, alternate.conditional);\r\n\t\t\telse if(!alternate.code)\r\n\t\t\t\titems.push(alternate);\r\n\t\t\telse break;\r\n\t\t\treturn {\r\n\t\t\t\tvalue: \"\",\r\n\t\t\t\tcode: true,\r\n\t\t\t\tconditional: items\r\n\t\t\t};\r\n\t\tcase \"Literal\":\r\n\t\t\treturn {\r\n\t\t\t\trange: expression.range,\r\n\t\t\t\tvalue: expression.value + \"\"\r\n\t\t\t};\r\n\t}\r\n\treturn {\r\n\t\tvalue: \"\",\r\n\t\tcode: true\r\n\t};\r\n};\r\n\r\n[\"parseString\", \"parseCalculatedString\"].forEach(function(fn) {\r\n\tParser.prototype[fn + \"Array\"] = function parseXXXArray(expression) {\r\n\t\tswitch(expression.type) {\r\n\t\t\tcase \"ArrayExpression\":\r\n\t\t\t\tvar arr = [];\r\n\t\t\t\tif(expression.elements)\r\n\t\t\t\t\texpression.elements.forEach(function(expr) {\r\n\t\t\t\t\t\tarr.push(this[fn](expr));\r\n\t\t\t\t\t}, this);\r\n\t\t\t\treturn arr;\r\n\t\t}\r\n\t\treturn [this[fn](expression)];\r\n\t};\r\n});\r\n\r\nvar POSSIBLE_AST_OPTIONS = [{\r\n\tranges: true,\r\n\tlocations: true,\r\n\tecmaVersion: 6,\r\n\tsourceType: \"module\"\r\n}, {\r\n\tranges: true,\r\n\tlocations: true,\r\n\tecmaVersion: 6,\r\n\tsourceType: \"script\"\r\n}]\r\n\r\nParser.prototype.parse = function parse(source, initialState) {\r\n\tvar ast;\r\n\tfor(var i = 0; i < POSSIBLE_AST_OPTIONS.length; i++) {\r\n\t\tif(!ast) {\r\n\t\t\ttry {\r\n\t\t\t\tast = acorn.parse(source, POSSIBLE_AST_OPTIONS[i]);\r\n\t\t\t} catch(e) {\r\n\t\t\t\t// ignore the error\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif(!ast) {\r\n\t\t// for the error\r\n\t\tast = acorn.parse(source, {\r\n\t\t\tranges: true,\r\n\t\t\tlocations: true,\r\n\t\t\tecmaVersion: 6,\r\n\t\t\tsourceType: \"module\"\r\n\t\t});\r\n\t}\r\n\tif(!ast || typeof ast !== \"object\")\r\n\t\tthrow new Error(\"Source couldn't be parsed\");\r\n\tvar oldScope = this.scope;\r\n\tvar oldState = this.state;\r\n\tthis.scope = {\r\n\t\tinTry: false,\r\n\t\tdefinitions: [],\r\n\t\trenames: {}\r\n\t};\r\n\tvar state = this.state = initialState || {};\r\n\tif(this.applyPluginsBailResult(\"program\", ast) === undefined)\r\n\t\tthis.walkStatements(ast.body);\r\n\tthis.scope = oldScope;\r\n\tthis.state = oldState;\r\n\treturn state;\r\n};\r\n\r\nParser.prototype.evaluate = function evaluate(source) {\r\n\tvar ast = acorn.parse(\"(\" + source + \")\", {\r\n\t\tranges: true,\r\n\t\tlocations: true,\r\n\t\tecmaVersion: 6,\r\n\t\tsourceType: \"module\"\r\n\t});\r\n\tif(!ast || typeof ast !== \"object\" || ast.type !== \"Program\")\r\n\t\tthrow new Error(\"evaluate: Source couldn't be parsed\");\r\n\tif(ast.body.length !== 1 || ast.body[0].type !== \"ExpressionStatement\")\r\n\t\tthrow new Error(\"evaluate: Source is not a expression\");\r\n\treturn this.evaluateExpression(ast.body[0].expression);\r\n};\r\n"]}