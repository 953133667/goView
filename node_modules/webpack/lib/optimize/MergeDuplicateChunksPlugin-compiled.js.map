{"version":3,"sources":["MergeDuplicateChunksPlugin.js"],"names":[],"mappings":"AAAA;;;;AAIA,SAAS,0BAAT,GAAsC,CAAE;AACxC,OAAO,OAAP,GAAiB,0BAAjB;;AAEA,SAAS,kBAAT,CAA4B,KAA5B,EAAmC;AAClC,QAAO,MAAM,OAAN,CAAc,GAAd,CAAkB,UAAS,CAAT,EAAY;AACpC,SAAO,EAAE,UAAF,EAAP;AACA,EAFM,EAEJ,IAFI,GAEG,IAFH,CAEQ,IAFR,CAAP;AAGA;;AAED,2BAA2B,SAA3B,CAAqC,KAArC,GAA6C,UAAS,QAAT,EAAmB;AAC/D,UAAS,MAAT,CAAgB,aAAhB,EAA+B,UAAS,WAAT,EAAsB;AACpD,cAAY,MAAZ,CAAmB,iBAAnB,EAAsC,UAAS,MAAT,EAAiB;AACtD,OAAI,MAAM,EAAV;AACA,UAAO,KAAP,GAAe,OAAf,CAAuB,UAAS,KAAT,EAAgB;AACtC,QAAG,MAAM,OAAT,EAAkB;AAClB,QAAI,QAAQ,mBAAmB,KAAnB,CAAZ;AACA,QAAG,IAAI,KAAJ,CAAH,EAAe;AACd,SAAG,IAAI,KAAJ,EAAW,SAAX,CAAqB,KAArB,EAA4B,WAA5B,CAAH,EACC,OAAO,MAAP,CAAc,OAAO,OAAP,CAAe,KAAf,CAAd,EAAqC,CAArC;AACD;AACA;AACD,QAAI,KAAJ,IAAa,KAAb;AACA,IATD;AAUA,GAZD;AAaA,EAdD;AAeA,CAhBD","file":"MergeDuplicateChunksPlugin-compiled.js","sourcesContent":["/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nfunction MergeDuplicateChunksPlugin() {}\r\nmodule.exports = MergeDuplicateChunksPlugin;\r\n\r\nfunction getChunkIdentifier(chunk) {\r\n\treturn chunk.modules.map(function(m) {\r\n\t\treturn m.identifier();\r\n\t}).sort().join(\", \");\r\n}\r\n\r\nMergeDuplicateChunksPlugin.prototype.apply = function(compiler) {\r\n\tcompiler.plugin(\"compilation\", function(compilation) {\r\n\t\tcompilation.plugin(\"optimize-chunks\", function(chunks) {\r\n\t\t\tvar map = {};\r\n\t\t\tchunks.slice().forEach(function(chunk) {\r\n\t\t\t\tif(chunk.initial) return;\r\n\t\t\t\tvar ident = getChunkIdentifier(chunk);\r\n\t\t\t\tif(map[ident]) {\r\n\t\t\t\t\tif(map[ident].integrate(chunk, \"duplicate\"))\r\n\t\t\t\t\t\tchunks.splice(chunks.indexOf(chunk), 1);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tmap[ident] = chunk;\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n};\r\n"]}