{"version":3,"sources":["WebWorkerMainTemplatePlugin.js"],"names":[],"mappings":"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","file":"WebWorkerMainTemplatePlugin-compiled.js","sourcesContent":["/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar Template = require(\"../Template\");\r\n\r\nfunction WebWorkerMainTemplatePlugin() {}\r\nmodule.exports = WebWorkerMainTemplatePlugin;\r\n\r\nWebWorkerMainTemplatePlugin.prototype.apply = function(mainTemplate) {\r\n\tmainTemplate.plugin(\"local-vars\", function(source, chunk) {\r\n\t\tif(chunk.chunks.length > 0) {\r\n\t\t\treturn this.asString([\r\n\t\t\t\tsource,\r\n\t\t\t\t\"\",\r\n\t\t\t\t\"// object to store loaded chunks\",\r\n\t\t\t\t\"// \\\"1\\\" means \\\"already loaded\\\"\",\r\n\t\t\t\t\"var installedChunks = {\",\r\n\t\t\t\tthis.indent(\r\n\t\t\t\t\tchunk.ids.map(function(id) {\r\n\t\t\t\t\t\treturn id + \":1\";\r\n\t\t\t\t\t}).join(\",\\n\")\r\n\t\t\t\t),\r\n\t\t\t\t\"};\"\r\n\t\t\t]);\r\n\t\t}\r\n\t\treturn source;\r\n\t});\r\n\tmainTemplate.plugin(\"require-ensure\", function(_, chunk, hash) {\r\n\t\tvar filename = this.outputOptions.filename || \"bundle.js\";\r\n\t\tvar chunkFilename = this.outputOptions.chunkFilename || \"[id].\" + filename;\r\n\t\treturn this.asString([\r\n\t\t\t\"// \\\"1\\\" is the signal for \\\"already loaded\\\"\",\r\n\t\t\t\"if(!installedChunks[chunkId]) {\",\r\n\t\t\tthis.indent([\r\n\t\t\t\t\"importScripts(\" +\r\n\t\t\t\tthis.applyPluginsWaterfall(\"asset-path\", JSON.stringify(chunkFilename), {\r\n\t\t\t\t\thash: \"\\\" + \" + this.renderCurrentHashCode(hash) + \" + \\\"\",\r\n\t\t\t\t\thashWithLength: function(length) {\r\n\t\t\t\t\t\treturn \"\\\" + \" + this.renderCurrentHashCode(hash, length) + \" + \\\"\";\r\n\t\t\t\t\t}.bind(this),\r\n\t\t\t\t\tchunk: {\r\n\t\t\t\t\t\tid: \"\\\" + chunkId + \\\"\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}) + \");\"\r\n\t\t\t]),\r\n\t\t\t\"}\",\r\n\t\t\t\"callback.call(null, \" + this.requireFn + \");\"\r\n\t\t]);\r\n\t});\r\n\tmainTemplate.plugin(\"bootstrap\", function(source, chunk, hash) {\r\n\t\tif(chunk.chunks.length > 0) {\r\n\t\t\tvar chunkCallbackName = this.outputOptions.chunkCallbackName || Template.toIdentifier(\"webpackChunk\" + (this.outputOptions.library || \"\"));\r\n\t\t\treturn this.asString([\r\n\t\t\t\tsource,\r\n\t\t\t\t\"this[\" + JSON.stringify(chunkCallbackName) + \"] = function webpackChunkCallback(chunkIds, moreModules) {\",\r\n\t\t\t\tthis.indent([\r\n\t\t\t\t\t\"for(var moduleId in moreModules) {\",\r\n\t\t\t\t\tthis.indent(this.renderAddModule(hash, chunk, \"moduleId\", \"moreModules[moduleId]\")),\r\n\t\t\t\t\t\"}\",\r\n\t\t\t\t\t\"while(chunkIds.length)\",\r\n\t\t\t\t\tthis.indent(\"installedChunks[chunkIds.pop()] = 1;\")\r\n\t\t\t\t]),\r\n\t\t\t\t\"};\"\r\n\t\t\t]);\r\n\t\t}\r\n\t\treturn source;\r\n\t});\r\n\tmainTemplate.plugin(\"hash\", function(hash) {\r\n\t\thash.update(\"webworker\");\r\n\t\thash.update(\"3\");\r\n\t\thash.update(this.outputOptions.publicPath + \"\");\r\n\t\thash.update(this.outputOptions.filename + \"\");\r\n\t\thash.update(this.outputOptions.chunkFilename + \"\");\r\n\t\thash.update(this.outputOptions.chunkCallbackName + \"\");\r\n\t\thash.update(this.outputOptions.library + \"\");\r\n\t});\r\n};\r\n"]}