{"version":3,"sources":["JsonpMainTemplatePlugin.js"],"names":[],"mappings":"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","file":"JsonpMainTemplatePlugin-compiled.js","sourcesContent":["/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar Template = require(\"./Template\");\r\n\r\nfunction JsonpMainTemplatePlugin() {}\r\nmodule.exports = JsonpMainTemplatePlugin;\r\n\r\nJsonpMainTemplatePlugin.prototype.constructor = JsonpMainTemplatePlugin;\r\nJsonpMainTemplatePlugin.prototype.apply = function(mainTemplate) {\r\n\tmainTemplate.plugin(\"local-vars\", function(source, chunk) {\r\n\t\tif(chunk.chunks.length > 0) {\r\n\t\t\treturn this.asString([\r\n\t\t\t\tsource,\r\n\t\t\t\t\"\",\r\n\t\t\t\t\"// object to store loaded and loading chunks\",\r\n\t\t\t\t\"// \\\"0\\\" means \\\"already loaded\\\"\",\r\n\t\t\t\t\"// Array means \\\"loading\\\", array contains callbacks\",\r\n\t\t\t\t\"var installedChunks = {\",\r\n\t\t\t\tthis.indent(\r\n\t\t\t\t\tchunk.ids.map(function(id) {\r\n\t\t\t\t\t\treturn id + \":0\";\r\n\t\t\t\t\t}).join(\",\\n\")\r\n\t\t\t\t),\r\n\t\t\t\t\"};\"\r\n\t\t\t]);\r\n\t\t}\r\n\t\treturn source;\r\n\t});\r\n\tmainTemplate.plugin(\"jsonp-script\", function(_, chunk, hash) {\r\n\t\tvar filename = this.outputOptions.filename || \"bundle.js\";\r\n\t\tvar chunkFilename = this.outputOptions.chunkFilename || \"[id].\" + filename;\r\n\t\tvar chunkMaps = chunk.getChunkMaps();\r\n\t\tvar crossOriginLoading = this.outputOptions.crossOriginLoading;\r\n\t\treturn this.asString([\r\n\t\t\t\"var script = document.createElement('script');\",\r\n\t\t\t\"script.type = 'text/javascript';\",\r\n\t\t\t\"script.charset = 'utf-8';\",\r\n\t\t\t\"script.async = true;\",\r\n\t\t\tcrossOriginLoading ? \"script.crossOrigin = '\" + crossOriginLoading + \"';\" : \"\",\r\n\t\t\t\"script.src = \" + this.requireFn + \".p + \" +\r\n\t\t\tthis.applyPluginsWaterfall(\"asset-path\", JSON.stringify(chunkFilename), {\r\n\t\t\t\thash: \"\\\" + \" + this.renderCurrentHashCode(hash) + \" + \\\"\",\r\n\t\t\t\thashWithLength: function(length) {\r\n\t\t\t\t\treturn \"\\\" + \" + this.renderCurrentHashCode(hash, length) + \" + \\\"\";\r\n\t\t\t\t}.bind(this),\r\n\t\t\t\tchunk: {\r\n\t\t\t\t\tid: \"\\\" + chunkId + \\\"\",\r\n\t\t\t\t\thash: \"\\\" + \" + JSON.stringify(chunkMaps.hash) + \"[chunkId] + \\\"\",\r\n\t\t\t\t\thashWithLength: function(length) {\r\n\t\t\t\t\t\tvar shortChunkHashMap = {};\r\n\t\t\t\t\t\tObject.keys(chunkMaps.hash).forEach(function(chunkId) {\r\n\t\t\t\t\t\t\tif(typeof chunkMaps.hash[chunkId] === \"string\")\r\n\t\t\t\t\t\t\t\tshortChunkHashMap[chunkId] = chunkMaps.hash[chunkId].substr(0, length);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn \"\\\" + \" + JSON.stringify(shortChunkHashMap) + \"[chunkId] + \\\"\";\r\n\t\t\t\t\t},\r\n\t\t\t\t\tname: \"\\\" + (\" + JSON.stringify(chunkMaps.name) + \"[chunkId]||chunkId) + \\\"\"\r\n\t\t\t\t}\r\n\t\t\t}) + \";\"\r\n\t\t]);\r\n\t});\r\n\tmainTemplate.plugin(\"require-ensure\", function(_, chunk, hash) {\r\n\t\tvar filename = this.outputOptions.filename || \"bundle.js\";\r\n\t\tvar chunkFilename = this.outputOptions.chunkFilename || \"[id].\" + filename;\r\n\t\treturn this.asString([\r\n\t\t\t\"// \\\"0\\\" is the signal for \\\"already loaded\\\"\",\r\n\t\t\t\"if(installedChunks[chunkId] === 0)\",\r\n\t\t\tthis.indent(\"return callback.call(null, \" + this.requireFn + \");\"),\r\n\t\t\t\"\",\r\n\t\t\t\"// an array means \\\"currently loading\\\".\",\r\n\t\t\t\"if(installedChunks[chunkId] !== undefined) {\",\r\n\t\t\tthis.indent(\"installedChunks[chunkId].push(callback);\"),\r\n\t\t\t\"} else {\",\r\n\t\t\tthis.indent([\r\n\t\t\t\t\"// start chunk loading\",\r\n\t\t\t\t\"installedChunks[chunkId] = [callback];\",\r\n\t\t\t\t\"var head = document.getElementsByTagName('head')[0];\",\r\n\t\t\t\tthis.applyPluginsWaterfall(\"jsonp-script\", \"\", chunk, hash),\r\n\t\t\t\t\"head.appendChild(script);\"\r\n\t\t\t]),\r\n\t\t\t\"}\"\r\n\t\t]);\r\n\t});\r\n\tmainTemplate.plugin(\"bootstrap\", function(source, chunk, hash) {\r\n\t\tif(chunk.chunks.length > 0) {\r\n\t\t\tvar jsonpFunction = this.outputOptions.jsonpFunction || Template.toIdentifier(\"webpackJsonp\" + (this.outputOptions.library || \"\"));\r\n\t\t\treturn this.asString([\r\n\t\t\t\tsource,\r\n\t\t\t\t\"\",\r\n\t\t\t\t\"// install a JSONP callback for chunk loading\",\r\n\t\t\t\t\"var parentJsonpFunction = window[\" + JSON.stringify(jsonpFunction) + \"];\",\r\n\t\t\t\t\"window[\" + JSON.stringify(jsonpFunction) + \"] = function webpackJsonpCallback(chunkIds, moreModules) {\",\r\n\t\t\t\tthis.indent([\r\n\t\t\t\t\t\"// add \\\"moreModules\\\" to the modules object,\",\r\n\t\t\t\t\t\"// then flag all \\\"chunkIds\\\" as loaded and fire callback\",\r\n\t\t\t\t\t\"var moduleId, chunkId, i = 0, callbacks = [];\",\r\n\t\t\t\t\t\"for(;i < chunkIds.length; i++) {\",\r\n\t\t\t\t\tthis.indent([\r\n\t\t\t\t\t\t\"chunkId = chunkIds[i];\",\r\n\t\t\t\t\t\t\"if(installedChunks[chunkId])\",\r\n\t\t\t\t\t\tthis.indent(\"callbacks.push.apply(callbacks, installedChunks[chunkId]);\"),\r\n\t\t\t\t\t\t\"installedChunks[chunkId] = 0;\"\r\n\t\t\t\t\t]),\r\n\t\t\t\t\t\"}\",\r\n\t\t\t\t\t\"for(moduleId in moreModules) {\",\r\n\t\t\t\t\tthis.indent(this.renderAddModule(hash, chunk, \"moduleId\", \"moreModules[moduleId]\")),\r\n\t\t\t\t\t\"}\",\r\n\t\t\t\t\t\"if(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules);\",\r\n\t\t\t\t\t\"while(callbacks.length)\",\r\n\t\t\t\t\tthis.indent(\"callbacks.shift().call(null, \" + this.requireFn + \");\"), (this.entryPointInChildren(chunk) ? [\r\n\t\t\t\t\t\t\"if(moreModules[0]) {\",\r\n\t\t\t\t\t\tthis.indent([\r\n\t\t\t\t\t\t\t\"installedModules[0] = 0;\",\r\n\t\t\t\t\t\t\t\"return \" + this.requireFn + \"(0);\"\r\n\t\t\t\t\t\t]),\r\n\t\t\t\t\t\t\"}\"\r\n\t\t\t\t\t] : \"\")\r\n\t\t\t\t]),\r\n\t\t\t\t\"};\"\r\n\t\t\t]);\r\n\t\t}\r\n\t\treturn source;\r\n\t});\r\n\tmainTemplate.plugin(\"hot-bootstrap\", function(source, chunk, hash) {\r\n\t\tvar hotUpdateChunkFilename = this.outputOptions.hotUpdateChunkFilename;\r\n\t\tvar hotUpdateMainFilename = this.outputOptions.hotUpdateMainFilename;\r\n\t\tvar hotUpdateFunction = this.outputOptions.hotUpdateFunction || Template.toIdentifier(\"webpackHotUpdate\" + (this.outputOptions.library || \"\"));\r\n\t\tvar currentHotUpdateChunkFilename = this.applyPluginsWaterfall(\"asset-path\", JSON.stringify(hotUpdateChunkFilename), {\r\n\t\t\thash: \"\\\" + \" + this.renderCurrentHashCode(hash) + \" + \\\"\",\r\n\t\t\thashWithLength: function(length) {\r\n\t\t\t\treturn \"\\\" + \" + this.renderCurrentHashCode(hash, length) + \" + \\\"\";\r\n\t\t\t}.bind(this),\r\n\t\t\tchunk: {\r\n\t\t\t\tid: \"\\\" + chunkId + \\\"\"\r\n\t\t\t}\r\n\t\t});\r\n\t\tvar currentHotUpdateMainFilename = this.applyPluginsWaterfall(\"asset-path\", JSON.stringify(hotUpdateMainFilename), {\r\n\t\t\thash: \"\\\" + \" + this.renderCurrentHashCode(hash) + \" + \\\"\",\r\n\t\t\thashWithLength: function(length) {\r\n\t\t\t\treturn \"\\\" + \" + this.renderCurrentHashCode(hash, length) + \" + \\\"\";\r\n\t\t\t}.bind(this)\r\n\t\t});\r\n\r\n\t\treturn source + \"\\n\" +\r\n\t\t\t\"var parentHotUpdateCallback = this[\" + JSON.stringify(hotUpdateFunction) + \"];\\n\" +\r\n\t\t\t\"this[\" + JSON.stringify(hotUpdateFunction) + \"] = \" + Template.getFunctionContent(require(\"./JsonpMainTemplate.runtime.js\"))\r\n\t\t\t.replace(/\\$require\\$/g, this.requireFn)\r\n\t\t\t.replace(/\\$hotMainFilename\\$/g, currentHotUpdateMainFilename)\r\n\t\t\t.replace(/\\$hotChunkFilename\\$/g, currentHotUpdateChunkFilename)\r\n\t\t\t.replace(/\\$hash\\$/g, JSON.stringify(hash));\r\n\t});\r\n\tmainTemplate.plugin(\"hash\", function(hash) {\r\n\t\thash.update(\"jsonp\");\r\n\t\thash.update(\"4\");\r\n\t\thash.update(this.outputOptions.filename + \"\");\r\n\t\thash.update(this.outputOptions.chunkFilename + \"\");\r\n\t\thash.update(this.outputOptions.jsonpFunction + \"\");\r\n\t\thash.update(this.outputOptions.library + \"\");\r\n\t});\r\n};\r\n"]}