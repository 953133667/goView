{"version":3,"sources":["EvalSourceMapDevToolModuleTemplatePlugin.js"],"names":[],"mappings":"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","file":"EvalSourceMapDevToolModuleTemplatePlugin-compiled.js","sourcesContent":["/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar RawSource = require(\"webpack-core/lib/RawSource\");\r\nvar ModuleFilenameHelpers = require(\"./ModuleFilenameHelpers\");\r\n\r\nfunction EvalSourceMapDevToolModuleTemplatePlugin(compilation, options, sourceMapComment, moduleFilenameTemplate) {\r\n\tthis.compilation = compilation;\r\n\tthis.sourceMapComment = sourceMapComment || \"//# sourceMappingURL=[url]\";\r\n\tthis.moduleFilenameTemplate = moduleFilenameTemplate || \"webpack:///[resource-path]?[hash]\";\r\n\tthis.options = options;\r\n}\r\nmodule.exports = EvalSourceMapDevToolModuleTemplatePlugin;\r\n\r\nEvalSourceMapDevToolModuleTemplatePlugin.prototype.apply = function(moduleTemplate) {\r\n\tvar self = this;\r\n\tvar options = this.options;\r\n\tmoduleTemplate.plugin(\"module\", function(source, module) {\r\n\t\tif(source.__EvalSourceMapDevToolData)\r\n\t\t\treturn source.__EvalSourceMapDevToolData;\r\n\r\n\t\tif(source.sourceAndMap) {\r\n\t\t\tvar sourceAndMap = source.sourceAndMap(options);\r\n\t\t\tvar sourceMap = sourceAndMap.map;\r\n\t\t\tvar content = sourceAndMap.source;\r\n\t\t} else {\r\n\t\t\tvar sourceMap = source.map(options);\r\n\t\t\tvar content = source.source();\r\n\t\t}\r\n\t\tif(!sourceMap) {\r\n\t\t\treturn source;\r\n\t\t}\r\n\r\n\t\t// Clone (flat) the sourcemap to ensure that the mutations below do not persist.\r\n\t\tsourceMap = Object.keys(sourceMap).reduce(function(obj, key) {\r\n\t\t\tobj[key] = sourceMap[key];\r\n\t\t\treturn obj;\r\n\t\t}, {});\r\n\t\tvar modules = sourceMap.sources.map(function(source) {\r\n\t\t\tvar module = self.compilation.findModule(source);\r\n\t\t\treturn module || source;\r\n\t\t});\r\n\t\tvar moduleFilenames = modules.map(function(module) {\r\n\t\t\treturn ModuleFilenameHelpers.createFilename(module, self.moduleFilenameTemplate, this.requestShortener);\r\n\t\t}, this);\r\n\t\tmoduleFilenames = ModuleFilenameHelpers.replaceDuplicates(moduleFilenames, function(filename, i, n) {\r\n\t\t\tfor(var j = 0; j < n; j++)\r\n\t\t\t\tfilename += \"*\";\r\n\t\t\treturn filename;\r\n\t\t});\r\n\t\tsourceMap.sources = moduleFilenames;\r\n\t\tif(sourceMap.sourcesContent) {\r\n\t\t\tsourceMap.sourcesContent = sourceMap.sourcesContent.map(function(content, i) {\r\n\t\t\t\treturn content + \"\\n\\n\\n\" + ModuleFilenameHelpers.createFooter(modules[i], this.requestShortener);\r\n\t\t\t}, this);\r\n\t\t}\r\n\t\tsourceMap.sourceRoot = \"\";\r\n\t\tsourceMap.file = module.id + \".js\";\r\n\t\tvar footer = self.sourceMapComment.replace(/\\[url\\]/g, \"data:application/json;charset=utf-8;base64,\" + new Buffer(JSON.stringify(sourceMap)).toString(\"base64\"));\r\n\t\tsource.__EvalSourceMapDevToolData = new RawSource(\"eval(\" + JSON.stringify(content + footer) + \");\");\r\n\t\treturn source.__EvalSourceMapDevToolData;\r\n\t});\r\n\tmoduleTemplate.plugin(\"hash\", function(hash) {\r\n\t\thash.update(\"eval-source-map\");\r\n\t\thash.update(\"1\");\r\n\t});\r\n};\r\n"]}