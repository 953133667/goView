{"version":3,"sources":["APIPlugin.js"],"names":[],"mappings":"AAAA;;;;AAIA,IAAI,kBAAkB,QAAQ,gCAAR,CAAtB;AACA,IAAI,2BAA2B,QAAQ,4BAAR,CAA/B;;AAEA,IAAI,cAAc,QAAQ,eAAR,CAAlB;;AAEA,SAAS,SAAT,GAAqB,CAAE;AACvB,OAAO,OAAP,GAAiB,SAAjB;;AAEA,IAAI,eAAe;AAClB,sBAAqB,qBADH,EAC0B;AAC5C,0BAAyB,uBAFP,EAEgC;AAClD,sBAAqB,uBAHH,EAG4B;AAC9C,yBAAwB,uBAJN,EAI+B;AACjD,0BAAyB,SALP,EAKkB;AACpC,oBAAmB,6BAND,CAM+B;AAN/B,CAAnB;AAQA,IAAI,oBAAoB;AACvB,0BAAyB,QADF,EACY;AACnC,sBAAqB,UAFE,EAEU;AACjC,sBAAqB,QAHE,EAGQ;AAC/B,yBAAwB,UAJD,CAIY;AAJZ,CAAxB;AAMA,IAAI,UAAU,EAAd;AACA,UAAU,SAAV,CAAoB,KAApB,GAA4B,UAAS,QAAT,EAAmB;AAC9C,UAAS,MAAT,CAAgB,aAAhB,EAA+B,UAAS,WAAT,EAAsB;AACpD,cAAY,mBAAZ,CAAgC,GAAhC,CAAoC,eAApC,EAAqD,IAAI,WAAJ,EAArD;AACA,cAAY,mBAAZ,CAAgC,GAAhC,CAAoC,eAApC,EAAqD,IAAI,gBAAgB,QAApB,EAArD;AACA,EAHD;AAIA,QAAO,IAAP,CAAY,YAAZ,EAA0B,OAA1B,CAAkC,UAAS,GAAT,EAAc;AAC/C,WAAS,MAAT,CAAgB,MAAhB,CAAuB,gBAAgB,GAAvC,EAA4C,UAAS,IAAT,EAAe;AAC1D,OAAI,MAAM,IAAI,eAAJ,CAAoB,aAAa,GAAb,CAApB,EAAuC,KAAK,KAA5C,CAAV;AACA,OAAI,GAAJ,GAAU,KAAK,GAAf;AACA,QAAK,KAAL,CAAW,OAAX,CAAmB,aAAnB,CAAiC,GAAjC;AACA,UAAO,IAAP;AACA,GALD;AAMA,WAAS,MAAT,CAAgB,MAAhB,CAAuB,qBAAqB,GAA5C,EAAiD,UAAS,IAAT,EAAe;AAC/D,UAAO,IAAI,wBAAJ,GAA+B,SAA/B,CAAyC,kBAAkB,GAAlB,CAAzC,EAAiE,QAAjE,CAA0E,KAAK,KAA/E,CAAP;AACA,GAFD;AAGA,EAVD;AAWA,SAAQ,OAAR,CAAgB,UAAS,GAAT,EAAc;AAC7B,WAAS,MAAT,CAAgB,MAAhB,CAAuB,GAAvB,EAA4B,YAAW;AACtC,UAAO,IAAP;AACA,GAFD;AAGA,EAJD;AAKA,CArBD","file":"APIPlugin-compiled.js","sourcesContent":["/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar ConstDependency = require(\"./dependencies/ConstDependency\");\r\nvar BasicEvaluatedExpression = require(\"./BasicEvaluatedExpression\");\r\n\r\nvar NullFactory = require(\"./NullFactory\");\r\n\r\nfunction APIPlugin() {}\r\nmodule.exports = APIPlugin;\r\n\r\nvar REPLACEMENTS = {\r\n\t__webpack_require__: \"__webpack_require__\", // eslint-disable-line camelcase\r\n\t__webpack_public_path__: \"__webpack_require__.p\", // eslint-disable-line camelcase\r\n\t__webpack_modules__: \"__webpack_require__.m\", // eslint-disable-line camelcase\r\n\t__webpack_chunk_load__: \"__webpack_require__.e\", // eslint-disable-line camelcase\r\n\t__non_webpack_require__: \"require\", // eslint-disable-line camelcase\r\n\t\"require.onError\": \"__webpack_require__.onError\" // eslint-disable-line camelcase\r\n};\r\nvar REPLACEMENT_TYPES = {\r\n\t__webpack_public_path__: \"string\", // eslint-disable-line camelcase\r\n\t__webpack_require__: \"function\", // eslint-disable-line camelcase\r\n\t__webpack_modules__: \"object\", // eslint-disable-line camelcase\r\n\t__webpack_chunk_load__: \"function\" // eslint-disable-line camelcase\r\n};\r\nvar IGNORES = [];\r\nAPIPlugin.prototype.apply = function(compiler) {\r\n\tcompiler.plugin(\"compilation\", function(compilation) {\r\n\t\tcompilation.dependencyFactories.set(ConstDependency, new NullFactory());\r\n\t\tcompilation.dependencyTemplates.set(ConstDependency, new ConstDependency.Template());\r\n\t});\r\n\tObject.keys(REPLACEMENTS).forEach(function(key) {\r\n\t\tcompiler.parser.plugin(\"expression \" + key, function(expr) {\r\n\t\t\tvar dep = new ConstDependency(REPLACEMENTS[key], expr.range);\r\n\t\t\tdep.loc = expr.loc;\r\n\t\t\tthis.state.current.addDependency(dep);\r\n\t\t\treturn true;\r\n\t\t});\r\n\t\tcompiler.parser.plugin(\"evaluate typeof \" + key, function(expr) {\r\n\t\t\treturn new BasicEvaluatedExpression().setString(REPLACEMENT_TYPES[key]).setRange(expr.range);\r\n\t\t});\r\n\t});\r\n\tIGNORES.forEach(function(key) {\r\n\t\tcompiler.parser.plugin(key, function() {\r\n\t\t\treturn true;\r\n\t\t});\r\n\t});\r\n};\r\n"]}