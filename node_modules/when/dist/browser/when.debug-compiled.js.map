{"version":3,"sources":["when.debug.js"],"names":[],"mappings":"AAAA,CAAC,SAAS,CAAT,CAAW,CAAC,UAAU,MAAO,QAAjB,CAAyB,OAAO,OAAP,CAAe,GAAxC,CAA4C,YAAY,MAAO,OAAnB,EAA2B,OAAO,GAAlC,CAAsC,OAAO,CAAP,CAAtC,CAAgD,aAAa,MAAO,OAApB,CAA2B,OAAO,IAAP,CAAY,GAAvC,CAA2C,aAAa,MAAO,OAApB,CAA2B,OAAO,IAAP,CAAY,GAAvC,CAA2C,aAAa,MAAO,KAApB,GAA2B,KAAK,IAAL,CAAU,GAArC,CAAlL,CAA4N,CAAxO,CAAyO,UAAU,CAAC,GAAI,OAAJ,CAAW,MAAX,CAAkB,OAAlB,CAA0B,MAAQ,SAAS,EAAT,CAAW,CAAX,CAAa,CAAb,CAAe,CAAf,CAAiB,CAAC,QAAS,EAAT,CAAW,CAAX,CAAa,CAAb,CAAe,CAAC,GAAG,CAAC,EAAE,CAAF,CAAJ,CAAS,CAAC,GAAG,CAAC,EAAE,CAAF,CAAJ,CAAS,CAAC,GAAI,GAAE,MAAO,QAAP,EAAgB,UAAhB,EAA4B,OAAlC,CAA0C,GAAG,CAAC,CAAD,EAAI,CAAP,CAAS,MAAO,GAAE,CAAF,CAAI,CAAC,CAAL,CAAP,CAAe,GAAG,CAAH,CAAK,MAAO,GAAE,CAAF,CAAI,CAAC,CAAL,CAAP,CAAe,KAAM,IAAI,MAAJ,CAAU,uBAAuB,CAAvB,CAAyB,GAAnC,CAAN,CAA8C,IAAI,GAAE,EAAE,CAAF,EAAK,CAAC,QAAQ,EAAT,CAAX,CAAwB,EAAE,CAAF,EAAK,CAAL,EAAQ,IAAR,CAAa,EAAE,OAAf,CAAuB,SAAS,CAAT,CAAW,CAAC,GAAI,GAAE,EAAE,CAAF,EAAK,CAAL,EAAQ,CAAR,CAAN,CAAiB,MAAO,GAAE,EAAE,CAAF,CAAI,CAAN,CAAP,CAAgB,CAApE,CAAqE,CAArE,CAAuE,EAAE,OAAzE,CAAiF,CAAjF,CAAmF,CAAnF,CAAqF,CAArF,CAAuF,CAAvF,EAA0F,OAAO,GAAE,CAAF,EAAK,OAAZ,CAAoB,IAAI,GAAE,MAAO,QAAP,EAAgB,UAAhB,EAA4B,OAAlC,CAA0C,IAAI,GAAI,GAAE,CAAV,CAAY,EAAE,EAAE,MAAhB,CAAuB,GAAvB,CAA2B,EAAE,EAAE,CAAF,CAAF,EAAQ,MAAO,EAAP,CAAS,CAAvZ,CAAyZ,CAAC,EAAE,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CACntB,QAAQ,oBAAR,EACA,OAAO,OAAP,CAAiB,QAAQ,sBAAR,CAAjB,CAGC,CALirB,CAKhrB,CAAC,qBAAqB,EAAtB,CAAyB,uBAAuB,CAAhD,CALgrB,CAAH,CAKznB,EAAE,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CACzF,GAAI,MAAO,OAAO,OAAP,CAAiB,QAAQ,SAAR,CAA5B,CAEA,KAAK,SAAL,CAAiB,QAAQ,cAAR,CAAjB,CACA,KAAK,UAAL,CAAkB,QAAQ,eAAR,CAAlB,CACA,KAAK,KAAL,CAAa,QAAQ,UAAR,CAAb,CACA,KAAK,EAAL,CAAU,QAAQ,aAAR,CAAV,CACA,KAAK,KAAL,CAAa,QAAQ,UAAR,CAAb,CACA,KAAK,IAAL,CAAY,QAAQ,SAAR,CAAZ,CACA,KAAK,MAAL,CAAc,KAAK,IAAL,CAAY,QAAQ,SAAR,CAA1B,CACA,KAAK,QAAL,CAAgB,QAAQ,aAAR,CAAhB,CACA,KAAK,QAAL,CAAgB,QAAQ,aAAR,CAAhB,CACA,KAAK,IAAL,CAAY,QAAQ,SAAR,CAAZ,CACA,KAAK,QAAL,CAAgB,QAAQ,aAAR,CAAhB,CACA,KAAK,OAAL,CAAe,QAAQ,YAAR,CAAf,CAEC,CAhBuD,CAgBtD,CAAC,eAAe,CAAhB,CAAkB,gBAAgB,CAAlC,CAAoC,WAAW,CAA/C,CAAiD,cAAc,CAA/D,CAAiE,WAAW,CAA5E,CAA8E,UAAU,CAAxF,CAA0F,UAAU,EAApG,CAAuG,cAAc,EAArH,CAAwH,cAAc,EAAtI,CAAyI,UAAU,EAAnJ,CAAsJ,cAAc,EAApK,CAAuK,aAAa,EAApL,CAAuL,UAAU,EAAjM,CAhBsD,CALunB,CAqBve,EAAE,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CAC3O,8EAEA;;;;;;GAQA,CAAC,SAAS,MAAT,CAAiB,CAClB,OAAO,SAAS,OAAT,CAAkB,CAExB,GAAI,MAAO,QAAQ,QAAR,CAAX,CACA,GAAI,SAAU,KAAK,OAAnB,CACA,GAAI,UAAW,QAAQ,eAAR,CAAf,CACA,GAAI,OAAQ,MAAM,SAAN,CAAgB,KAA5B,CAEA,GAAI,WAAY,QAAQ,aAAR,CAAhB,CACA,GAAI,QAAS,UAAU,OAAV,CAAmB,QAAnB,CAAb,CAEA,MAAO,CACN,KAAM,IADA,CAEN,QAAS,OAFH,CAGN,MAAO,KAHD,CAIN,KAAM,IAJA,CAKN,UAAW,SALL,CAAP,CAQA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA8BA,QAAS,MAAT,CAAe,aAAf,CAA8B,cAA9B,CAA8C,CAC7C,MAAO,QAAO,aAAP,CAAsB,IAAtB,CAA4B,gBAAkB,EAA9C,CAAP,CACA,CAED;;;IAIA,QAAS,SAAT,CAAkB,CAAlB,CAAqB,OAArB,CAA8B,IAA9B,CAAoC,CAApC,CAAuC,CACtC,KAAK,IAAL,CAAU,YAAY,EAAE,OAAd,CAAuB,CAAvB,CAAV,CAAqC,YAAY,EAAE,MAAd,CAAsB,CAAtB,CAArC,EACA,gBAAgB,CAAhB,CAAmB,OAAnB,CAA4B,IAA5B,CAAkC,CAAlC,EACA,CAED,QAAS,gBAAT,CAAyB,CAAzB,CAA4B,OAA5B,CAAqC,IAArC,CAA2C,QAA3C,CAAqD,CACpD,GAAI,CACH,EAAE,KAAF,CAAQ,OAAR,CAAiB,IAAjB,EACA,CAAC,MAAM,CAAN,CAAS,CACV,SAAS,MAAT,CAAgB,CAAhB,EACA,CACD,CAED;;;;;;;;;;;;;;;;;;;IAoBA,QAAS,KAAT,CAAc,aAAa,mBAA3B,CAAgD,CAC/C,MAAO,QAAO,aAAP,CAAsB,IAAtB,CAA4B,MAAM,IAAN,CAAW,SAAX,CAAsB,CAAtB,CAA5B,CAAP,CACA,CAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAiCA,QAAS,KAAT,CAAc,CAAC,aAAf,CAA8B,CAC7B,GAAI,MAAO,UAAU,MAAV,CAAmB,CAAnB,CAAuB,MAAM,IAAN,CAAW,SAAX,CAAsB,CAAtB,CAAvB,CAAkD,EAA7D,CACA,MAAO,WAAW,CACjB,MAAO,QAAO,CAAP,CAAU,IAAV,CAAgB,KAAK,MAAL,CAAY,MAAM,IAAN,CAAW,SAAX,CAAZ,CAAhB,CAAP,CACA,CAFD,CAGA,CAED;;;;;;;;;;IAWA,QAAS,QAAT,CAAiB,GAAjB,CAAsB,OAAtB,CAA+B,GAA/B,CAAoC,CACnC,MAAO,UAAS,IAAT,CAAe,OAAf,CAAwB,GAAxB,CAA6B,GAA7B,CAAP,CACA,CAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAkDA,QAAS,UAAT,CAAmB,aAAnB,CAAkC,SAAlC,CAA6C,CAE5C,MAAO,WAAW,CACjB,GAAI,SAAU,IAAd,CACA,MAAO,SAAQ,GAAR,CAAY,SAAZ,EAAuB,IAAvB,CAA4B,SAAS,IAAT,CAAe,CACjD,GAAI,GAAI,QAAQ,MAAR,EAAR,CAEA,GAAI,YAAJ,CAAiB,UAAjB,CAEA,GAAG,MAAO,WAAU,QAAjB,GAA8B,QAAjC,CAA2C,CAC1C,YAAc,kBAAkB,IAAlB,CAAwB,UAAU,QAAlC,CAAd,CACA,CAED,GAAG,MAAO,WAAU,OAAjB,GAA6B,QAAhC,CAA0C,CACzC,WAAa,kBAAkB,IAAlB,CAAwB,UAAU,OAAlC,CAAb,CACA,CAED,GAAG,WAAa,WAAhB,CAA6B,CAC5B,eAAe,IAAf,CAAqB,UAArB,CAAiC,EAAE,QAAF,CAAW,MAA5C,CAAoD,EAAE,QAAtD,EACA,eAAe,IAAf,CAAqB,WAArB,CAAkC,EAAE,QAAF,CAAW,OAA7C,CAAsD,EAAE,QAAxD,EACA,CAHD,IAGO,CACN,eAAe,IAAf,CAAqB,WAArB,CAAkC,EAAE,QAAF,CAAW,OAA7C,CAAsD,EAAE,QAAxD,EACA,eAAe,IAAf,CAAqB,UAArB,CAAiC,EAAE,QAAF,CAAW,MAA5C,CAAoD,EAAE,QAAtD,EACA,CAED,cAAc,KAAd,CAAoB,OAApB,CAA6B,IAA7B,EAEA,MAAO,EAAP,CACA,CAxBM,CAAP,CAyBA,CA3BD,CA4BA,CAED,QAAS,kBAAT,CAA2B,IAA3B,CAAiC,GAAjC,CAAsC,CACrC,MAAO,KAAM,CAAN,CAAW,KAAK,MAAL,CAAc,GAAd,CAAoB,CAA/B,CAAoC,GAA3C,CACA,CAED,QAAS,eAAT,CAAwB,IAAxB,CAA8B,GAA9B,CAAmC,QAAnC,CAA6C,OAA7C,CAAsD,CACrD,GAAG,MAAO,IAAP,GAAe,QAAlB,CAA4B,CAC3B,KAAK,MAAL,CAAY,GAAZ,CAAiB,CAAjB,CAAoB,YAAY,QAAZ,CAAsB,OAAtB,CAApB,EACA,CACD,CAED,QAAS,YAAT,CAAqB,EAArB,CAAyB,OAAzB,CAAkC,CACjC,MAAO,WAAW,CACjB,GAAI,UAAU,MAAV,CAAmB,CAAvB,CAA0B,CACzB,GAAG,IAAH,CAAQ,OAAR,CAAiB,MAAM,IAAN,CAAW,SAAX,CAAjB,EACA,CAFD,IAEO,CACN,GAAG,KAAH,CAAS,OAAT,CAAkB,SAAlB,EACA,CACD,CAND,CAOA,CACD,CAzPD,EA0PC,CA3PD,EA2PG,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAU,OAAV,CAAmB,CAAE,OAAO,OAAP,CAAiB,QAAQ,OAAR,CAAjB,CAAoC,CA3PlH,EA6PC,CAxQyM,CAwQxM,CAAC,cAAc,EAAf,CAAkB,gBAAgB,EAAlC,CAAqC,SAAS,EAA9C,CAxQwM,CArBqe,CA6R1nB,EAAE,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CACxF,6DAEA;;;;;;;;;;;;;;GAgBA,CAAC,SAAS,MAAT,CAAiB,CAClB,OAAO,UAAW,CAEd;;;;;;;;;;;;OAaA,MAAO,UAAS,QAAT,CAAmB,QAAnB,CAA6B,CAChC;AACA;AACA,SAAS,MAAT,CAAkB,UAAW,CAClC,GAAI,CACH,SAAS,MAAT,CAAgB,SAAS,QAAT,CAAhB,EACA,CAAC,MAAM,CAAN,CAAS,CACV,SAAS,MAAT,CAAgB,CAAhB,EACA,CAED,MAAO,UAAS,OAAhB,CACM,CARD,CAUA,MAAO,SAAP,CACH,CAdD,CAgBH,CA/BD,EAgCC,CAjCD,EAiCG,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAU,OAAV,CAAmB,CAAE,OAAO,OAAP,CAAiB,SAAjB,CAA6B,CAjC3G,EAqCC,CAxDsD,CAwDrD,EAxDqD,CA7RwnB,CAqVzqB,EAAE,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CACzC,8EAEA;;;;;;;GASA,CAAC,SAAS,MAAT,CAAiB,CAClB,OAAO,SAAS,OAAT,CAAkB,CAExB,GAAI,MAAO,QAAQ,QAAR,CAAX,CAEG;;OAGA,MAAO,SAAS,MAAT,CAAe,IAAf,CAAqB,KAArB,CAA4B,CACrC,MAAO,MAAK,KAAL,EAAY,KAAZ,CAAkB,IAAlB,CAAP,CACG,CAFD,CAIH,CAXD,EAYC,CAbD,EAaG,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAU,OAAV,CAAmB,CAAE,OAAO,OAAP,CAAiB,QAAQ,OAAR,CAAjB,CAAoC,CAblH,EAiBC,CA7BO,CA6BN,CAAC,SAAS,EAAV,CA7BM,CArVuqB,CAkX9pB,EAAE,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CACpD,8EAEA;;;;;;GAQA,CAAC,SAAS,MAAT,CAAiB,CAClB,OAAO,SAAS,OAAT,CAAkB,CAExB,GAAI,MAAO,QAAQ,QAAR,CAAX,CACA,GAAI,SAAU,KAAK,KAAL,CAAd,CACA,GAAI,UAAW,QAAQ,eAAR,CAAf,CACA,GAAI,QAAS,QAAQ,aAAR,EAAuB,KAAK,OAA5B,CAAb,CACA,GAAI,OAAQ,MAAM,SAAN,CAAgB,KAA5B,CAEA,MAAO,CACN,KAAM,IADA,CAEN,QAAS,OAFH,CAGN,KAAM,OAHA,CAIN,MAAO,KAJD,CAKN,QAAS,OALH,CAAP,CAQA;;;;;;;IAQA,QAAS,MAAT,CAAe,CAAf,CAAkB,IAAlB,CAAwB,CACvB;AACA,MAAO,QAAO,CAAP,CAAU,IAAV,CAAgB,MAAQ,IAAR,CAAe,EAAf,CAAoB,MAAM,IAAN,CAAW,IAAX,CAApC,CAAP,CACA,CAED;;;;;;;;;;;IAYA,QAAS,KAAT,CAAc,CAAE,cAAhB,CAAgC,CAC/B,GAAI,MAAO,UAAU,MAAV,CAAmB,CAAnB,CAAuB,MAAM,IAAN,CAAW,SAAX,CAAsB,CAAtB,CAAvB,CAAkD,EAA7D,CACA,MAAO,WAAW,CACjB,MAAO,QAAO,CAAP,CAAU,IAAV,CAAgB,KAAK,MAAL,CAAY,MAAM,IAAN,CAAW,SAAX,CAAZ,CAAhB,CAAP,CACA,CAFD,CAGA,CAED;;;;;;;;;;IAWA,QAAS,QAAT,CAAiB,GAAjB,CAAsB,OAAtB,CAA+B,GAA/B,CAAoC,CACnC,MAAO,UAAS,IAAT,CAAe,OAAf,CAAwB,GAAxB,CAA6B,GAA7B,CAAP,CACA,CAED;;;;;;;;;;;;IAaA,QAAS,QAAT,CAAiB,CAAE,eAAnB,CAAoC,CACnC,GAAI,OAAQ,MAAM,IAAN,CAAW,SAAX,CAAsB,CAAtB,CAAZ,CAEA,MAAO,WAAW,CACjB,GAAI,SAAU,IAAd,CACA,GAAI,MAAO,MAAM,IAAN,CAAW,SAAX,CAAX,CACA,GAAI,cAAe,QAAQ,KAAR,CAAc,OAAd,CAAuB,CAAC,CAAD,EAAI,MAAJ,CAAW,IAAX,CAAvB,CAAnB,CAEA,MAAO,MAAK,MAAL,CAAY,KAAZ,CAAmB,SAAS,GAAT,CAAc,IAAd,CAAoB,CAC7C,MAAO,MAAK,IAAL,CAAU,OAAV,CAAmB,GAAnB,CAAP,CACA,CAFM,CAEJ,YAFI,CAAP,CAGA,CARD,CASA,CACD,CAzFD,EA0FC,CA3FD,EA2FG,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAU,OAAV,CAAmB,CAAE,OAAO,OAAP,CAAiB,QAAQ,OAAR,CAAjB,CAAoC,CA3FlH,EA+FC,CA1GkB,CA0GjB,CAAC,cAAc,EAAf,CAAkB,gBAAgB,EAAlC,CAAqC,SAAS,EAA9C,CA1GiB,CAlX4pB,CA4d1nB,EAAE,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CACxF,8EAEA;;;;;;;GAQC,UAAS,MAAT,CAAiB,CAClB,OAAO,SAAS,OAAT,CAAkB,CAExB,GAAI,MAAO,QAAQ,QAAR,CAAX,CACA,GAAI,OAAQ,MAAM,SAAN,CAAgB,KAA5B,CAEA,MAAM,CAAN,CAAU,CAAV,CAEA,MAAO,MAAP,CAEA;;;;;;;IAQA,QAAS,MAAT,CAAe,SAAf,CAA0B,CAA1B,CAA6B,CAC5B,MAAO,WAAW,CACjB,GAAI,MAAO,MAAM,IAAN,CAAW,SAAX,CAAX,CAEA,MAAO,MAAK,WAAL,EAAkB,QAAlB,CAA2B,IAA3B,EAAiC,IAAjC,CAAsC,SAAS,IAAT,CAAe,CAC3D,MAAO,MAAK,EAAE,KAAF,CAAQ,IAAR,CAAc,IAAd,CAAL,EAA0B,SAA1B,EAAqC,IAArC,CAAP,CACA,CAFM,CAAP,CAGA,CAND,CAOA,CAED;;;;;;;;IASA,QAAS,EAAT,CAAW,OAAX,CAAoB,CACnB,GAAI,OAAQ,CAAZ,CACA,GAAI,SAAU,EAAd,CAEA,MAAO,SAAS,MAAT,EAAiB,CACvB,MAAO,MAAK,OAAL,CAAa,SAAS,OAAT,CAAkB,CACrC,GAAG,MAAQ,OAAX,CAAoB,CACnB,QAAQ,IAAR,EACA,CAFD,IAEO,CACN,QAAQ,IAAR,CAAa,OAAb,EACA,CACD,OAAS,CAAT,CACA,CAPM,CAAP,CAQA,CATD,CAWA,QAAS,KAAT,EAAgB,CACf,MAAQ,KAAK,GAAL,CAAS,MAAQ,CAAjB,CAAoB,CAApB,CAAR,CACA,GAAG,QAAQ,MAAR,CAAiB,CAApB,CAAuB,CACtB,QAAQ,KAAR,GAAgB,IAAhB,EACA,CACD,CACD,CAED,CA3DD,EA4DC,CA7DA,EA6DC,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAS,OAAT,CAAkB,CAAE,OAAO,OAAP,CAAiB,QAAQ,OAAR,CAAjB,CAAoC,CA7D/G,CAAD,CA+DC,CA1EsD,CA0ErD,CAAC,SAAS,EAAV,CA1EqD,CA5dwnB,CAsiB9pB,EAAE,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CACpD,8EAEA;;;;;;GAOA,CAAC,SAAS,MAAT,CAAiB,CAAE,aACpB,OAAO,SAAS,OAAT,CAAkB,CAExB,GAAI,MAAO,QAAQ,QAAR,CAAX,CACA,GAAI,SAAU,KAAK,OAAnB,CACA,GAAI,WAAY,KAAK,OAArB,CAEA,MAAO,CACN,IAAK,KAAK,IAAL,CAAU,GAAV,CADC,CAEN,IAAK,GAFC,CAGN,OAAQ,MAHF,CAAP,CAMA;;;;;;IAOA,QAAS,IAAT,CAAa,MAAb,CAAqB,CACpB,GAAI,GAAI,QAAQ,MAAR,EAAR,CACA,GAAI,UAAW,QAAQ,QAAR,CAAiB,CAAjB,CAAf,CAEA,GAAI,SAAU,EAAd,CACA,GAAI,MAAO,OAAO,IAAP,CAAY,MAAZ,CAAX,CACA,GAAI,SAAU,KAAK,MAAnB,CAEA,IAAI,GAAI,GAAE,CAAN,CAAS,CAAb,CAAgB,EAAE,KAAK,MAAvB,CAA+B,EAAE,CAAjC,CAAoC,CACnC,EAAI,KAAK,CAAL,CAAJ,CACA,QAAQ,QAAR,CAAiB,OAAO,CAAP,CAAjB,EAA4B,IAA5B,CAAiC,SAAjC,CAA4C,CAA5C,CAA+C,OAA/C,CAAwD,QAAxD,EACA,CAED,GAAG,UAAY,CAAf,CAAkB,CACjB,SAAS,OAAT,CAAiB,OAAjB,EACA,CAED,MAAO,EAAP,CAEA,QAAS,UAAT,CAAmB,CAAnB,CAAsB,CAAtB,CAAyB,QAAzB,CAAmC,CAClC,yBACA,KAAK,CAAL,EAAU,CAAV,CACA,GAAG,EAAE,OAAF,GAAc,CAAjB,CAAoB,CACnB,SAAS,OAAT,CAAiB,OAAjB,EACA,CACD,CACD,CAED;;;;;;;;IASA,QAAS,IAAT,CAAa,MAAb,CAAqB,CAArB,CAAwB,CACvB,MAAO,WAAU,MAAV,EAAkB,IAAlB,CAAuB,SAAS,MAAT,CAAiB,CAC9C,MAAO,KAAI,OAAO,IAAP,CAAY,MAAZ,EAAoB,MAApB,CAA2B,SAAS,CAAT,CAAY,CAAZ,CAAe,CACpD,EAAE,CAAF,EAAO,UAAU,OAAO,CAAP,CAAV,EAAqB,IAArB,CAA0B,UAA1B,CAAsC,CAAtC,CAAP,CACA,MAAO,EAAP,CACA,CAHU,CAGR,EAHQ,CAAJ,CAAP,CAIA,CALM,CAAP,CAOA,QAAS,WAAT,CAAoB,CAApB,CAAuB,CAAvB,CAA0B,CACzB,MAAO,GAAE,CAAF,CAAK,CAAL,CAAP,CACA,CACD,CAED;;;;;;IAOA,QAAS,OAAT,CAAgB,MAAhB,CAAwB,CACvB,GAAI,MAAO,OAAO,IAAP,CAAY,MAAZ,CAAX,CACA,GAAI,SAAU,EAAd,CAEA,GAAG,KAAK,MAAL,GAAgB,CAAnB,CAAsB,CACrB,MAAO,WAAU,OAAV,CAAP,CACA,CAED,GAAI,GAAI,QAAQ,MAAR,EAAR,CACA,GAAI,UAAW,QAAQ,QAAR,CAAiB,CAAjB,CAAf,CACA,GAAI,UAAW,KAAK,GAAL,CAAS,SAAS,CAAT,CAAY,CAAE,MAAO,QAAO,CAAP,CAAP,CAAmB,CAA1C,CAAf,CAEA,KAAK,MAAL,CAAY,QAAZ,EAAsB,IAAtB,CAA2B,SAAS,MAAT,CAAiB,CAC3C,gBAAgB,IAAhB,CAAsB,MAAtB,CAA8B,OAA9B,CAAuC,QAAvC,EACA,CAFD,EAIA,MAAO,EAAP,CACA,CAED,QAAS,gBAAT,CAAyB,IAAzB,CAA+B,MAA/B,CAAuC,OAAvC,CAAgD,QAAhD,CAA0D,CACzD,IAAI,GAAI,GAAE,CAAV,CAAa,EAAE,KAAK,MAApB,CAA4B,GAA5B,CAAiC,CAChC,QAAQ,KAAK,CAAL,CAAR,EAAmB,OAAO,CAAP,CAAnB,CACA,CACD,SAAS,OAAT,CAAiB,OAAjB,EACA,CAED,CAtGD,EAuGC,CAxGD,EAwGG,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAU,OAAV,CAAmB,CAAE,OAAO,OAAP,CAAiB,QAAQ,OAAR,CAAjB,CAAoC,CAxGlH,EA0GC,CApHkB,CAoHjB,CAAC,SAAS,EAAV,CApHiB,CAtiB4pB,CA0pB9pB,EAAE,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CACpD,8EACA,6BACA,wBAEA,CAAC,SAAS,MAAT,CAAiB,CAAE,aACpB,OAAO,SAAU,OAAV,CAAmB,CAEzB,GAAI,aAAc,QAAQ,eAAR,CAAlB,CACA,GAAI,WAAY,QAAQ,aAAR,CAAhB,CACA,GAAI,OAAQ,QAAQ,OAAR,EAAiB,IAA7B,CAEA,MAAO,aAAY,CAClB,UAAW,GAAI,UAAJ,CAAc,KAAd,CADO,CAAZ,CAAP,CAIA,CAVD,EAWC,CAZD,EAYG,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAU,OAAV,CAAmB,CAAE,OAAO,OAAP,CAAiB,QAAQ,OAAR,CAAjB,CAAoC,CAZlH,EAcC,CAnBkB,CAmBjB,CAAC,cAAc,EAAf,CAAkB,QAAQ,EAA1B,CAA6B,gBAAgB,EAA7C,CAnBiB,CA1pB4pB,CA6qB3nB,GAAG,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CACxF,8EACA,6BACA,wBAEC,UAAS,MAAT,CAAiB,CAAE,aACpB,OAAO,UAAW,CAEjB;AACA;AAEA;;;;IAKA,QAAS,UAAT,CAAmB,KAAnB,CAA0B,CACzB,KAAK,MAAL,CAAc,KAAd,CACA,KAAK,QAAL,CAAgB,KAAhB,CAEA,KAAK,MAAL,CAAc,IAAd,CACA,KAAK,SAAL,CAAiB,CAAjB,CACA,KAAK,WAAL,CAAmB,EAAnB,CACA,KAAK,cAAL,CAAsB,CAAtB,CAEA,GAAI,MAAO,IAAX,CACA,KAAK,KAAL,CAAa,UAAW,CACvB,KAAK,MAAL,GACA,CAFD,CAGA,CAED;;;IAIA,UAAU,SAAV,CAAoB,OAApB,CAA8B,SAAS,IAAT,CAAe,CAC5C,KAAK,MAAL,CAAY,KAAK,SAAL,EAAZ,EAAgC,IAAhC,CACA,KAAK,GAAL,GACA,CAHD,CAKA;;;IAIA,UAAU,SAAV,CAAoB,UAApB,CAAiC,SAAS,IAAT,CAAe,CAC/C,KAAK,WAAL,CAAiB,KAAK,cAAL,EAAjB,EAA0C,IAA1C,CACA,KAAK,GAAL,GACA,CAHD,CAKA,UAAU,SAAV,CAAoB,GAApB,CAA0B,UAAW,CACpC,GAAI,CAAC,KAAK,QAAV,CAAoB,CACnB,KAAK,QAAL,CAAgB,IAAhB,CACA,KAAK,MAAL,CAAY,KAAK,KAAjB,EACA,CACD,CALD,CAOA;;IAGA,UAAU,SAAV,CAAoB,MAApB,CAA6B,UAAW,CACvC,GAAI,GAAI,CAAR,CACA,KAAO,EAAI,KAAK,SAAhB,CAA2B,EAAE,CAA7B,CAAgC,CAC/B,KAAK,MAAL,CAAY,CAAZ,EAAe,GAAf,GACA,KAAK,MAAL,CAAY,CAAZ,EAAiB,IAAK,EAAtB,CACA,CAED,KAAK,SAAL,CAAiB,CAAjB,CACA,KAAK,QAAL,CAAgB,KAAhB,CAEA,IAAK,EAAI,CAAT,CAAY,EAAI,KAAK,cAArB,CAAqC,EAAE,CAAvC,CAA0C,CACzC,KAAK,WAAL,CAAiB,CAAjB,EAAoB,GAApB,GACA,KAAK,WAAL,CAAiB,CAAjB,EAAsB,IAAK,EAA3B,CACA,CAED,KAAK,cAAL,CAAsB,CAAtB,CACA,CAhBD,CAkBA,MAAO,UAAP,CAEA,CAzED,EA0EC,CA3EA,EA2EC,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAS,OAAT,CAAkB,CAAE,OAAO,OAAP,CAAiB,SAAjB,CAA6B,CA3ExG,CAAD,CA6EC,CAlFsD,CAkFrD,EAlFqD,CA7qBwnB,CA+vBzqB,GAAG,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CAC1C,8EACA,6BACA,wBAEC,UAAS,MAAT,CAAiB,CAAE,aACpB,OAAO,UAAW,CAEjB;;;;IAKA,QAAS,aAAT,CAAuB,OAAvB,CAAgC,CAC/B,MAAM,IAAN,CAAW,IAAX,EACA,KAAK,OAAL,CAAe,OAAf,CACA,KAAK,IAAL,CAAY,aAAa,IAAzB,CACA,GAAI,MAAO,OAAM,iBAAb,GAAmC,UAAvC,CAAmD,CAClD,MAAM,iBAAN,CAAwB,IAAxB,CAA8B,YAA9B,EACA,CACD,CAED,aAAa,SAAb,CAAyB,OAAO,MAAP,CAAc,MAAM,SAApB,CAAzB,CACA,aAAa,SAAb,CAAuB,WAAvB,CAAqC,YAArC,CAEA,MAAO,aAAP,CACA,CApBD,EAqBC,CAtBA,EAsBC,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAS,OAAT,CAAkB,CAAE,OAAO,OAAP,CAAiB,SAAjB,CAA6B,CAtBxG,CAAD,CAuBC,CA5BQ,CA4BP,EA5BO,CA/vBsqB,CA2xBzqB,GAAG,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CAC1C,8EACA,6BACA,wBAEC,UAAS,MAAT,CAAiB,CAAE,aACpB,OAAO,UAAW,CAEjB,UAAU,eAAV,CAA4B,eAA5B,CAEA,MAAO,UAAP,CAEA,QAAS,UAAT,CAAmB,OAAnB,CAA4B,IAA5B,CAAkC,CACjC,GAAG,UAAU,MAAV,CAAmB,CAAtB,CAAyB,CACxB,KAAO,eAAP,CACA,CAED,MAAO,MAAP,CAEA,QAAS,MAAT,CAAe,CAAf,CAAkB,OAAlB,CAA2B,IAA3B,CAAiC,CAChC,GAAI,GAAI,QAAQ,MAAR,EAAR,CACA,GAAI,GAAI,KAAK,MAAb,CACA,GAAI,QAAS,GAAI,MAAJ,CAAU,CAAV,CAAb,CACA,eAAe,CAAE,EAAE,CAAJ,CAAO,QAAQ,OAAf,CAAwB,KAAK,IAA7B,CAAmC,OAAO,MAA1C,CAAkD,EAAE,EAAE,CAAtD,CAAyD,KAAK,IAA9D,CAAf,CAAqF,EAAE,QAAvF,EAEA,MAAO,EAAP,CACA,CAED,QAAS,eAAT,CAAwB,CAAxB,CAA2B,CAA3B,CAA8B,CAC7B,GAAG,EAAE,CAAF,CAAM,CAAT,CAAY,CACX,MAAO,MAAK,EAAE,CAAP,CAAU,EAAE,OAAZ,CAAqB,EAAE,MAAvB,CAA+B,CAA/B,CAAP,CACA,CAED,GAAI,SAAU,QAAQ,QAAR,CAAiB,EAAE,IAAF,CAAO,EAAE,CAAT,CAAjB,CAAd,CACA,QAAQ,IAAR,CAAa,kBAAb,CAAiC,CAAjC,CAAoC,IAAK,EAAzC,CAA4C,CAA5C,EACA,CAED,QAAS,mBAAT,CAA4B,CAA5B,CAA+B,CAA/B,CAAkC,CAAlC,CAAqC,CACpC,EAAE,MAAF,CAAS,EAAE,CAAX,EAAgB,CAAhB,CACA,EAAE,CAAF,EAAO,CAAP,CACA,eAAe,CAAf,CAAkB,CAAlB,EACA,CACD,CAED,QAAS,gBAAT,CAAyB,CAAzB,CAA4B,OAA5B,CAAqC,IAArC,CAA2C,QAA3C,CAAqD,CACpD,GAAI,CACH,SAAS,OAAT,CAAiB,EAAE,KAAF,CAAQ,OAAR,CAAiB,IAAjB,CAAjB,EACA,CAAC,MAAM,CAAN,CAAS,CACV,SAAS,MAAT,CAAgB,CAAhB,EACA,CACD,CAED,CA9CD,EA+CC,CAhDA,EAgDC,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAS,OAAT,CAAkB,CAAE,OAAO,OAAP,CAAiB,SAAjB,CAA6B,CAhDxG,CAAD,CAoDC,CAzDQ,CAyDP,EAzDO,CA3xBsqB,CAo1BzqB,GAAG,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CAC1C,8EACA,6BACA,wBAEC,UAAS,MAAT,CAAiB,CAAE,aACpB,OAAO,SAAS,OAAT,CAAkB,CAExB,GAAI,OAAQ,QAAQ,UAAR,CAAZ,CACA,GAAI,SAAU,QAAQ,UAAR,CAAd,CAEA,MAAO,SAAS,MAAT,CAAe,OAAf,CAAwB,CAE9B,GAAI,WAAY,QAAQ,OAAR,CAAhB,CACA,GAAI,WAAY,QAAQ,OAAxB,CACA,GAAI,KAAM,QAAQ,GAAlB,CAEA,GAAI,IAAK,MAAM,SAAN,CAAgB,MAAzB,CACA,GAAI,KAAM,MAAM,SAAN,CAAgB,WAA1B,CACA,GAAI,OAAQ,MAAM,SAAN,CAAgB,KAA5B,CAEA;AAEA,QAAQ,GAAR,CAAc,GAAd,CACA,QAAQ,IAAR,CAAe,IAAf,CACA,QAAQ,MAAR,CAAiB,MAAjB,CAEA,QAAQ,GAAR,CAAc,GAAd,CACA,QAAQ,MAAR,CAAiB,MAAjB,CACA,QAAQ,MAAR,CAAiB,MAAjB,CACA,QAAQ,WAAR,CAAsB,WAAtB,CAEA;;;;;KAMA,QAAQ,SAAR,CAAkB,MAAlB,CAA2B,SAAS,WAAT,CAAsB,CAChD,MAAO,MAAK,IAAL,CAAU,GAAV,EAAe,IAAf,CAAoB,SAAS,KAAT,CAAgB,CAC1C,MAAO,aAAY,KAAZ,CAAkB,IAAlB,CAAwB,KAAxB,CAAP,CACA,CAFM,CAAP,CAGA,CAJD,CAMA,MAAO,QAAP,CAEA;;;;;;;KAQA,QAAS,IAAT,CAAa,QAAb,CAAuB,CACtB,GAAI,GAAI,QAAQ,MAAR,EAAR,CACA,GAAI,UAAW,EAAE,QAAjB,CACA,GAAI,GAAI,SAAS,MAAT,GAAkB,CAA1B,CAEA,GAAI,SAAU,CAAd,CACA,GAAI,QAAS,EAAb,CAEA,IAAK,GAAI,EAAJ,CAAO,CAAP,CAAU,EAAI,CAAnB,CAAsB,EAAI,CAA1B,CAA6B,EAAE,CAA/B,CAAkC,CACjC,EAAI,SAAS,CAAT,CAAJ,CACA,GAAG,IAAM,IAAK,EAAX,EAAgB,EAAE,IAAK,SAAP,CAAnB,CAAqC,CACpC,EAAE,OAAF,CACA,SACA,CAED,EAAI,QAAQ,QAAR,CAAiB,CAAjB,CAAJ,CACA,GAAG,EAAE,KAAF,GAAY,CAAf,CAAkB,CACjB,SAAS,MAAT,CAAgB,CAAhB,EACA,QAAQ,eAAR,CAAwB,QAAxB,CAAkC,CAAlC,CAAqC,CAArC,EACA,MACA,CAJD,IAIO,CACN,EAAE,KAAF,CAAQ,QAAR,CAAkB,aAAlB,CAAiC,YAAjC,EACA,CACD,CAED,GAAG,UAAY,CAAf,CAAkB,CACjB,SAAS,MAAT,CAAgB,GAAI,WAAJ,CAAe,gCAAf,CAAhB,EACA,CAED,MAAO,EAAP,CAEA,QAAS,cAAT,CAAuB,CAAvB,CAA0B,CACzB,yBACA,OAAS,IAAT,CACA,KAAK,OAAL,CAAa,CAAb,EAAiB;AACjB,CAED,QAAS,aAAT,CAAsB,CAAtB,CAAyB,CACxB,yBACA,GAAG,KAAK,QAAR,CAAkB,CAAE;AACnB,OACA,CAED,OAAO,IAAP,CAAY,CAAZ,EACA,GAAG,EAAE,OAAF,GAAc,CAAjB,CAAoB,CACnB,KAAK,MAAL,CAAY,MAAZ,EACA,CACD,CACD,CAED;;;;;;;;;;;KAYA,QAAS,KAAT,CAAc,QAAd,CAAwB,CAAxB,CAA2B,CAC1B,0BACA,GAAI,GAAI,QAAQ,MAAR,EAAR,CACA,GAAI,UAAW,EAAE,QAAjB,CAEA,GAAI,SAAU,EAAd,CACA,GAAI,QAAS,EAAb,CAEA,GAAI,GAAI,SAAS,MAAT,GAAkB,CAA1B,CACA,GAAI,UAAW,CAAf,CACA,GAAI,QAAJ,CACA,GAAI,EAAJ,CAAO,CAAP,CAAU;AAEV;AACA,IAAI,EAAE,CAAN,CAAS,EAAE,CAAX,CAAc,EAAE,CAAhB,CAAmB,CAClB,EAAI,SAAS,CAAT,CAAJ,CACA,GAAG,IAAM,IAAK,EAAX,EAAgB,EAAE,IAAK,SAAP,CAAnB,CAAqC,CACpC,SACA,CACD,EAAE,QAAF,CACA,CAED;AACA,EAAI,KAAK,GAAL,CAAS,CAAT,CAAY,CAAZ,CAAJ,CACA,QAAW,SAAW,CAAX,CAAe,CAA1B,CACA,SAAW,KAAK,GAAL,CAAS,CAAT,CAAY,QAAZ,CAAX,CAEA,GAAG,EAAI,QAAP,CAAiB,CAChB,SAAS,MAAT,CAAgB,GAAI,WAAJ,CAAe,uCAC7B,CAD6B,CACzB,oBADyB,CACF,QADb,CAAhB,EAEA,CAHD,IAGO,IAAG,WAAa,CAAhB,CAAmB,CACzB,SAAS,OAAT,CAAiB,OAAjB,EACA,CAED;AACA,IAAI,EAAE,CAAN,CAAS,EAAE,CAAX,CAAc,EAAE,CAAhB,CAAmB,CAClB,EAAI,SAAS,CAAT,CAAJ,CACA,GAAG,IAAM,IAAK,EAAX,EAAgB,EAAE,IAAK,SAAP,CAAnB,CAAqC,CACpC,SACA,CAED,QAAQ,QAAR,CAAiB,CAAjB,EAAoB,KAApB,CAA0B,QAA1B,CAAoC,OAApC,CAA6C,MAA7C,CAAqD,SAAS,MAA9D,EACA,CAED,MAAO,EAAP,CAEA,QAAS,QAAT,CAAiB,CAAjB,CAAoB,CACnB,yBACA,GAAG,KAAK,QAAR,CAAkB,CAAE;AACnB,OACA,CAED,QAAQ,IAAR,CAAa,CAAb,EACA,GAAG,EAAE,QAAF,GAAe,CAAlB,CAAqB,CACpB,OAAS,IAAT,CACA,KAAK,OAAL,CAAa,OAAb,EACA,CACD,CAED,QAAS,OAAT,CAAgB,CAAhB,CAAmB,CAClB,yBACA,GAAG,KAAK,QAAR,CAAkB,CAAE;AACnB,OACA,CAED,OAAO,IAAP,CAAY,CAAZ,EACA,GAAG,EAAE,OAAF,GAAc,CAAjB,CAAoB,CACnB,QAAU,IAAV,CACA,KAAK,MAAL,CAAY,MAAZ,EACA,CACD,CACD,CAED;;;;;;KAOA,QAAS,IAAT,CAAa,QAAb,CAAuB,CAAvB,CAA0B,CACzB,MAAO,SAAQ,SAAR,CAAkB,CAAlB,CAAqB,QAArB,CAAP,CACA,CAED;;;;;;;;KASA,QAAS,OAAT,CAAgB,QAAhB,CAA0B,SAA1B,CAAqC,CACpC,GAAI,GAAI,MAAM,IAAN,CAAW,QAAX,CAAR,CACA,MAAO,SAAQ,SAAR,CAAkB,SAAlB,CAA6B,CAA7B,EAAgC,IAAhC,CAAqC,SAAS,IAAT,CAAe,CAC1D,MAAO,YAAW,CAAX,CAAc,IAAd,CAAP,CACA,CAFM,CAAP,CAGA,CAED,QAAS,WAAT,CAAoB,QAApB,CAA8B,IAA9B,CAAoC,CACnC;AACA,GAAI,GAAI,KAAK,MAAb,CACA,GAAI,UAAW,GAAI,MAAJ,CAAU,CAAV,CAAf,CACA,IAAI,GAAI,GAAE,CAAN,CAAS,EAAE,CAAf,CAAkB,EAAE,CAApB,CAAuB,EAAE,CAAzB,CAA4B,CAC3B,GAAG,KAAK,CAAL,CAAH,CAAY,CACX,SAAS,GAAT,EAAgB,QAAQ,QAAR,CAAiB,SAAS,CAAT,CAAjB,EAA8B,KAA9C,CACA,CACD,CACD,SAAS,MAAT,CAAkB,CAAlB,CACA,MAAO,SAAP,CAEA,CAED;;;;;;KAOA,QAAS,OAAT,CAAgB,QAAhB,CAA0B,CACzB,MAAO,KAAI,SAAS,GAAT,CAAa,SAAb,CAAJ,CAAP,CACA,CAED,QAAS,UAAT,CAAmB,CAAnB,CAAsB,CACrB,GAAI,GAAI,QAAQ,QAAR,CAAiB,CAAjB,CAAR,CACA,GAAG,EAAE,KAAF,KAAc,CAAjB,CAAoB,CACnB,MAAO,WAAU,CAAV,EAAa,IAAb,CAAkB,MAAM,SAAxB,CAAmC,MAAM,QAAzC,CAAP,CACA,CAED,EAAE,SAAF,GACA,MAAO,OAAM,OAAN,CAAc,CAAd,CAAP,CACA,CAED;;;;;;;;;KAUA,QAAS,OAAT,CAAgB,QAAhB,CAA0B,CAAE,mBAA5B,CAAiD,CAChD,MAAO,WAAU,MAAV,CAAmB,CAAnB,CAAuB,GAAG,IAAH,CAAQ,QAAR,CAAkB,YAAY,CAAZ,CAAlB,CAAkC,UAAU,CAAV,CAAlC,CAAvB,CACH,GAAG,IAAH,CAAQ,QAAR,CAAkB,YAAY,CAAZ,CAAlB,CADJ,CAEA,CAED;;;;;;;;;KAUA,QAAS,YAAT,CAAqB,QAArB,CAA+B,CAAE,mBAAjC,CAAsD,CACrD,MAAO,WAAU,MAAV,CAAmB,CAAnB,CAAuB,IAAI,IAAJ,CAAS,QAAT,CAAmB,YAAY,CAAZ,CAAnB,CAAmC,UAAU,CAAV,CAAnC,CAAvB,CACH,IAAI,IAAJ,CAAS,QAAT,CAAmB,YAAY,CAAZ,CAAnB,CADJ,CAEA,CAED,QAAS,YAAT,CAAqB,CAArB,CAAwB,CACvB,MAAO,UAAS,CAAT,CAAY,CAAZ,CAAe,CAAf,CAAkB,CACxB,MAAO,WAAU,CAAV,CAAa,IAAK,EAAlB,CAAqB,CAAC,CAAD,CAAG,CAAH,CAAK,CAAL,CAArB,CAAP,CACA,CAFD,CAGA,CACD,CAnRD,CAqRA,CA1RD,EA2RC,CA5RA,EA4RC,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAS,OAAT,CAAkB,CAAE,OAAO,OAAP,CAAiB,QAAQ,OAAR,CAAjB,CAAoC,CA5R/G,CAAD,CA8RC,CAnSQ,CAmSP,CAAC,WAAW,EAAZ,CAAe,WAAW,EAA1B,CAnSO,CAp1BsqB,CAunC9oB,GAAG,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CACrE,8EACA,6BACA,wBAEC,UAAS,MAAT,CAAiB,CAAE,aACpB,OAAO,UAAW,CAEjB,MAAO,SAAS,KAAT,CAAc,OAAd,CAAuB,CAE7B,GAAI,SAAU,QAAQ,OAAtB,CACA,GAAI,QAAS,QAAQ,MAArB,CACA,GAAI,WAAY,QAAQ,SAAR,CAAkB,OAAlB,CAAhB,CAEA;;;;;;;;KASA,QAAQ,SAAR,CAAkB,IAAlB,CAAyB,SAAS,QAAT,CAAmB,OAAnB,CAA4B,CACpD,KAAK,QAAL,CAAc,KAAd,CAAoB,KAAK,QAAL,CAAc,QAAlC,CAA4C,QAA5C,CAAsD,OAAtD,EACA,CAFD,CAIA;;;;;;;KAQA,QAAQ,SAAR,CAAkB,OAAlB,EAA6B,QAAQ,SAAR,CAAkB,SAAlB,CAA8B,SAAS,UAAT,CAAqB,CAC/E,GAAI,UAAU,MAAV,CAAmB,CAAvB,CAA0B,CACzB,MAAO,WAAU,IAAV,CAAe,IAAf,CAAqB,UAArB,CAAP,CACA,CAED,GAAG,MAAO,WAAP,GAAsB,UAAzB,CAAqC,CACpC,MAAO,MAAK,MAAL,CAAY,sBAAZ,CAAP,CACA,CAED,MAAO,WAAU,IAAV,CAAe,IAAf,CAAqB,kBAAkB,UAAU,CAAV,CAAlB,CAAgC,UAAhC,CAArB,CAAP,CACA,CAVD,CAYA;;;;;;KAOA,QAAS,kBAAT,CAA2B,OAA3B,CAAoC,SAApC,CAA+C,CAC9C,MAAO,UAAS,CAAT,CAAY,CAClB,MAAO,mBAAkB,CAAlB,CAAqB,SAArB,EACJ,QAAQ,IAAR,CAAa,IAAb,CAAmB,CAAnB,CADI,CAEJ,OAAO,CAAP,CAFH,CAGA,CAJD,CAKA,CAED;;;;;;;;;KAUA,QAAQ,SAAR,CAAkB,SAAlB,EAA+B,QAAQ,SAAR,CAAkB,MAAlB,CAA2B,SAAS,OAAT,CAAkB,CAC3E,GAAG,MAAO,QAAP,GAAmB,UAAtB,CAAkC,CACjC,MAAO,KAAP,CACA,CAED,MAAO,MAAK,IAAL,CAAU,SAAS,CAAT,CAAY,CAC5B,MAAO,eAAc,OAAd,CAAuB,IAAvB,CAA6B,QAA7B,CAAuC,CAAvC,CAAP,CACA,CAFM,CAEJ,SAAS,CAAT,CAAY,CACd,MAAO,eAAc,OAAd,CAAuB,IAAvB,CAA6B,MAA7B,CAAqC,CAArC,CAAP,CACA,CAJM,CAAP,CAKA,CAVD,CAYA,QAAS,cAAT,CAAwB,OAAxB,CAAiC,OAAjC,CAA0C,SAA1C,CAAqD,KAArD,CAA4D,CAC3D,GAAI,QAAS,QAAQ,IAAR,CAAa,OAAb,CAAb,CACA,MAAO,eAAc,MAAd,EACJ,eAAe,MAAf,CAAuB,SAAvB,CAAkC,KAAlC,CADI,CAEJ,UAAU,KAAV,CAFH,CAGA,CAED,QAAS,eAAT,CAAyB,MAAzB,CAAiC,SAAjC,CAA4C,CAA5C,CAA+C,CAC9C,MAAO,SAAQ,MAAR,EAAgB,IAAhB,CAAqB,UAAY,CACvC,MAAO,WAAU,CAAV,CAAP,CACA,CAFM,CAAP,CAGA,CAED;;;;;;;KAQA,QAAQ,SAAR,CAAkB,MAAlB,EAA4B,QAAQ,SAAR,CAAkB,MAAlB,CAA2B,SAAS,YAAT,CAAuB,CAC7E,MAAO,MAAK,IAAL,CAAU,IAAK,EAAf,CAAkB,UAAW,CACnC,MAAO,aAAP,CACA,CAFM,CAAP,CAGA,CAJD,CAMA;;;;;;;KAQA,QAAQ,SAAR,CAAkB,OAAlB,EAA6B,SAAS,KAAT,CAAgB,CAC5C,MAAO,MAAK,IAAL,CAAU,UAAW,CAC3B,MAAO,MAAP,CACA,CAFM,CAAP,CAGA,CAJD,CAMA;;;;;KAMA,QAAQ,SAAR,CAAkB,GAAlB,CAAwB,SAAS,qBAAT,CAAgC,CACvD,MAAO,MAAK,IAAL,CAAU,qBAAV,EAAiC,OAAjC,EAA0C,IAA1C,CAAP,CACA,CAFD,CAIA,MAAO,QAAP,CACA,CAhID,CAkIA,QAAS,uBAAT,EAAkC,CACjC,KAAM,IAAI,UAAJ,CAAc,oCAAd,CAAN,CACA,CAED,QAAS,kBAAT,CAA2B,CAA3B,CAA8B,SAA9B,CAAyC,CACxC,MAAO,SAAQ,SAAR,EAAqB,YAAa,UAAlC,CAA8C,UAAU,CAAV,CAArD,CACA,CAED,QAAS,QAAT,CAAiB,SAAjB,CAA4B,CAC3B,MAAO,aAAc,KAAd,EACF,WAAa,IAAb,EAAqB,UAAU,SAAV,WAA+B,MADzD,CAEA,CAED,QAAS,cAAT,CAAuB,CAAvB,CAA0B,CACzB,MAAO,CAAC,MAAO,EAAP,GAAa,QAAb,EAAyB,MAAO,EAAP,GAAa,UAAvC,GAAsD,IAAM,IAAnE,CACA,CAED,QAAS,SAAT,CAAkB,CAAlB,CAAqB,CACpB,MAAO,EAAP,CACA,CAED,CAzJD,EA0JC,CA3JA,EA2JC,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAS,OAAT,CAAkB,CAAE,OAAO,OAAP,CAAiB,SAAjB,CAA6B,CA3JxG,CAAD,CA6JC,CAlKmC,CAkKlC,EAlKkC,CAvnC2oB,CAyxCzqB,GAAG,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CAC1C,8EACA,6BACA,wBACA,6BAEC,UAAS,MAAT,CAAiB,CAAE,aACpB,OAAO,UAAW,CAEjB,MAAO,SAAS,KAAT,CAAc,OAAd,CAAuB,CAE7B,QAAQ,SAAR,CAAkB,IAAlB,CAAyB,SAAS,CAAT,CAAY,CAAZ,CAAe,CACvC,GAAI,SAAU,KAAK,MAAL,EAAd,CAEA,KAAK,QAAL,CAAc,IAAd,CAAmB,SAAS,CAAT,CAAY,CAAZ,CAAe,EAAf,CAAmB,CACrC,QAAQ,QAAR,CAAiB,CAAjB,EAAoB,IAApB,CAAyB,SAAS,CAAT,CAAY,CAAZ,CAAe,EAAf,CAAmB,CAC3C,GAAG,OAAH,CAAW,EAAE,IAAF,CAAO,IAAP,CAAa,CAAb,CAAgB,CAAhB,CAAX,EACA,CAFD,CAEG,CAFH,CAEM,IAFN,CAEY,EAFZ,EAGA,CAJD,CAIG,CAJH,CAIM,QAAQ,QAAR,CAAiB,QAJvB,CAIiC,QAAQ,QAJzC,EAMA,MAAO,QAAP,CACA,CAVD,CAYA,MAAO,QAAP,CACA,CAfD,CAiBA,CAnBD,EAoBC,CArBA,EAqBC,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAS,OAAT,CAAkB,CAAE,OAAO,OAAP,CAAiB,SAAjB,CAA6B,CArBxG,CAAD,CAuBC,CA7BQ,CA6BP,EA7BO,CAzxCsqB,CAszCzqB,GAAG,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CAC1C,8EACA,6BACA,wBAEC,UAAS,MAAT,CAAiB,CAAE,aACpB,OAAO,SAAS,OAAT,CAAkB,CAExB,GAAI,SAAU,QAAQ,UAAR,EAAoB,OAAlC,CAEA,MAAO,SAAS,WAAT,CAAoB,OAApB,CAA6B,CAEnC,QAAQ,SAAR,CAAkB,OAAlB,CAA4B,UAAW,CACtC,MAAO,SAAQ,QAAQ,QAAR,CAAiB,IAAjB,CAAR,CAAP,CACA,CAFD,CAIA,MAAO,QAAP,CACA,CAPD,CASA,CAbD,EAcC,CAfA,EAeC,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAS,OAAT,CAAkB,CAAE,OAAO,OAAP,CAAiB,QAAQ,OAAR,CAAjB,CAAoC,CAf/G,CAAD,CAiBC,CAtBQ,CAsBP,CAAC,WAAW,EAAZ,CAtBO,CAtzCsqB,CA40C5pB,GAAG,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CACvD,8EACA,6BACA,wBAEC,UAAS,MAAT,CAAiB,CAAE,aACpB,OAAO,UAAW,CAEjB,MAAO,SAAS,SAAT,CAAkB,OAAlB,CAA2B,CAEjC,GAAI,SAAU,QAAQ,OAAtB,CAEA,QAAQ,OAAR,CAAkB,OAAlB,CACA,QAAQ,MAAR,CAAiB,MAAjB,CAEA,MAAO,QAAP,CAEA;;;;;;;;;;;KAYA,QAAS,QAAT,CAAiB,CAAjB,CAAoB,SAApB,CAA+B,OAA/B,CAAwC,CAAxC,CAA2C,CAC1C,MAAO,QAAO,SAAS,CAAT,CAAY,CACzB,MAAO,CAAC,CAAD,CAAI,EAAE,CAAF,CAAJ,CAAP,CACA,CAFM,CAEJ,SAFI,CAEO,OAFP,CAEgB,CAFhB,CAAP,CAGA,CAED;;;;;;;;;;;;;KAcA,QAAS,OAAT,CAAgB,OAAhB,CAAyB,SAAzB,CAAoC,OAApC,CAA6C,CAA7C,CAAgD,CAC/C,MAAO,SAAQ,CAAR,EAAW,IAAX,CAAgB,SAAS,IAAT,CAAe,CACrC,MAAO,SAAQ,UAAU,IAAV,CAAR,EAAyB,IAAzB,CAA8B,SAAS,IAAT,CAAe,CACnD,MAAO,MAAO,IAAP,CAAc,QAAQ,QAAQ,IAAR,CAAR,EAAuB,MAAvB,CAA8B,IAA9B,CAArB,CACA,CAFM,CAAP,CAGA,CAJM,CAAP,CAMA,QAAS,KAAT,CAAc,IAAd,CAAoB,OAApB,CAA6B,CAC5B,MAAO,SAAQ,QAAQ,IAAR,CAAR,EAAuB,IAAvB,CAA4B,UAAW,CAC7C,MAAO,QAAO,OAAP,CAAgB,SAAhB,CAA2B,OAA3B,CAAoC,OAApC,CAAP,CACA,CAFM,CAAP,CAGA,CACD,CACD,CAtDD,CAwDA,CA1DD,EA2DC,CA5DA,EA4DC,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAS,OAAT,CAAkB,CAAE,OAAO,OAAP,CAAiB,SAAjB,CAA6B,CA5DxG,CAAD,CA8DC,CAnEqB,CAmEpB,EAnEoB,CA50CypB,CA+4CzqB,GAAG,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CAC1C,8EACA,6BACA,wBAEC,UAAS,MAAT,CAAiB,CAAE,aACpB,OAAO,UAAW,CAEjB,MAAO,SAAS,SAAT,CAAkB,OAAlB,CAA2B,CAEjC;;;;;KAMA,QAAQ,SAAR,CAAkB,QAAlB,CAA6B,SAAS,UAAT,CAAqB,CACjD,MAAO,MAAK,IAAL,CAAU,IAAK,EAAf,CAAkB,IAAK,EAAvB,CAA0B,UAA1B,CAAP,CACA,CAFD,CAIA,MAAO,QAAP,CACA,CAbD,CAeA,CAjBD,EAkBC,CAnBA,EAmBC,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAS,OAAT,CAAkB,CAAE,OAAO,OAAP,CAAiB,SAAjB,CAA6B,CAnBxG,CAAD,CAqBC,CA1BQ,CA0BP,EA1BO,CA/4CsqB,CAy6CzqB,GAAG,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CAC1C,8EACA,6BACA,wBAEC,UAAS,MAAT,CAAiB,CAAE,aACpB,OAAO,SAAS,OAAT,CAAkB,CAExB,GAAI,KAAM,QAAQ,QAAR,CAAV,CACA,GAAI,cAAe,QAAQ,iBAAR,CAAnB,CAEA,QAAS,WAAT,CAAoB,CAApB,CAAuB,EAAvB,CAA2B,CAA3B,CAA8B,CAA9B,CAAiC,CAChC,MAAO,KAAI,QAAJ,CAAa,UAAW,CAC9B,EAAE,CAAF,CAAK,CAAL,CAAQ,EAAR,EACA,CAFM,CAEJ,EAFI,CAAP,CAGA,CAED,MAAO,SAAS,MAAT,CAAe,OAAf,CAAwB,CAC9B;;;;;KAMA,QAAQ,SAAR,CAAkB,KAAlB,CAA0B,SAAS,EAAT,CAAa,CACtC,GAAI,GAAI,KAAK,MAAL,EAAR,CACA,KAAK,QAAL,CAAc,IAAd,CAAmB,WAAnB,CAAgC,EAAhC,CAAoC,IAAK,EAAzC,CAA4C,EAAE,QAA9C,EACA,MAAO,EAAP,CACA,CAJD,CAMA,QAAS,YAAT,CAAqB,EAArB,CAAyB,CAAzB,CAA4B,CAA5B,CAA+B,CAC9B,WAAW,YAAX,CAAyB,EAAzB,CAA6B,CAA7B,CAAgC,CAAhC,EACA,CAED,QAAS,aAAT,CAAsB,CAAtB,CAAyB,CAAzB,CAA4B,CAC3B,EAAE,OAAF,CAAU,CAAV,EACA,CAED;;;;;;;;KASA,QAAQ,SAAR,CAAkB,OAAlB,CAA4B,SAAS,EAAT,CAAa,MAAb,CAAqB,CAChD,GAAI,GAAI,KAAK,MAAL,EAAR,CACA,GAAI,GAAI,EAAE,QAAV,CAEA,GAAI,GAAI,WAAW,SAAX,CAAsB,EAAtB,CAA0B,MAA1B,CAAkC,EAAE,QAApC,CAAR,CAEA,KAAK,QAAL,CAAc,KAAd,CAAoB,CAApB,CACC,QAAS,UAAT,CAAmB,CAAnB,CAAsB,CACrB,IAAI,UAAJ,CAAe,CAAf,EACA,KAAK,OAAL,CAAa,CAAb,EAAiB;AACjB,CAJF,CAKC,QAAS,SAAT,CAAkB,CAAlB,CAAqB,CACpB,IAAI,UAAJ,CAAe,CAAf,EACA,KAAK,MAAL,CAAY,CAAZ,EAAgB;AAChB,CARF,CASC,EAAE,MATH,EAWA,MAAO,EAAP,CACA,CAlBD,CAoBA,QAAS,UAAT,CAAmB,MAAnB,CAA2B,CAA3B,CAA8B,EAA9B,CAAkC,CACjC,GAAI,GAAI,MAAO,OAAP,GAAkB,WAAlB,CACL,GAAI,aAAJ,CAAiB,mBAAqB,EAArB,CAA0B,IAA3C,CADK,CAEL,MAFH,CAGA,EAAE,MAAF,CAAS,CAAT,EACA,CAED,MAAO,QAAP,CACA,CA1DD,CA4DA,CAvED,EAwEC,CAzEA,EAyEC,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAS,OAAT,CAAkB,CAAE,OAAO,OAAP,CAAiB,QAAQ,OAAR,CAAjB,CAAoC,CAzE/G,CAAD,CA2EC,CAhFQ,CAgFP,CAAC,kBAAkB,EAAnB,CAAsB,SAAS,EAA/B,CAhFO,CAz6CsqB,CAy/CzoB,GAAG,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CAC1E,8EACA,6BACA,wBAEC,UAAS,MAAT,CAAiB,CAAE,aACpB,OAAO,SAAS,OAAT,CAAkB,CAExB,GAAI,UAAW,QAAQ,QAAR,EAAkB,QAAjC,CACA,GAAI,QAAS,QAAQ,WAAR,CAAb,CAEA,MAAO,SAAS,mBAAT,CAA4B,OAA5B,CAAqC,CAE3C,GAAI,UAAW,IAAf,CACA,GAAI,SAAU,IAAd,CACA,GAAI,aAAJ,CAEA,GAAG,MAAO,QAAP,GAAmB,WAAtB,CAAmC,CAClC;AACA;AACA;AACA,aAAe,OAAf,CACA,SAAW,MAAO,cAAa,KAApB,GAA8B,WAA9B,CACR,SAAU,CAAV,CAAa,CAAE,aAAa,KAAb,CAAmB,CAAnB,EAAwB,CAD/B,CAER,SAAU,CAAV,CAAa,CAAE,aAAa,GAAb,CAAiB,CAAjB,EAAsB,CAFxC,CAIA,QAAU,MAAO,cAAa,IAApB,GAA6B,WAA7B,CACP,SAAU,CAAV,CAAa,CAAE,aAAa,IAAb,CAAkB,CAAlB,EAAuB,CAD/B,CAEP,SAAU,CAAV,CAAa,CAAE,aAAa,GAAb,CAAiB,CAAjB,EAAsB,CAFxC,CAGA,CAED,QAAQ,+BAAR,CAA0C,SAAS,SAAT,CAAoB,CAC7D,QAAQ,MAAR,CAAgB,SAAhB,EACA,CAFD,CAIA,QAAQ,sCAAR,CAAiD,SAAS,SAAT,CAAoB,CACpE,QAAQ,QAAR,CAAkB,SAAlB,EACA,CAFD,CAIA,QAAQ,gBAAR,CAA2B,SAAS,SAAT,CAAoB,CAC9C,QAAQ,OAAR,CAAiB,UAAU,KAA3B,EACA,CAFD,CAIA,GAAI,OAAQ,EAAZ,CACA,GAAI,UAAW,EAAf,CACA,GAAI,SAAU,IAAd,CAEA,QAAS,OAAT,CAAgB,CAAhB,CAAmB,CAClB,GAAG,CAAC,EAAE,OAAN,CAAe,CACd,SAAS,IAAT,CAAc,CAAd,EACA,SAAS,oCAAsC,EAAE,EAAxC,CAA6C,IAA7C,CAAoD,OAAO,WAAP,CAAmB,EAAE,KAArB,CAA7D,EACA,CACD,CAED,QAAS,SAAT,CAAkB,CAAlB,CAAqB,CACpB,GAAI,GAAI,SAAS,OAAT,CAAiB,CAAjB,CAAR,CACA,GAAG,GAAK,CAAR,CAAW,CACV,SAAS,MAAT,CAAgB,CAAhB,CAAmB,CAAnB,EACA,QAAQ,+BAAiC,EAAE,EAAnC,CAAwC,IAAxC,CAA+C,OAAO,YAAP,CAAoB,EAAE,KAAtB,CAAvD,EACA,CACD,CAED,QAAS,QAAT,CAAiB,CAAjB,CAAoB,CAApB,CAAuB,CACtB,MAAM,IAAN,CAAW,CAAX,CAAc,CAAd,EACA,GAAG,UAAY,IAAf,CAAqB,CACpB,QAAU,SAAS,KAAT,CAAgB,CAAhB,CAAV,CACA,CACD,CAED,QAAS,MAAT,EAAiB,CAChB,QAAU,IAAV,CACA,MAAM,MAAM,MAAN,CAAe,CAArB,CAAwB,CACvB,MAAM,KAAN,GAAc,MAAM,KAAN,EAAd,EACA,CACD,CAED,MAAO,QAAP,CACA,CAlED,CAoEA,QAAS,QAAT,CAAiB,CAAjB,CAAoB,CACnB,KAAM,EAAN,CACA,CAED,QAAS,KAAT,EAAgB,CAAE,CAElB,CA/ED,EAgFC,CAjFA,EAiFC,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAS,OAAT,CAAkB,CAAE,OAAO,OAAP,CAAiB,QAAQ,OAAR,CAAjB,CAAoC,CAjF/G,CAAD,CAmFC,CAxFwC,CAwFvC,CAAC,SAAS,EAAV,CAAa,YAAY,EAAzB,CAxFuC,CAz/CsoB,CAilD/oB,GAAG,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CACpE,8EACA,6BACA,wBAEC,UAAS,MAAT,CAAiB,CAAE,aACpB,OAAO,UAAW,CAEjB,MAAO,SAAS,QAAT,CAAiB,OAAjB,CAA0B,CAChC;;;;;;;;;;;;;;;KAgBA,QAAQ,SAAR,CAAkB,MAAlB,EAA4B,QAAQ,SAAR,CAAkB,QAAlB,CAA6B,SAAS,QAAT,CAAmB,CAC3E,GAAI,GAAI,KAAK,MAAL,EAAR,CACA,GAAI,OAAQ,EAAE,QAAd,CACA,MAAM,QAAN,CAAiB,QAAjB,CACA,KAAK,QAAL,CAAc,KAAd,CAAoB,KAApB,CAA2B,QAA3B,EACA,MAAO,EAAP,CACA,CAND,CAQA,MAAO,QAAP,CACA,CA1BD,CA4BA,CA9BD,EA+BC,CAhCA,EAgCC,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAS,OAAT,CAAkB,CAAE,OAAO,OAAP,CAAiB,SAAjB,CAA6B,CAhCxG,CAAD,CAmCC,CAxCkC,CAwCjC,EAxCiC,CAjlD4oB,CAynDzqB,GAAG,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CAC1C,8EACA,6BACA,wBAEA,2FACC,UAAS,MAAT,CAAiB,CAAE,aACpB,OAAO,SAAS,OAAT,CAAkB,CACxB,0BAEA;AACA;AACA;AACA;AAEA,GAAI,YAAJ,CACA,GAAI,oBAAqB,MAAO,WAAP,GAAsB,WAAtB,EAAqC,UAA9D,CAEA;AACA,GAAI,UAAW,SAAS,CAAT,CAAY,EAAZ,CAAgB,CAAE,MAAO,YAAW,CAAX,CAAc,EAAd,CAAP,CAA2B,CAA5D,CACA,GAAI,YAAa,SAAS,CAAT,CAAY,CAAE,MAAO,cAAa,CAAb,CAAP,CAAyB,CAAxD,CACA,GAAI,MAAO,SAAU,CAAV,CAAa,CAAE,MAAO,oBAAmB,CAAnB,CAAsB,CAAtB,CAAP,CAAkC,CAA5D,CAEA;AACA,GAAI,QAAJ,CAAc,CAAE;AACf,KAAO,SAAU,CAAV,CAAa,CAAE,MAAO,SAAQ,QAAR,CAAiB,CAAjB,CAAP,CAA6B,CAAnD,CAEA,CAHD,IAGO,IAAI,YAAc,qBAAlB,CAAyC,CAAE;AACjD,KAAO,qBAAqB,WAArB,CAAP,CAEA,CAHM,IAGA,IAAI,CAAC,kBAAL,CAAyB,CAAE;AACjC,GAAI,cAAe,OAAnB,CACA,GAAI,OAAQ,aAAa,OAAb,CAAZ,CACA,SAAW,SAAU,CAAV,CAAa,EAAb,CAAiB,CAAE,MAAO,OAAM,QAAN,CAAe,EAAf,CAAmB,CAAnB,CAAP,CAA+B,CAA7D,CACA,WAAa,MAAM,WAAnB,CACA,KAAO,MAAM,SAAN,EAAmB,MAAM,YAAhC,CACA,CAED,MAAO,CACN,SAAU,QADJ,CAEN,WAAY,UAFN,CAGN,KAAM,IAHA,CAAP,CAMA,QAAS,OAAT,EAAmB,CAClB,MAAO,OAAO,QAAP,GAAmB,WAAnB,EACN,OAAO,SAAP,CAAiB,QAAjB,CAA0B,IAA1B,CAA+B,OAA/B,IAA4C,kBAD7C,CAEA,CAED,QAAS,oBAAT,EAAgC,CAC/B,MAAQ,OAAO,iBAAP,GAA4B,UAA5B,EAA0C,gBAA3C,EACL,MAAO,uBAAP,GAAkC,UAAlC,EAAgD,sBADlD,CAEA,CAED,QAAS,qBAAT,CAA8B,gBAA9B,CAAgD,CAC/C,GAAI,UAAJ,CACA,GAAI,MAAO,SAAS,cAAT,CAAwB,EAAxB,CAAX,CACA,GAAI,GAAI,GAAI,iBAAJ,CAAqB,GAArB,CAAR,CACA,EAAE,OAAF,CAAU,IAAV,CAAgB,CAAE,cAAe,IAAjB,CAAhB,EAEA,QAAS,IAAT,EAAe,CACd,GAAI,GAAI,SAAR,CACA,UAAY,IAAK,EAAjB,CACA,IACA,CAED,GAAI,GAAI,CAAR,CACA,MAAO,UAAU,CAAV,CAAa,CACnB,UAAY,CAAZ,CACA,KAAK,IAAL,CAAa,GAAK,CAAlB,CACA,CAHD,CAIA,CACD,CAjED,EAkEC,CAnEA,EAmEC,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAS,OAAT,CAAkB,CAAE,OAAO,OAAP,CAAiB,QAAQ,OAAR,CAAjB,CAAoC,CAnE/G,CAAD,CAqEC,CA3EQ,CA2EP,EA3EO,CAznDsqB,CAosDzqB,GAAG,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CAC1C,8EACA,6BACA,wBAEC,UAAS,MAAT,CAAiB,CAAE,aACpB,OAAO,UAAW,CAEjB,MAAO,CACN,YAAa,WADP,CAEN,aAAc,YAFR,CAGN,aAAc,YAHR,CAAP,CAMA;;;;;;IAOA,QAAS,YAAT,CAAqB,CAArB,CAAwB,CACvB,GAAI,GAAI,MAAO,EAAP,GAAa,QAAb,EAAyB,IAAM,IAA/B,GAAwC,EAAE,KAAF,EAAW,EAAE,OAArD,EAAgE,EAAE,KAAF,EAAW,EAAE,OAA7E,CAAuF,aAAa,CAAb,CAA/F,CACA,MAAO,aAAa,MAAb,CAAqB,CAArB,CAAyB,EAAI,4BAApC,CACA,CAED;;;;;IAMA,QAAS,aAAT,CAAsB,CAAtB,CAAyB,CACxB,GAAI,GAAI,OAAO,CAAP,CAAR,CACA,GAAG,IAAM,iBAAN,EAA2B,MAAO,KAAP,GAAgB,WAA9C,CAA2D,CAC1D,EAAI,aAAa,CAAb,CAAgB,CAAhB,CAAJ,CACA,CACD,MAAO,EAAP,CACA,CAED;;;;;;IAOA,QAAS,aAAT,CAAsB,CAAtB,CAAyB,YAAzB,CAAuC,CACtC,GAAI,CACH,MAAO,MAAK,SAAL,CAAe,CAAf,CAAP,CACA,CAAC,MAAM,CAAN,CAAS,CACV,MAAO,aAAP,CACA,CACD,CAED,CAjDD,EAkDC,CAnDA,EAmDC,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAS,OAAT,CAAkB,CAAE,OAAO,OAAP,CAAiB,SAAjB,CAA6B,CAnDxG,CAAD,CAqDC,CA1DQ,CA0DP,EA1DO,CApsDsqB,CA8vDzqB,GAAG,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CAC1C,8EACA,6BACA,wBAEC,UAAS,MAAT,CAAiB,CAAE,aACpB,OAAO,UAAW,CAEjB,MAAO,SAAS,QAAT,CAAiB,OAAjB,CAA0B,OAA1B,CAAmC,GAAnC,CAAwC,GAAxC,CAA6C,CACnD,GAAG,MAAO,QAAP,GAAmB,WAAtB,CAAmC,CAClC,QAAU,cAAV,CACA,CAED,MAAO,QAAO,IAAP,CAAY,GAAZ,EAAiB,MAAjB,CAAwB,SAAS,GAAT,CAAc,GAAd,CAAmB,CACjD,GAAI,GAAI,IAAI,GAAJ,CAAR,CACA,MAAO,OAAO,EAAP,GAAa,UAAb,CAA0B,QAAQ,GAAR,CAAa,QAAQ,CAAR,CAAb,CAAyB,GAAzB,CAA1B,CAA0D,GAAjE,CACA,CAHM,CAGJ,MAAO,IAAP,GAAe,WAAf,CAA6B,WAAW,GAAX,CAA7B,CAA+C,GAH3C,CAAP,CAIA,CATD,CAWA,QAAS,eAAT,CAAwB,CAAxB,CAA2B,CAA3B,CAA8B,CAA9B,CAAiC,CAChC,EAAE,CAAF,EAAO,CAAP,CACA,MAAO,EAAP,CACA,CAED,QAAS,WAAT,CAAoB,GAApB,CAAyB,CACxB,MAAO,OAAO,IAAP,GAAe,UAAf,CAA4B,IAAI,IAAJ,EAA5B,CAAyC,OAAO,MAAP,CAAc,GAAd,CAAhD,CACA,CACD,CArBD,EAsBC,CAvBA,EAuBC,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAS,OAAT,CAAkB,CAAE,OAAO,OAAP,CAAiB,SAAjB,CAA6B,CAvBxG,CAAD,CAyBC,CA9BQ,CA8BP,EA9BO,CA9vDsqB,CA4xDzqB,GAAG,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CAC1C,8EACA,6BACA,wBAEC,UAAS,MAAT,CAAiB,CAAE,aACpB,OAAO,UAAW,CAEjB,MAAO,SAAS,YAAT,CAAqB,WAArB,CAAkC,CAExC,GAAI,OAAQ,YAAY,SAAxB,CACA,GAAI,eAAgB,mBAApB,CAEA,GAAI,cAAe,OAAO,MAAP,EAClB,SAAS,KAAT,CAAgB,CACf,QAAS,MAAT,EAAiB,CAAE,CACnB,MAAM,SAAN,CAAkB,KAAlB,CACA,MAAO,IAAI,MAAJ,EAAP,CACA,CALF,CAOA;;;;;KAMA,QAAS,QAAT,CAAiB,QAAjB,CAA2B,OAA3B,CAAoC,CACnC,KAAK,QAAL,CAAgB,WAAa,OAAb,CAAuB,OAAvB,CAAiC,KAAK,QAAL,CAAjD,CACA,CAED;;;;KAKA,QAAS,KAAT,CAAc,QAAd,CAAwB,CACvB,GAAI,SAAU,GAAI,QAAJ,EAAd,CAEA,GAAI,CACH,SAAS,cAAT,CAAyB,aAAzB,CAAwC,aAAxC,EACA,CAAC,MAAO,CAAP,CAAU,CACX,cAAc,CAAd,EACA,CAED,MAAO,QAAP,CAEA;;;;MAKA,QAAS,eAAT,CAAyB,CAAzB,CAA4B,CAC3B,QAAQ,OAAR,CAAgB,CAAhB,EACA,CACD;;;;MAKA,QAAS,cAAT,CAAwB,MAAxB,CAAgC,CAC/B,QAAQ,MAAR,CAAe,MAAf,EACA,CAED;;;;MAKA,QAAS,cAAT,CAAwB,CAAxB,CAA2B,CAC1B,QAAQ,MAAR,CAAe,CAAf,EACA,CACD,CAED;AAEA,QAAQ,OAAR,CAAkB,OAAlB,CACA,QAAQ,MAAR,CAAiB,MAAjB,CACA,QAAQ,KAAR,CAAgB,KAAhB,CAEA,QAAQ,MAAR,CAAiB,KAAjB,CACA,QAAQ,QAAR,CAAmB,UAAnB,CAEA;;;;;KAMA,QAAS,QAAT,CAAiB,CAAjB,CAAoB,CACnB,MAAO,WAAU,CAAV,EAAe,CAAf,CACJ,GAAI,QAAJ,CAAY,OAAZ,CAAqB,GAAI,MAAJ,CAAU,WAAW,CAAX,CAAV,CAArB,CADH,CAEA,CAED;;;;KAKA,QAAS,OAAT,CAAgB,CAAhB,CAAmB,CAClB,MAAO,IAAI,QAAJ,CAAY,OAAZ,CAAqB,GAAI,MAAJ,CAAU,GAAI,SAAJ,CAAa,CAAb,CAAV,CAArB,CAAP,CACA,CAED;;;KAIA,QAAS,MAAT,EAAiB,CAChB,MAAO,sBAAP,CAA8B;AAC9B,CAED;;;;KAKA,QAAS,MAAT,EAAiB,CAChB,MAAO,IAAI,QAAJ,CAAY,OAAZ,CAAqB,GAAI,QAAJ,EAArB,CAAP,CACA,CAED;AAEA;;;;;;;;;KAUA,QAAQ,SAAR,CAAkB,IAAlB,CAAyB,SAAS,WAAT,CAAsB,UAAtB,CAAkC,UAAlC,CAA8C,CACtE,GAAI,QAAS,KAAK,QAAlB,CACA,GAAI,OAAQ,OAAO,IAAP,GAAc,KAAd,EAAZ,CAEA,GAAK,MAAO,YAAP,GAAuB,UAAvB,EAAqC,MAAQ,CAA9C,EACF,MAAO,WAAP,GAAsB,UAAtB,EAAoC,MAAQ,CAD9C,CACkD,CACjD;AACA,MAAO,IAAI,MAAK,WAAT,CAAqB,OAArB,CAA8B,MAA9B,CAAP,CACA,CAED,GAAI,GAAI,KAAK,MAAL,EAAR,CACA,GAAI,OAAQ,EAAE,QAAd,CAEA,OAAO,KAAP,CAAa,KAAb,CAAoB,OAAO,QAA3B,CAAqC,WAArC,CAAkD,UAAlD,CAA8D,UAA9D,EAEA,MAAO,EAAP,CACA,CAhBD,CAkBA;;;;;KAMA,QAAQ,SAAR,CAAkB,OAAlB,EAA6B,SAAS,UAAT,CAAqB,CACjD,MAAO,MAAK,IAAL,CAAU,IAAK,EAAf,CAAkB,UAAlB,CAAP,CACA,CAFD,CAIA;;;;KAKA,QAAQ,SAAR,CAAkB,MAAlB,CAA2B,UAAW,CACrC,MAAO,WAAU,KAAK,QAAf,CAAyB,KAAK,WAA9B,CAAP,CACA,CAFD,CAIA,QAAS,UAAT,CAAmB,MAAnB,CAA2B,OAA3B,CAAoC,CACnC,GAAI,OAAQ,GAAI,QAAJ,CAAY,OAAO,QAAnB,CAA6B,OAAO,IAAP,GAAc,OAA3C,CAAZ,CACA,MAAO,IAAI,QAAJ,CAAY,OAAZ,CAAqB,KAArB,CAAP,CACA,CAED;AAEA,QAAQ,GAAR,CAAc,GAAd,CACA,QAAQ,IAAR,CAAe,IAAf,CACA,QAAQ,SAAR,CAAoB,QAApB,CAEA;;;;;;KAOA,QAAS,IAAT,CAAa,QAAb,CAAuB,CACtB,MAAO,cAAa,GAAb,CAAkB,IAAlB,CAAwB,QAAxB,CAAP,CACA,CAED;;;;;;KAOA,QAAS,SAAT,CAAkB,CAAlB,CAAqB,QAArB,CAA+B,CAC9B,MAAO,cAAa,SAAb,CAAwB,CAAxB,CAA2B,QAA3B,CAAP,CACA,CAED,QAAS,aAAT,CAAsB,MAAtB,CAA8B,CAA9B,CAAiC,QAAjC,CAA2C,CAC1C,GAAI,SAAU,MAAO,EAAP,GAAa,UAAb,CAA0B,KAA1B,CAAkC,QAAhD,CAEA,GAAI,UAAW,GAAI,QAAJ,EAAf,CACA,GAAI,SAAU,SAAS,MAAT,GAAoB,CAAlC,CACA,GAAI,SAAU,GAAI,MAAJ,CAAU,OAAV,CAAd,CAEA,IAAK,GAAI,GAAI,CAAR,CAAW,CAAhB,CAAmB,EAAI,SAAS,MAAb,EAAuB,CAAC,SAAS,QAApD,CAA8D,EAAE,CAAhE,CAAmE,CAClE,EAAI,SAAS,CAAT,CAAJ,CAEA,GAAI,IAAM,IAAK,EAAX,EAAgB,EAAE,IAAK,SAAP,CAApB,CAAsC,CACrC,EAAE,OAAF,CACA,SACA,CAED,WAAW,QAAX,CAAqB,OAArB,CAA8B,CAA9B,CAAiC,CAAjC,CAAoC,QAApC,EACA,CAED,GAAG,UAAY,CAAf,CAAkB,CACjB,SAAS,MAAT,CAAgB,GAAI,UAAJ,CAAc,OAAd,CAAhB,EACA,CAED,MAAO,IAAI,QAAJ,CAAY,OAAZ,CAAqB,QAArB,CAAP,CAEA,QAAS,MAAT,CAAe,CAAf,CAAkB,CAAlB,CAAqB,QAArB,CAA+B,CAC9B,GAAG,CAAC,SAAS,QAAb,CAAuB,CACtB,WAAW,QAAX,CAAqB,QAArB,CAA+B,CAA/B,CAAkC,OAAO,CAAP,CAAU,CAAV,CAAa,CAAb,CAAlC,CAAmD,QAAnD,EACA,CACD,CAED,QAAS,SAAT,CAAkB,CAAlB,CAAqB,CAArB,CAAwB,QAAxB,CAAkC,CACjC,QAAQ,CAAR,EAAa,CAAb,CACA,GAAG,EAAE,OAAF,GAAc,CAAjB,CAAoB,CACnB,SAAS,MAAT,CAAgB,GAAI,UAAJ,CAAc,OAAd,CAAhB,EACA,CACD,CACD,CAED,QAAS,WAAT,CAAoB,QAApB,CAA8B,OAA9B,CAAuC,CAAvC,CAA0C,CAA1C,CAA6C,QAA7C,CAAuD,CACtD,GAAI,cAAc,CAAd,CAAJ,CAAsB,CACrB,GAAI,GAAI,wBAAwB,CAAxB,CAAR,CACA,GAAI,GAAI,EAAE,KAAF,EAAR,CAEA,GAAI,IAAM,CAAV,CAAa,CACZ,EAAE,IAAF,CAAO,OAAP,CAAgB,CAAhB,CAAmB,IAAK,EAAxB,CAA2B,QAA3B,EACA,CAFD,IAEO,IAAI,EAAI,CAAR,CAAW,CACjB,QAAQ,CAAR,CAAW,EAAE,KAAb,CAAoB,QAApB,EACA,CAFM,IAEA,CACN,SAAS,MAAT,CAAgB,CAAhB,EACA,eAAe,QAAf,CAAyB,EAAE,CAA3B,CAA8B,CAA9B,EACA,CACD,CAZD,IAYO,CACN,QAAQ,CAAR,CAAW,CAAX,CAAc,QAAd,EACA,CACD,CAED,QAAQ,eAAR,CAA0B,cAA1B,CACA,QAAS,eAAT,CAAwB,QAAxB,CAAkC,KAAlC,CAAyC,OAAzC,CAAkD,CACjD,IAAI,GAAI,GAAE,KAAV,CAAiB,EAAE,SAAS,MAA5B,CAAoC,EAAE,CAAtC,CAAyC,CACxC,cAAc,WAAW,SAAS,CAAT,CAAX,CAAd,CAAuC,OAAvC,EACA,CACD,CAED,QAAS,cAAT,CAAuB,CAAvB,CAA0B,OAA1B,CAAmC,CAClC,GAAG,IAAM,OAAT,CAAkB,CACjB,OACA,CAED,GAAI,GAAI,EAAE,KAAF,EAAR,CACA,GAAG,IAAM,CAAT,CAAY,CACX,EAAE,KAAF,CAAQ,CAAR,CAAW,IAAK,EAAhB,CAAmB,EAAE,SAArB,EACA,CAFD,IAEO,IAAG,EAAI,CAAP,CAAU,CAChB,EAAE,SAAF,GACA,CACD,CAED;;;;;;;;;;;;;KAcA,QAAS,KAAT,CAAc,QAAd,CAAwB,CACvB,GAAG,MAAO,SAAP,GAAoB,QAApB,EAAgC,WAAa,IAAhD,CAAsD,CACrD,MAAO,QAAO,GAAI,UAAJ,CAAc,+BAAd,CAAP,CAAP,CACA,CAED;AACA;AACA,MAAO,UAAS,MAAT,GAAoB,CAApB,CAAwB,OAAxB,CACH,SAAS,MAAT,GAAoB,CAApB,CAAwB,QAAQ,SAAS,CAAT,CAAR,CAAxB,CACA,QAAQ,QAAR,CAFJ,CAGA,CAED,QAAS,QAAT,CAAiB,QAAjB,CAA2B,CAC1B,GAAI,UAAW,GAAI,QAAJ,EAAf,CACA,GAAI,EAAJ,CAAO,CAAP,CAAU,CAAV,CACA,IAAI,EAAE,CAAN,CAAS,EAAE,SAAS,MAApB,CAA4B,EAAE,CAA9B,CAAiC,CAChC,EAAI,SAAS,CAAT,CAAJ,CACA,GAAI,IAAM,IAAK,EAAX,EAAgB,EAAE,IAAK,SAAP,CAApB,CAAsC,CACrC,SACA,CAED,EAAI,WAAW,CAAX,CAAJ,CACA,GAAG,EAAE,KAAF,KAAc,CAAjB,CAAoB,CACnB,SAAS,MAAT,CAAgB,CAAhB,EACA,eAAe,QAAf,CAAyB,EAAE,CAA3B,CAA8B,CAA9B,EACA,MACA,CAJD,IAIO,CACN,EAAE,KAAF,CAAQ,QAAR,CAAkB,SAAS,OAA3B,CAAoC,SAAS,MAA7C,EACA,CACD,CACD,MAAO,IAAI,QAAJ,CAAY,OAAZ,CAAqB,QAArB,CAAP,CACA,CAED;AACA;AAEA;;;;KAKA,QAAS,WAAT,CAAoB,CAApB,CAAuB,CACtB,GAAG,UAAU,CAAV,CAAH,CAAiB,CAChB,MAAO,GAAE,QAAF,CAAW,IAAX,EAAP,CACA,CACD,MAAO,eAAc,CAAd,EAAmB,oBAAoB,CAApB,CAAnB,CAA4C,GAAI,UAAJ,CAAc,CAAd,CAAnD,CACA,CAED;;;;;KAMA,QAAS,wBAAT,CAAiC,CAAjC,CAAoC,CACnC,MAAO,WAAU,CAAV,EAAe,EAAE,QAAF,CAAW,IAAX,EAAf,CAAmC,oBAAoB,CAApB,CAA1C,CACA,CAED;;;;KAKA,QAAS,oBAAT,CAA6B,CAA7B,CAAgC,CAC/B,GAAI,CACH,GAAI,eAAgB,EAAE,IAAtB,CACA,MAAO,OAAO,cAAP,GAAyB,UAAzB,CACJ,GAAI,SAAJ,CAAa,aAAb,CAA4B,CAA5B,CADI,CAEJ,GAAI,UAAJ,CAAc,CAAd,CAFH,CAGA,CAAC,MAAM,CAAN,CAAS,CACV,MAAO,IAAI,SAAJ,CAAa,CAAb,CAAP,CACA,CACD,CAED;;;KAIA,QAAS,QAAT,EAAmB,CAAE,CAErB,QAAQ,SAAR,CAAkB,IAAlB,CACG,QAAQ,SAAR,CAAkB,MAAlB,CACA,QAAQ,SAAR,CAAkB,MAAO;AAAzB,CACA,QAAQ,SAAR,CAAkB,IAAlB,CACA,QAAQ,SAAR,CAAkB,SAAlB,CACA,QAAQ,SAAR,CAAkB,OAAlB,CACA,IANH,CAQA,QAAQ,SAAR,CAAkB,MAAlB,CAA2B,CAA3B,CAEA,QAAQ,SAAR,CAAkB,KAAlB,CAA0B,UAAW,CACpC,MAAO,MAAK,MAAZ,CACA,CAFD,CAIA;;;;KAKA,QAAQ,SAAR,CAAkB,IAAlB,CAAyB,UAAW,CACnC,GAAI,GAAI,IAAR,CACA,MAAM,EAAE,OAAF,GAAc,IAAK,EAAzB,CAA4B,CAC3B,EAAI,EAAE,OAAN,CACA,CACD,MAAO,EAAP,CACA,CAND,CAQA,QAAQ,SAAR,CAAkB,KAAlB,CAA0B,SAAS,EAAT,CAAa,QAAb,CAAuB,SAAvB,CAAkC,QAAlC,CAA4C,QAA5C,CAAsD,CAC/E,KAAK,IAAL,CAAU,CACT,SAAU,EADD,CAET,SAAU,QAFD,CAGT,UAAW,SAHF,CAIT,SAAU,QAJD,CAKT,SAAU,QALD,CAAV,EAOA,CARD,CAUA,QAAQ,SAAR,CAAkB,KAAlB,CAA0B,SAAS,QAAT,CAAmB,SAAnB,CAA8B,QAA9B,CAAwC,QAAxC,CAAkD,CAC3E,KAAK,KAAL,CAAW,cAAX,CAA2B,QAA3B,CAAqC,SAArC,CAAgD,QAAhD,CAA0D,QAA1D,EACA,CAFD,CAIA,QAAQ,SAAR,CAAkB,IAAlB,CAAyB,SAAS,CAAT,CAAY,CAAZ,CAAe,CAAf,CAAkB,EAAlB,CAAsB,CAC9C,KAAK,IAAL,CAAU,GAAI,KAAJ,CAAS,CAAT,CAAY,CAAZ,CAAe,CAAf,CAAkB,EAAlB,CAAV,EACA,CAFD,CAIA;;;KAIA,QAAS,eAAT,EAA0B,CAAE,CAE5B,QAAQ,OAAR,CAAiB,cAAjB,EAEA,eAAe,SAAf,CAAyB,MAAzB,CAAkC,SAAS,CAAT,CAAY,CAC7C,EAAE,IAAF,GACA,CAFD,CAIA,GAAI,gBAAiB,GAAI,eAAJ,EAArB,CAEA;;;KAIA,QAAS,QAAT,CAAiB,QAAjB,CAA2B,gBAA3B,CAA6C,CAC5C,QAAQ,aAAR,CAAsB,IAAtB,CAA4B,gBAA5B,EAEA,KAAK,SAAL,CAAiB,IAAK,EAAtB,CACA,KAAK,QAAL,CAAgB,QAAhB,CACA,KAAK,OAAL,CAAe,IAAK,EAApB,CACA,KAAK,QAAL,CAAgB,KAAhB,CACA,CAED,QAAQ,OAAR,CAAiB,OAAjB,EAEA,QAAQ,SAAR,CAAkB,MAAlB,CAA2B,CAA3B,CAEA,QAAQ,SAAR,CAAkB,OAAlB,CAA4B,SAAS,CAAT,CAAY,CACvC,KAAK,MAAL,CAAY,WAAW,CAAX,CAAZ,EACA,CAFD,CAIA,QAAQ,SAAR,CAAkB,MAAlB,CAA2B,SAAS,CAAT,CAAY,CACtC,GAAG,KAAK,QAAR,CAAkB,CACjB,OACA,CAED,KAAK,MAAL,CAAY,GAAI,SAAJ,CAAa,CAAb,CAAZ,EACA,CAND,CAQA,QAAQ,SAAR,CAAkB,IAAlB,CAAyB,UAAW,CACnC,GAAI,CAAC,KAAK,QAAV,CAAoB,CACnB,MAAO,KAAP,CACA,CAED,GAAI,GAAI,IAAR,CAEA,MAAO,EAAE,OAAF,GAAc,IAAK,EAA1B,CAA6B,CAC5B,EAAI,EAAE,OAAN,CACA,GAAI,IAAM,IAAV,CAAgB,CACf,MAAO,MAAK,OAAL,CAAe,OAAtB,CACA,CACD,CAED,MAAO,EAAP,CACA,CAfD,CAiBA,QAAQ,SAAR,CAAkB,GAAlB,CAAwB,UAAW,CAClC,GAAI,GAAI,KAAK,SAAb,CACA,GAAI,SAAU,KAAK,OAAnB,CACA,KAAK,OAAL,CAAe,KAAK,OAAL,CAAa,IAAb,EAAf,CACA,KAAK,SAAL,CAAiB,IAAK,EAAtB,CAEA,IAAK,GAAI,GAAI,CAAb,CAAgB,EAAI,EAAE,MAAtB,CAA8B,EAAE,CAAhC,CAAmC,CAClC,QAAQ,IAAR,CAAa,EAAE,CAAF,CAAb,EACA,CACD,CATD,CAWA,QAAQ,SAAR,CAAkB,MAAlB,CAA2B,SAAS,OAAT,CAAkB,CAC5C,GAAG,KAAK,QAAR,CAAkB,CACjB,OACA,CAED,KAAK,QAAL,CAAgB,IAAhB,CACA,KAAK,OAAL,CAAe,OAAf,CACA,GAAG,KAAK,SAAL,GAAmB,IAAK,EAA3B,CAA8B,CAC7B,MAAM,OAAN,CAAc,IAAd,EACA,CAED,GAAG,KAAK,OAAL,GAAiB,IAAK,EAAzB,CAA4B,CAC3B,QAAQ,OAAR,CAAgB,KAAK,OAArB,EACA,CACD,CAdD,CAgBA,QAAQ,SAAR,CAAkB,IAAlB,CAAyB,SAAS,YAAT,CAAuB,CAC/C,GAAG,KAAK,QAAR,CAAkB,CACjB,MAAM,OAAN,CAAc,GAAI,iBAAJ,CAAqB,YAArB,CAAmC,KAAK,OAAxC,CAAd,EACA,CAFD,IAEO,CACN,GAAG,KAAK,SAAL,GAAmB,IAAK,EAA3B,CAA8B,CAC7B,KAAK,SAAL,CAAiB,CAAC,YAAD,CAAjB,CACA,CAFD,IAEO,CACN,KAAK,SAAL,CAAe,IAAf,CAAoB,YAApB,EACA,CACD,CACD,CAVD,CAYA;;KAGA,QAAQ,SAAR,CAAkB,MAAlB,CAA2B,SAAS,CAAT,CAAY,CACtC,GAAG,CAAC,KAAK,QAAT,CAAmB,CAClB,MAAM,OAAN,CAAc,GAAI,aAAJ,CAAiB,CAAjB,CAAoB,IAApB,CAAd,EACA,CACD,CAJD,CAMA,QAAQ,SAAR,CAAkB,IAAlB,CAAyB,SAAS,OAAT,CAAkB,CAC1C,GAAI,GAAI,MAAO,QAAP,GAAmB,WAAnB,CAAiC,KAAK,OAAtC,CAAgD,OAAxD,CACA,KAAK,QAAL,EAAiB,KAAK,OAAL,CAAa,IAAb,GAAoB,IAApB,CAAyB,CAAzB,CAAjB,CACA,CAHD,CAKA,QAAQ,SAAR,CAAkB,OAAlB,CAA4B,SAAS,OAAT,CAAkB,CAC7C,KAAK,QAAL,EAAiB,KAAK,OAAL,CAAa,IAAb,GAAoB,OAApB,CAA4B,OAA5B,CAAjB,CACA,CAFD,CAIA,QAAQ,SAAR,CAAkB,SAAlB,CAA8B,UAAW,CACxC,KAAK,QAAL,EAAiB,KAAK,OAAL,CAAa,IAAb,GAAoB,SAApB,EAAjB,CACA,CAFD,CAIA;;;;KAKA,QAAS,MAAT,CAAe,OAAf,CAAwB,CACvB,KAAK,OAAL,CAAe,OAAf,CACA,CAED,QAAQ,OAAR,CAAiB,KAAjB,EAEA,MAAM,SAAN,CAAgB,IAAhB,CAAuB,SAAS,YAAT,CAAuB,CAC7C,MAAM,OAAN,CAAc,GAAI,iBAAJ,CAAqB,YAArB,CAAmC,IAAnC,CAAd,EACA,CAFD,CAIA,MAAM,SAAN,CAAgB,OAAhB,CAA0B,SAAS,OAAT,CAAkB,CAC3C,KAAK,IAAL,GAAY,OAAZ,CAAoB,OAApB,EACA,CAFD,CAIA,MAAM,SAAN,CAAgB,SAAhB,CAA4B,UAAW,CACtC,KAAK,IAAL,GAAY,SAAZ,GACA,CAFD,CAIA;;;;;KAMA,QAAS,SAAT,CAAkB,IAAlB,CAAwB,QAAxB,CAAkC,CACjC,QAAQ,IAAR,CAAa,IAAb,EACA,MAAM,OAAN,CAAc,GAAI,eAAJ,CAAmB,IAAnB,CAAyB,QAAzB,CAAmC,IAAnC,CAAd,EACA,CAED,QAAQ,OAAR,CAAiB,QAAjB,EAEA;;;;KAKA,QAAS,UAAT,CAAmB,CAAnB,CAAsB,CACrB,QAAQ,aAAR,CAAsB,IAAtB,EACA,KAAK,KAAL,CAAa,CAAb,CACA,CAED,QAAQ,OAAR,CAAiB,SAAjB,EAEA,UAAU,SAAV,CAAoB,MAApB,CAA6B,CAA7B,CAEA,UAAU,SAAV,CAAoB,IAApB,CAA2B,SAAS,CAAT,CAAY,CAAZ,CAAe,CAAf,CAAkB,EAAlB,CAAsB,CAChD,iBAAiB,CAAjB,CAAoB,CAApB,CAAuB,IAAvB,CAA6B,CAA7B,CAAgC,EAAhC,EACA,CAFD,CAIA,UAAU,SAAV,CAAoB,IAApB,CAA2B,SAAS,IAAT,CAAe,CACzC,iBAAiB,KAAK,SAAtB,CAAiC,IAAjC,CAAuC,KAAK,QAA5C,CAAsD,KAAK,QAA3D,EACA,CAFD,CAIA,GAAI,SAAU,CAAd,CAEA;;;;KAKA,QAAS,SAAT,CAAkB,CAAlB,CAAqB,CACpB,QAAQ,aAAR,CAAsB,IAAtB,EAEA,KAAK,EAAL,CAAU,EAAE,OAAZ,CACA,KAAK,KAAL,CAAa,CAAb,CACA,KAAK,OAAL,CAAe,KAAf,CACA,KAAK,QAAL,CAAgB,KAAhB,CAEA,KAAK,OAAL,GACA,CAED,QAAQ,OAAR,CAAiB,QAAjB,EAEA,SAAS,SAAT,CAAmB,MAAnB,CAA4B,CAAC,CAA7B,CAEA,SAAS,SAAT,CAAmB,IAAnB,CAA0B,SAAS,CAAT,CAAY,CAAZ,CAAe,CAAf,CAAkB,EAAlB,CAAsB,CAC/C,GAAG,MAAH,CAAU,IAAV,EACA,CAFD,CAIA,SAAS,SAAT,CAAmB,IAAnB,CAA0B,SAAS,IAAT,CAAe,CACxC,GAAG,MAAO,MAAK,QAAZ,GAAyB,UAA5B,CAAwC,CACvC,KAAK,SAAL,GACA,CACD,iBAAiB,KAAK,QAAtB,CAAgC,IAAhC,CAAsC,KAAK,QAA3C,CAAqD,KAAK,QAA1D,EACA,CALD,CAOA,SAAS,SAAT,CAAmB,OAAnB,CAA6B,SAAS,OAAT,CAAkB,CAC9C,MAAM,UAAN,CAAiB,GAAI,WAAJ,CAAe,IAAf,CAAqB,OAArB,CAAjB,EACA,CAFD,CAIA,SAAS,SAAT,CAAmB,SAAnB,CAA+B,UAAW,CACzC,GAAG,KAAK,OAAR,CAAiB,CAChB,OACA,CACD,KAAK,OAAL,CAAe,IAAf,CACA,MAAM,UAAN,CAAiB,GAAI,aAAJ,CAAiB,IAAjB,CAAjB,EACA,CAND,CAQA,SAAS,SAAT,CAAmB,IAAnB,CAA0B,SAAS,OAAT,CAAkB,CAC3C,KAAK,QAAL,CAAgB,IAAhB,CACA,cAAc,oBAAd,CAAoC,IAApC,EACA,QAAQ,gBAAR,CAAyB,IAAzB,CAA+B,UAAY,IAAK,EAAjB,CAAqB,KAAK,OAA1B,CAAoC,OAAnE,EACA,CAJD,CAMA,QAAS,WAAT,CAAoB,SAApB,CAA+B,OAA/B,CAAwC,CACvC,KAAK,SAAL,CAAiB,SAAjB,CACA,KAAK,OAAL,CAAe,OAAf,CACA,CAED,WAAW,SAAX,CAAqB,GAArB,CAA2B,UAAW,CACrC,GAAG,CAAC,KAAK,SAAL,CAAe,OAAhB,EAA2B,CAAC,KAAK,SAAL,CAAe,QAA9C,CAAwD,CACvD,KAAK,SAAL,CAAe,QAAf,CAA0B,IAA1B,CACA,cAAc,oBAAd,CAAoC,KAAK,SAAzC,GACC,QAAQ,+BAAR,CAAwC,KAAK,SAA7C,CAAwD,KAAK,OAA7D,CADD,CAEA,CACD,CAND,CAQA,QAAS,aAAT,CAAsB,SAAtB,CAAiC,CAChC,KAAK,SAAL,CAAiB,SAAjB,CACA,CAED,aAAa,SAAb,CAAuB,GAAvB,CAA6B,UAAW,CACvC,GAAG,KAAK,SAAL,CAAe,QAAlB,CAA4B,CAC3B,cAAc,kBAAd,CAAkC,KAAK,SAAvC,GACC,QAAQ,sCAAR,CAA+C,KAAK,SAApD,CADD,CAEA,CACD,CALD,CAOA;AACA;AAEA,QAAQ,aAAR,CACG,QAAQ,YAAR,CACA,QAAQ,WAAR,CACA,QAAQ,+BAAR,CACA,QAAQ,sCAAR,CACA,QAAQ,gBAAR,CACA,IANH,CAQA;AAEA,GAAI,uBAAwB,GAAI,QAAJ,EAA5B,CACA,GAAI,uBAAwB,GAAI,QAAJ,CAAY,OAAZ,CAAqB,qBAArB,CAA5B,CAEA,QAAS,MAAT,EAAiB,CAChB,MAAO,IAAI,SAAJ,CAAa,GAAI,UAAJ,CAAc,eAAd,CAAb,CAAP,CACA,CAED;AAEA;;;KAIA,QAAS,iBAAT,CAA0B,YAA1B,CAAwC,OAAxC,CAAiD,CAChD,KAAK,YAAL,CAAoB,YAApB,CACA,KAAK,OAAL,CAAe,OAAf,CACA,CAED,iBAAiB,SAAjB,CAA2B,GAA3B,CAAiC,UAAW,CAC3C,KAAK,OAAL,CAAa,IAAb,GAAoB,IAApB,CAAyB,KAAK,YAA9B,EACA,CAFD,CAIA;;;KAIA,QAAS,aAAT,CAAsB,KAAtB,CAA6B,OAA7B,CAAsC,CACrC,KAAK,OAAL,CAAe,OAAf,CACA,KAAK,KAAL,CAAa,KAAb,CACA,CAED,aAAa,SAAb,CAAuB,GAAvB,CAA6B,UAAW,CACvC,GAAI,GAAI,KAAK,OAAL,CAAa,SAArB,CACA,GAAG,IAAM,IAAK,EAAd,CAAiB,CAChB,OACA,CAED,IAAK,GAAI,EAAJ,CAAO,EAAI,CAAhB,CAAmB,EAAI,EAAE,MAAzB,CAAiC,EAAE,CAAnC,CAAsC,CACrC,EAAI,EAAE,CAAF,CAAJ,CACA,UAAU,EAAE,QAAZ,CAAsB,KAAK,KAA3B,CAAkC,KAAK,OAAvC,CAAgD,EAAE,QAAlD,CAA4D,EAAE,QAA9D,EACA,CACD,CAVD,CAYA;;;;;;KAOA,QAAS,eAAT,CAAwB,IAAxB,CAA8B,QAA9B,CAAwC,QAAxC,CAAkD,CACjD,KAAK,KAAL,CAAa,IAAb,CACA,KAAK,QAAL,CAAgB,QAAhB,CACA,KAAK,QAAL,CAAgB,QAAhB,CACA,CAED,eAAe,SAAf,CAAyB,GAAzB,CAA+B,UAAW,CACzC,GAAI,GAAI,KAAK,QAAb,CACA,cAAc,KAAK,KAAnB,CAA0B,KAAK,QAA/B,CAAyC,QAAzC,CAAmD,OAAnD,CAA4D,OAA5D,EAEA,QAAS,SAAT,CAAkB,CAAlB,CAAqB,CAAE,EAAE,OAAF,CAAU,CAAV,EAAe,CACtC,QAAS,QAAT,CAAiB,CAAjB,CAAqB,CAAE,EAAE,MAAF,CAAS,CAAT,EAAc,CACrC,QAAS,QAAT,CAAiB,CAAjB,CAAqB,CAAE,EAAE,MAAF,CAAS,CAAT,EAAc,CACrC,CAPD,CASA,QAAS,cAAT,CAAuB,IAAvB,CAA6B,QAA7B,CAAuC,OAAvC,CAAgD,MAAhD,CAAwD,MAAxD,CAAgE,CAC/D,GAAI,CACH,KAAK,IAAL,CAAU,QAAV,CAAoB,OAApB,CAA6B,MAA7B,CAAqC,MAArC,EACA,CAAC,MAAO,CAAP,CAAU,CACX,OAAO,CAAP,EACA,CACD,CAED;;;KAIA,QAAS,KAAT,CAAc,CAAd,CAAiB,CAAjB,CAAoB,CAApB,CAAuB,EAAvB,CAA2B,CAC1B,KAAK,CAAL,CAAS,CAAT,CAAY,KAAK,CAAL,CAAS,CAAT,CAAY,KAAK,CAAL,CAAS,CAAT,CAAY,KAAK,EAAL,CAAU,EAAV,CACpC,KAAK,QAAL,CAAgB,cAAhB,CACA,KAAK,QAAL,CAAgB,IAAhB,CACA,CAED,KAAK,SAAL,CAAe,SAAf,CAA2B,SAAS,CAAT,CAAY,CACtC,KAAK,CAAL,CAAO,IAAP,CAAY,KAAK,CAAjB,CAAoB,KAAK,CAAzB,CAA4B,CAA5B,CAA+B,KAAK,EAApC,EACA,CAFD,CAIA,KAAK,SAAL,CAAe,QAAf,CAA0B,SAAS,CAAT,CAAY,CACrC,KAAK,EAAL,CAAQ,MAAR,CAAe,CAAf,EACA,CAFD,CAIA,KAAK,SAAL,CAAe,QAAf,CAA0B,SAAS,CAAT,CAAY,CACrC,KAAK,EAAL,CAAQ,MAAR,CAAe,CAAf,EACA,CAFD,CAIA;AAEA;;;KAIA,QAAS,UAAT,CAAmB,CAAnB,CAAsB,CACrB,MAAO,aAAa,QAApB,CACA,CAED;;;;;KAMA,QAAS,cAAT,CAAuB,CAAvB,CAA0B,CACzB,MAAO,CAAC,MAAO,EAAP,GAAa,QAAb,EAAyB,MAAO,EAAP,GAAa,UAAvC,GAAsD,IAAM,IAAnE,CACA,CAED,QAAS,iBAAT,CAA0B,CAA1B,CAA6B,CAA7B,CAAgC,QAAhC,CAA0C,IAA1C,CAAgD,CAC/C,GAAG,MAAO,EAAP,GAAa,UAAhB,CAA4B,CAC3B,MAAO,MAAK,MAAL,CAAY,CAAZ,CAAP,CACA,CAED,QAAQ,YAAR,CAAqB,CAArB,EACA,eAAe,CAAf,CAAkB,EAAE,KAApB,CAA2B,QAA3B,CAAqC,IAArC,EACA,QAAQ,WAAR,GACA,CAED,QAAS,iBAAT,CAA0B,CAA1B,CAA6B,CAA7B,CAAgC,CAAhC,CAAmC,QAAnC,CAA6C,IAA7C,CAAmD,CAClD,GAAG,MAAO,EAAP,GAAa,UAAhB,CAA4B,CAC3B,MAAO,MAAK,MAAL,CAAY,CAAZ,CAAP,CACA,CAED,QAAQ,YAAR,CAAqB,CAArB,EACA,gBAAgB,CAAhB,CAAmB,CAAnB,CAAsB,EAAE,KAAxB,CAA+B,QAA/B,CAAyC,IAAzC,EACA,QAAQ,WAAR,GACA,CAED;;KAGA,QAAS,UAAT,CAAmB,CAAnB,CAAsB,CAAtB,CAAyB,CAAzB,CAA4B,QAA5B,CAAsC,IAAtC,CAA4C,CAC3C,GAAG,MAAO,EAAP,GAAa,UAAhB,CAA4B,CAC3B,MAAO,MAAK,MAAL,CAAY,CAAZ,CAAP,CACA,CAED,QAAQ,YAAR,CAAqB,CAArB,EACA,eAAe,CAAf,CAAkB,CAAlB,CAAqB,QAArB,CAA+B,IAA/B,EACA,QAAQ,WAAR,GACA,CAED,QAAS,UAAT,CAAmB,CAAnB,CAAsB,CAAtB,CAAyB,CAAzB,CAA4B,CAC3B,GAAI,CACH,MAAO,GAAE,CAAF,CAAK,CAAL,CAAP,CACA,CAAC,MAAM,CAAN,CAAS,CACV,MAAO,QAAO,CAAP,CAAP,CACA,CACD,CAED;;;KAIA,QAAS,eAAT,CAAwB,CAAxB,CAA2B,CAA3B,CAA8B,OAA9B,CAAuC,IAAvC,CAA6C,CAC5C,GAAI,CACH,KAAK,MAAL,CAAY,WAAW,EAAE,IAAF,CAAO,OAAP,CAAgB,CAAhB,CAAX,CAAZ,EACA,CAAC,MAAM,CAAN,CAAS,CACV,KAAK,MAAL,CAAY,GAAI,SAAJ,CAAa,CAAb,CAAZ,EACA,CACD,CAED;;KAGA,QAAS,gBAAT,CAAyB,CAAzB,CAA4B,CAA5B,CAA+B,CAA/B,CAAkC,OAAlC,CAA2C,IAA3C,CAAiD,CAChD,GAAI,CACH,EAAE,IAAF,CAAO,OAAP,CAAgB,CAAhB,CAAmB,CAAnB,CAAsB,IAAtB,EACA,CAAC,MAAM,CAAN,CAAS,CACV,KAAK,MAAL,CAAY,GAAI,SAAJ,CAAa,CAAb,CAAZ,EACA,CACD,CAED;;;KAIA,QAAS,eAAT,CAAwB,CAAxB,CAA2B,CAA3B,CAA8B,OAA9B,CAAuC,IAAvC,CAA6C,CAC5C,GAAI,CACH,KAAK,MAAL,CAAY,EAAE,IAAF,CAAO,OAAP,CAAgB,CAAhB,CAAZ,EACA,CAAC,MAAM,CAAN,CAAS,CACV,KAAK,MAAL,CAAY,CAAZ,EACA,CACD,CAED,QAAS,QAAT,CAAiB,MAAjB,CAAyB,KAAzB,CAAgC,CAC/B,MAAM,SAAN,CAAkB,aAAa,OAAO,SAApB,CAAlB,CACA,MAAM,SAAN,CAAgB,WAAhB,CAA8B,KAA9B,CACA,CAED,QAAS,IAAT,CAAa,CAAb,CAAgB,CAAhB,CAAmB,CAClB,MAAO,EAAP,CACA,CAED,QAAS,KAAT,EAAgB,CAAE,CAElB,QAAS,kBAAT,EAA6B,CAC5B,qCACA,GAAG,MAAO,QAAP,GAAmB,WAAnB,EAAkC,UAAY,IAA9C,EACC,MAAO,SAAQ,IAAf,GAAwB,UAD5B,CACwC,CACvC;AACA;AACA;AACA;AACA,MAAO,UAAS,IAAT,CAAe,SAAf,CAA0B,CAChC,MAAO,QAAS,oBAAT,CACJ,QAAQ,IAAR,CAAa,IAAb,CAAmB,UAAU,KAA7B,CAAoC,SAApC,CADI,CAEJ,QAAQ,IAAR,CAAa,IAAb,CAAmB,SAAnB,CAFH,CAGA,CAJD,CAKA,CAXD,IAWO,IAAG,MAAO,KAAP,GAAgB,WAAhB,EAA+B,MAAO,YAAP,GAAuB,UAAzD,CAAqE,CAC3E,MAAQ,UAAS,IAAT,CAAe,IAAf,CAAqB,WAArB,CAAkC,CACzC,GAAI,gBAAiB,KAArB,CACA,GAAI,CACH,GAAI,IAAK,GAAI,YAAJ,CAAgB,oBAAhB,CAAT,CACA,eAAiB,aAAc,YAA/B,CACA,CAAC,MAAO,CAAP,CAAU,CAAE,CAEd,MAAO,CAAC,cAAD,CAAkB,IAAlB,CAAyB,SAAS,IAAT,CAAe,SAAf,CAA0B,CACzD,GAAI,IAAK,GAAI,YAAJ,CAAgB,IAAhB,CAAsB,CAC9B,OAAQ,CACP,OAAQ,UAAU,KADX,CAEP,IAAK,SAFE,CADsB,CAK9B,QAAS,KALqB,CAM9B,WAAY,IANkB,CAAtB,CAAT,CASA,MAAO,CAAC,KAAK,aAAL,CAAmB,EAAnB,CAAR,CACA,CAXD,CAYA,CAnBO,CAmBN,IAnBM,CAmBA,IAnBA,CAmBM,WAnBN,CAAR,CAoBA,CAED,MAAO,KAAP,CACA,CAED,MAAO,QAAP,CACA,CAr5BD,CAs5BA,CAx5BD,EAy5BC,CA15BA,EA05BC,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAS,OAAT,CAAkB,CAAE,OAAO,OAAP,CAAiB,SAAjB,CAA6B,CA15BxG,CAAD,CA45BC,CAj6BQ,CAi6BP,EAj6BO,CA5xDsqB,CA6rFzqB,GAAG,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CAC1C,8EACA,6BACA,wBAEC,UAAS,MAAT,CAAiB,CAAE,aACpB,OAAO,UAAW,CAEjB,MAAO,CACN,QAAS,cADH,CAEN,UAAW,gBAFL,CAGN,SAAU,eAHJ,CAIN,QAAS,OAJH,CAAP,CAOA,QAAS,eAAT,EAA0B,CACzB,MAAO,CAAE,MAAO,SAAT,CAAP,CACA,CAED,QAAS,gBAAT,CAAyB,CAAzB,CAA4B,CAC3B,MAAO,CAAE,MAAO,UAAT,CAAqB,OAAQ,CAA7B,CAAP,CACA,CAED,QAAS,iBAAT,CAA0B,CAA1B,CAA6B,CAC5B,MAAO,CAAE,MAAO,WAAT,CAAsB,MAAO,CAA7B,CAAP,CACA,CAED,QAAS,QAAT,CAAiB,OAAjB,CAA0B,CACzB,GAAI,OAAQ,QAAQ,KAAR,EAAZ,CACA,MAAO,SAAU,CAAV,CAAc,gBAAd,CACH,MAAQ,CAAR,CAAc,iBAAiB,QAAQ,KAAzB,CAAd,CACc,gBAAgB,QAAQ,KAAxB,CAFlB,CAGA,CAED,CA5BD,EA6BC,CA9BA,EA8BC,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAS,OAAT,CAAkB,CAAE,OAAO,OAAP,CAAiB,SAAjB,CAA6B,CA9BxG,CAAD,CAgCC,CArCQ,CAqCP,EArCO,CA7rFsqB,CAkuFzqB,GAAG,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CAC1C,8EACA,6BACA,wBAEC,UAAS,MAAT,CAAiB,CAAE,aACpB,OAAO,SAAS,OAAT,CAAkB,CAExB,GAAI,gBAAiB,QAAQ,0BAAR,CAArB,CACA,GAAI,iBAAkB,QAAQ,2BAAR,CAAtB,CAEA,GAAI,gBAAiB,GAAI,eAAJ,CAAmB,GAAI,gBAAJ,EAAnB,CAArB,CAEA,MAAO,UAAS,OAAT,CAAkB,CACxB,MAAO,gBAAe,OAAf,CAAuB,OAAvB,CAAP,CACA,CAFD,CAGA,CAVD,EAWC,CAZA,EAYC,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAS,OAAT,CAAkB,CAAE,OAAO,OAAP,CAAiB,QAAQ,OAAR,CAAjB,CAAoC,CAZ/G,CAAD,CAcC,CAnBQ,CAmBP,CAAC,4BAA4B,EAA7B,CAAgC,2BAA2B,EAA3D,CAnBO,CAluFsqB,CAqvF7mB,GAAG,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CACtG,8EACA,6BACA,wBAEC,UAAS,MAAT,CAAiB,CAAE,aACpB,OAAO,SAAS,OAAT,CAAkB,CAExB,GAAI,OAAQ,QAAQ,SAAR,CAAZ,CACA,GAAI,wBAAyB,mCAA7B,CACA,GAAI,eAAgB,sEAApB,CAEA,QAAS,gBAAT,EAA2B,CAC1B,KAAK,mBAAL,CAA2B,KAA3B,CACA,CAED,gBAAgB,SAAhB,CAA4B,oBAA5B,CAEA,gBAAgB,SAAhB,CAA0B,GAA1B,CAAgC,SAAS,MAAT,CAAiB,CAChD,GAAG,OAAO,MAAP,GAAkB,CAArB,CAAwB,CACvB,GAAG,KAAK,mBAAR,CAA6B,CAC5B,KAAK,mBAAL,CAA2B,KAA3B,CACA,KAAK,GAAL,CAAS,aAAT,EACA,CACD,OACA,CAED,KAAK,mBAAL,CAA2B,IAA3B,CACA,KAAK,UAAL,CAAgB,uBAAyB,OAAO,MAAhD,EACA,GAAI,CACH,KAAK,IAAL,CAAU,MAAV,EACA,CAFD,OAEU,CACT,KAAK,QAAL,GACA,CACD,CAhBD,CAkBA,gBAAgB,SAAhB,CAA0B,IAA1B,CAAiC,SAAS,MAAT,CAAiB,CACjD,IAAI,GAAI,GAAE,CAAV,CAAa,EAAE,OAAO,MAAtB,CAA8B,EAAE,CAAhC,CAAmC,CAClC,KAAK,IAAL,CAAU,MAAM,MAAN,CAAa,OAAO,CAAP,CAAb,CAAV,EACA,CACD,CAJD,CAMA,QAAS,mBAAT,EAA8B,CAC7B,0BACA,GAAI,IAAJ,CAAS,IAAT,CAAe,UAAf,CAA2B,QAA3B,CAEA,GAAG,MAAO,QAAP,GAAmB,WAAtB,CAAmC,CAClC,IAAM,KAAO,mBAAb,CACA,CAFD,IAEO,CACN;AACA;AACA;AACA,GAAI,cAAe,OAAnB,CACA,GAAG,MAAO,cAAa,KAApB,GAA8B,UAA9B,EACC,MAAO,cAAa,GAApB,GAA4B,UADhC,CAC4C,CAC3C,KAAO,SAAS,CAAT,CAAY,CAClB,aAAa,KAAb,CAAmB,CAAnB,EACA,CAFD,CAIA,IAAM,SAAS,CAAT,CAAY,CACjB,aAAa,GAAb,CAAiB,CAAjB,EACA,CAFD,CAIA,GAAG,MAAO,cAAa,cAApB,GAAuC,UAA1C,CAAsD,CACrD,WAAa,SAAS,CAAT,CAAY,CACxB,aAAa,cAAb,CAA4B,CAA5B,EACA,CAFD,CAGA,SAAW,UAAW,CACrB,aAAa,QAAb,GACA,CAFD,CAGA,CACD,CAlBD,IAkBO,CACN;AACA;AACA;AACA;AACA;AACA,GAAI,MAAO,cAAa,GAApB,GAA4B,WAA5B,EAA2C,MAAO,KAAP,GAAgB,WAA/D,CAA4E,CAC3E,IAAM,KAAO,SAAS,CAAT,CAAY,CACxB,GAAI,MAAO,EAAP,GAAa,QAAjB,CAA2B,CAC1B,GAAI,CACH,EAAI,KAAK,SAAL,CAAe,CAAf,CAAJ,CACA,CAAC,MAAO,CAAP,CAAU,CACX,CACD,CACD,aAAa,GAAb,CAAiB,CAAjB,EACA,CARD,CASA,CAVD,IAUO,CACN,IAAM,KAAO,mBAAb,CACA,CACD,CACD,CAED,MAAO,CACN,IAAK,GADC,CAEN,KAAM,IAFA,CAGN,WAAY,YAAc,IAHpB,CAIN,SAAU,UAAY,mBAJhB,CAAP,CAMA,CAED,QAAS,oBAAT,EAA+B,CAAE,CAEjC,MAAO,gBAAP,CAEA,CAnGD,EAoGC,CArGA,EAqGC,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAS,OAAT,CAAkB,CAAE,OAAO,OAAP,CAAiB,QAAQ,OAAR,CAAjB,CAAoC,CArG/G,CAAD,CAuGC,CA5GoE,CA4GnE,CAAC,UAAU,EAAX,CA5GmE,CArvF0mB,CAi2F7pB,GAAG,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CACtD,8EACA,6BACA,wBAEC,UAAS,MAAT,CAAiB,CAAE,aACpB,OAAO,SAAS,OAAT,CAAkB,CAExB,GAAI,2BAA4B,yBAAhC,CACA,GAAI,oBAAqB,0PAAzB,CAEA,GAAI,UAAW,QAAQ,YAAR,EAAsB,QAArC,CACA,GAAI,OAAQ,QAAQ,SAAR,CAAZ,CAEA,GAAI,kBAAmB,EAAvB,CAEA,QAAS,eAAT,CAAwB,QAAxB,CAAkC,CACjC,KAAK,QAAL,CAAgB,CAAhB,CACA,KAAK,WAAL,CAAmB,kBAAnB,CACA,KAAK,kBAAL,CAA0B,yBAA1B,CACA,KAAK,qBAAL,CAA6B,IAA7B,CAEA,KAAK,SAAL,CAAiB,QAAjB,CACA,GAAG,MAAO,UAAS,uBAAhB,GAA4C,UAA/C,CAA2D,CAC1D,SAAS,uBAAT,CAAiC,IAAjC,EACA,CAED,KAAK,OAAL,CAAe,EAAf,CACA,KAAK,UAAL,CAAkB,CAAlB,CAEA,GAAI,MAAO,IAAX,CACA,KAAK,YAAL,CAAoB,UAAW,CAC9B,KAAK,UAAL,GACA,CAFD,CAGA,CAED,eAAe,SAAf,CAAyB,OAAzB,CAAmC,SAAS,OAAT,CAAkB,CACpD,GAAI,MAAO,IAAX,CACA,QAAQ,aAAR,CAAwB,SAAS,CAAT,CAAY,OAAZ,CAAqB,CAC5C,EAAE,OAAF,CAAY,KAAK,aAAL,CAAmB,CAAnB,CAAsB,OAAtB,CAAZ,CACA,CAFD,CAIA,QAAQ,YAAR,CAAuB,SAAS,CAAT,CAAY,CAClC,iBAAiB,IAAjB,CAAsB,EAAE,OAAxB,EACA,CAFD,CAIA,QAAQ,WAAR,CAAsB,UAAW,CAChC,iBAAiB,GAAjB,GACA,CAFD,CAIA,QAAQ,+BAAR,CAA0C,SAAS,SAAT,CAAoB,YAApB,CAAkC,CAC3E,MAAO,MAAK,QAAL,CAAc,SAAd,CAAyB,YAAzB,CAAP,CACA,CAFD,CAIA,QAAQ,sCAAR,CAAiD,SAAS,SAAT,CAAoB,CACpE,MAAO,MAAK,WAAL,CAAiB,SAAjB,CAAP,CACA,CAFD,CAIA,QAAQ,gBAAR,CAA2B,SAAS,SAAT,CAAoB,YAApB,CAAkC,CAC5D,MAAO,MAAK,KAAL,CAAW,SAAX,CAAsB,YAAtB,CAAP,CACA,CAFD,CAIA,MAAO,KAAP,CACA,CA3BD,CA6BA,eAAe,SAAf,CAAyB,aAAzB,CAAyC,SAAS,EAAT,CAAa,aAAb,CAA4B,CACpE,GAAI,SAAU,CACb,OAAQ,eAAiB,iBAAiB,iBAAiB,MAAjB,CAA0B,CAA3C,CADZ,CAEb,MAAO,IAAK,EAFC,CAAd,CAIA,MAAM,YAAN,CAAmB,OAAnB,CAA4B,GAAG,WAA/B,EACA,MAAO,QAAP,CACA,CAPD,CASA,eAAe,SAAf,CAAyB,QAAzB,CAAoC,SAAS,OAAT,CAAkB,YAAlB,CAAgC,CACnE,GAAI,EAAJ,CAAO,CAAP,CAEA,IAAI,EAAI,KAAK,OAAL,CAAa,MAAb,CAAoB,CAA5B,CAA+B,GAAK,CAApC,CAAuC,EAAE,CAAzC,CAA4C,CAC3C,EAAI,KAAK,OAAL,CAAa,CAAb,CAAJ,CACA,GAAG,EAAE,OAAF,GAAc,OAAjB,CAA0B,CACzB,MACA,CACD,CAED,GAAG,GAAK,CAAR,CAAW,CACV,EAAE,YAAF,CAAiB,YAAjB,CACA,CAFD,IAEO,CACN,KAAK,OAAL,CAAa,IAAb,CAAkB,CACjB,QAAS,OADQ,CAEjB,aAAc,YAFG,CAAlB,EAIA,CAED,KAAK,SAAL,GACA,CApBD,CAsBA,eAAe,SAAf,CAAyB,WAAzB,CAAuC,UAAS,WAAa,CAC5D,KAAK,SAAL,GACA,CAFD,CAIA,eAAe,SAAf,CAAyB,KAAzB,CAAiC,SAAS,OAAT,CAAkB,YAAlB,CAAgC,CAChE,GAAI,KAAM,GAAI,MAAJ,EAAV,CACA,IAAI,KAAJ,CAAY,KAAK,gBAAL,CAAsB,QAAQ,KAA9B,CAAqC,QAAQ,OAA7C,CAAsD,YAAtD,EAAoE,IAApE,CAAyE,IAAzE,CAAZ,CACA,SAAS,UAAW,CACnB,KAAM,IAAN,CACA,CAFD,CAEG,CAFH,EAGA,CAND,CAQA,eAAe,SAAf,CAAyB,SAAzB,CAAqC,UAAW,CAC/C,GAAG,CAAC,KAAK,UAAT,CAAqB,CACpB,KAAK,UAAL,CAAkB,SAAS,KAAK,YAAd,CAA4B,KAAK,QAAjC,CAAlB,CACA,CACD,CAJD,CAMA,eAAe,SAAf,CAAyB,UAAzB,CAAsC,UAAW,CAChD,KAAK,UAAL,CAAkB,IAAK,EAAvB,CACA,KAAK,OAAL,CAAe,KAAK,OAAL,CAAa,MAAb,CAAoB,aAApB,CAAf,CACA,KAAK,SAAL,CAAe,GAAf,CAAmB,KAAK,YAAL,CAAkB,KAAK,OAAvB,CAAnB,EACA,CAJD,CAOA,eAAe,SAAf,CAAyB,YAAzB,CAAwC,SAAS,MAAT,CAAiB,CACxD,MAAO,QAAO,GAAP,CAAW,SAAS,CAAT,CAAY,CAC7B,MAAO,MAAK,gBAAL,CAAsB,EAAE,OAAF,CAAU,KAAhC,CAAuC,EAAE,OAAF,CAAU,OAAjD,CAA0D,EAAE,YAA5D,CAAP,CACA,CAFM,CAEJ,IAFI,CAAP,CAGA,CAJD,CAMA,eAAe,SAAf,CAAyB,gBAAzB,CAA4C,SAAS,CAAT,CAAY,OAAZ,CAAqB,YAArB,CAAmC,CAC9E,GAAI,OAAQ,MAAM,KAAN,CAAY,CAAZ,GAAkB,CAAC,OAAO,CAAP,EAAY,4BAAb,CAA9B,CACA,MAAQ,aAAa,KAAK,WAAlB,CAA+B,KAA/B,CAAsC,CAAtC,CAAR,CACA,KAAK,cAAL,CAAoB,KAApB,CAA2B,OAA3B,EACA,KAAK,cAAL,CAAoB,KAApB,CAA2B,YAA3B,EACA,MAAO,MAAK,qBAAL,CAA6B,KAAK,iBAAL,CAAuB,KAAvB,CAA7B,CAA6D,KAApE,CACA,CAND,CAQA,eAAe,SAAf,CAAyB,iBAAzB,CAA6C,SAAS,KAAT,CAAgB,CAC5D,GAAI,MAAO,EAAX,CACA,GAAI,KAAM,KAAK,kBAAf,CACA,GAAI,OAAQ,CAAZ,CACA,MAAO,OAAM,WAAN,CAAkB,SAAS,OAAT,CAAkB,IAAlB,CAAwB,CAAxB,CAA2B,CACnD,GAAG,IAAM,CAAT,CAAY,CACX,QAAQ,OAAR,CAAgB,IAAhB,EACA,CAFD,IAEO,IAAG,OAAS,GAAZ,CAAiB,CACvB,GAAG,MAAQ,CAAX,CAAc,CACb,QAAQ,OAAR,CAAgB,IAAhB,EACA,MAAQ,CAAR,CACA,CACD,CALM,IAKA,IAAG,CAAC,KAAK,IAAL,CAAJ,CAAgB,CACtB,KAAK,IAAL,EAAa,IAAb,CACA,QAAQ,OAAR,CAAgB,IAAhB,EACA,EAAE,KAAF,CACA,CACD,MAAO,QAAP,CACA,CAdM,CAcJ,EAdI,CAAP,CAeA,CAnBD,CAqBA,eAAe,SAAf,CAAyB,cAAzB,CAA0C,SAAS,KAAT,CAAgB,OAAhB,CAAyB,CAClE,MAAM,IAAN,CAAW,KAAX,CAAiB,KAAjB,CAAwB,KAAK,YAAL,CAAkB,OAAlB,CAAxB,EACA,CAFD,CAIA,eAAe,SAAf,CAAyB,YAAzB,CAAwC,SAAS,UAAT,CAAqB,CAC5D,GAAI,OAAQ,EAAZ,CACA,GAAI,MAAJ,CAEA,MAAM,UAAN,CAAkB,CACjB,MAAQ,MAAM,KAAN,CAAY,UAAZ,CAAR,CAEA,GAAI,KAAJ,CAAW,CACV,MAAQ,aAAa,KAAK,WAAlB,CAA+B,KAA/B,CAAR,CACA,YAAY,KAAZ,CAAmB,KAAnB,CAA0B,KAAK,kBAA/B,EACA,CAED,WAAa,WAAW,MAAxB,CACA,CAED,MAAO,MAAP,CACA,CAhBD,CAkBA,QAAS,YAAT,CAAqB,KAArB,CAA4B,KAA5B,CAAmC,SAAnC,CAA8C,CAC7C,GAAI,MAAM,MAAN,CAAe,CAAnB,CAAsB,CACrB,MAAM,CAAN,EAAW,SAAX,CACA,MAAM,IAAN,CAAW,KAAX,CAAiB,KAAjB,CAAwB,KAAxB,EACA,CACD,CAED,QAAS,aAAT,CAAsB,WAAtB,CAAmC,KAAnC,CAA0C,CACzC,MAAO,OAAM,MAAN,CAAa,SAAS,KAAT,CAAgB,CACnC,MAAO,CAAC,YAAY,IAAZ,CAAiB,KAAjB,CAAR,CACA,CAFM,CAAP,CAGA,CAED,QAAS,cAAT,CAAuB,CAAvB,CAA0B,CACzB,MAAO,CAAC,EAAE,OAAF,CAAU,OAAlB,CACA,CAED,MAAO,eAAP,CACA,CA9LD,EA+LC,CAhMA,EAgMC,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAS,OAAT,CAAkB,CAAE,OAAO,OAAP,CAAiB,QAAQ,OAAR,CAAjB,CAAoC,CAhM/G,CAAD,CAkMC,CAvMoB,CAuMnB,CAAC,aAAa,EAAd,CAAiB,UAAU,EAA3B,CAvMmB,CAj2F0pB,CAwiG7oB,GAAG,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CACtE,8EACA,6BACA,wBAEC,UAAS,MAAT,CAAiB,CAAE,aACpB,OAAO,SAAS,OAAT,CAAkB,CAExB,GAAI,SAAU,QAAQ,YAAR,CAAd,CACA,GAAI,SAAU,QAAQ,SAAR,EAAmB,OAAjC,CAEA,MAAO,SAAQ,OAAR,CAAP,CAEA,CAPD,EAQC,CATA,EASC,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAS,OAAT,CAAkB,CAAE,OAAO,OAAP,CAAiB,QAAQ,OAAR,CAAjB,CAAoC,CAT/G,CAAD,CAWC,CAhBoC,CAgBnC,CAAC,aAAa,EAAd,CAAiB,UAAU,EAA3B,CAhBmC,CAxiG0oB,CAwjG7oB,GAAG,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CACtE,8EACA,6BACA,wBAEC,UAAS,MAAT,CAAiB,CAAE,aACpB,OAAO,UAAW,CAEjB,GAAI,MAAJ,CAAW,YAAX,CAAyB,MAAzB,CAEA,GAAG,MAAM,iBAAT,CAA4B,CAC3B;AACA,MAAQ,SAAS,CAAT,CAAY,CACnB,MAAO,IAAK,EAAE,KAAP,EAAgB,EAAE,KAAF,CAAQ,KAAR,CAAc,IAAd,CAAvB,CACA,CAFD,CAIA,OAAS,cAAT,CACA,aAAe,MAAM,iBAArB,CAEA,CATD,IASO,CACN;AACA;AACA,MAAQ,SAAS,CAAT,CAAY,CACnB,GAAI,OAAQ,GAAK,EAAE,KAAP,EAAgB,EAAE,KAAF,CAAQ,KAAR,CAAc,IAAd,CAA5B,CACA,GAAG,OAAS,EAAE,OAAd,CAAuB,CACtB,MAAM,OAAN,CAAc,EAAE,OAAhB,EACA,CACD,MAAO,MAAP,CACA,CAND,CAQC,WAAW,CACX,GAAI,GAAI,GAAI,MAAJ,EAAR,CACA,GAAG,MAAO,GAAE,KAAT,GAAmB,QAAtB,CAAgC,CAC/B,OAAS,cAAT,CACA,aAAe,wBAAf,CACA,CAHD,IAGO,CACN,OAAS,sBAAT,CACA,aAAe,gBAAf,CACA,CACD,CATA,GAAD,CAUA,CAED,QAAS,yBAAT,CAAkC,IAAlC,CAAwC,CACvC,GAAI,CACH,KAAM,IAAI,MAAJ,EAAN,CACA,CAAC,MAAM,GAAN,CAAW,CACZ,KAAK,KAAL,CAAa,IAAI,KAAjB,CACA,CACD,CAED,QAAS,iBAAT,CAA0B,IAA1B,CAAgC,CAC/B,KAAK,KAAL,CAAa,GAAI,MAAJ,GAAY,KAAzB,CACA,CAED,QAAS,eAAT,CAAwB,SAAxB,CAAmC,CAClC,MAAO,MAAK,SAAL,CAAP,CACA,CAED,QAAS,uBAAT,CAAgC,SAAhC,CAA2C,CAC1C,GAAI,GAAI,GAAI,MAAJ,EAAR,CACA,EAAE,KAAF,CAAU,eAAe,SAAf,CAAV,CACA,MAAO,EAAP,CACA,CAED;AACA,QAAS,KAAT,CAAc,CAAd,CAAiB,CAChB,GAAI,KAAM,KAAV,CACA,GAAI,GAAI,EAAR,CACA,IAAI,GAAI,GAAE,CAAV,CAAa,EAAG,EAAE,MAAlB,CAA0B,EAAE,CAA5B,CAA+B,CAC9B,GAAG,GAAH,CAAQ,CACP,GAAK,KAAO,EAAE,CAAF,CAAZ,CACA,CAFD,IAEO,CACN,GAAI,EAAE,CAAF,CAAJ,CACA,IAAM,IAAN,CACA,CACD,CACD,MAAO,EAAP,CACA,CAED,MAAO,CACN,MAAO,KADD,CAEN,OAAQ,MAFF,CAGN,aAAc,YAHR,CAAP,CAMA,CA/ED,EAgFC,CAjFA,EAiFC,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAS,OAAT,CAAkB,CAAE,OAAO,OAAP,CAAiB,SAAjB,CAA6B,CAjFxG,CAAD,CAmFC,CAxFoC,CAwFnC,EAxFmC,CAxjG0oB,CAgpGzqB,GAAG,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CAC1C,yEAEA;;;;;;GAQA,CAAC,SAAS,MAAT,CAAiB,CAClB,OAAO,SAAS,OAAT,CAAkB,CAExB,GAAI,MAAO,QAAQ,QAAR,CAAX,CACA,GAAI,UAAW,QAAQ,eAAR,CAAf,CACA,GAAI,UAAW,QAAQ,WAAR,EAAqB,QAApC,CACA,GAAI,OAAQ,MAAM,SAAN,CAAgB,KAA5B,CAEA,GAAI,QAAS,QAAQ,aAAR,EAAuB,KAAK,OAA5B,CAAqC,QAArC,CAAb,CAEA,MAAO,CACN,KAAM,IADA,CAEN,QAAS,OAFH,CAGN,MAAO,KAHD,CAIN,KAAM,IAJA,CAKN,eAAgB,cALV,CAMN,aAAc,YANR,CAON,aAAc,YAPR,CAAP,CAUA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA8BA,QAAS,MAAT,CAAe,CAAf,CAAkB,IAAlB,CAAwB,CACvB,MAAO,QAAO,CAAP,CAAU,IAAV,CAAgB,MAAQ,EAAxB,CAAP,CACA,CAED,QAAS,SAAT,CAAkB,CAAlB,CAAqB,OAArB,CAA8B,IAA9B,CAAoC,CAApC,CAAuC,CACtC,GAAI,IAAK,eAAe,CAAf,CAAT,CACA,GAAI,CACH,OAAO,KAAK,MAAZ,EACC,IAAK,EAAL,CAAQ,EAAE,IAAF,CAAO,OAAP,CAAgB,KAAK,CAAL,CAAhB,CAAyB,KAAK,CAAL,CAAzB,CAAkC,EAAlC,EAAuC,MAC/C,IAAK,EAAL,CAAQ,EAAE,IAAF,CAAO,OAAP,CAAgB,KAAK,CAAL,CAAhB,CAAyB,EAAzB,EAA8B,MACtC,IAAK,EAAL,CAAQ,EAAE,IAAF,CAAO,OAAP,CAAgB,EAAhB,EAAqB,MAC7B,QACC,KAAK,IAAL,CAAU,EAAV,EACA,EAAE,KAAF,CAAQ,OAAR,CAAiB,IAAjB,EANF,CAQA,CAAC,MAAM,CAAN,CAAS,CACV,EAAE,MAAF,CAAS,CAAT,EACA,CACD,CAED;;;;;;;;;;;;;;;;;;;;;;;;IAyBA,QAAS,KAAT,CAAc,CAAE,cAAhB,CAAgC,CAC/B,MAAO,QAAO,CAAP,CAAU,IAAV,CAAgB,MAAM,IAAN,CAAW,SAAX,CAAsB,CAAtB,CAAhB,CAAP,CACA,CAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA8BA,QAAS,KAAT,CAAc,CAAE,cAAhB,CAAgC,CAC/B,GAAI,OAAQ,UAAU,MAAV,CAAmB,CAAnB,CAAuB,MAAM,IAAN,CAAW,SAAX,CAAsB,CAAtB,CAAvB,CAAkD,EAA9D,CACA,MAAO,WAAW,CACjB;AACA,GAAI,GAAI,MAAM,MAAd,CACA,GAAI,IAAK,UAAU,MAAnB,CACA,GAAI,MAAO,GAAI,MAAJ,CAAU,GAAK,CAAf,CAAX,CACA,GAAI,EAAJ,CACA,IAAI,EAAE,CAAN,CAAS,EAAE,CAAX,CAAc,EAAE,CAAhB,CAAmB,CAClB,KAAK,CAAL,EAAU,MAAM,CAAN,CAAV,CACA,CACD,IAAI,EAAE,CAAN,CAAS,EAAE,EAAX,CAAe,EAAE,CAAjB,CAAoB,CACnB,KAAK,EAAE,CAAP,EAAY,UAAU,CAAV,CAAZ,CACA,CACD,MAAO,QAAO,CAAP,CAAU,IAAV,CAAgB,IAAhB,CAAP,CACA,CAbD,CAcA,CAED;;;;;;;;;;IAWA,QAAS,QAAT,CAAiB,GAAjB,CAAsB,OAAtB,CAA+B,GAA/B,CAAoC,CACnC,MAAO,UAAS,IAAT,CAAe,OAAf,CAAwB,GAAxB,CAA6B,GAA7B,CAAP,CACA,CAED;;;;;;;;;;;;;;;;;;;;;;;;IAyBA,QAAS,eAAT,CAAwB,QAAxB,CAAkC,CACjC,MAAO,UAAS,GAAT,CAAc,KAAd,CAAqB,CAC3B,GAAG,GAAH,CAAQ,CACP,SAAS,MAAT,CAAgB,GAAhB,EACA,CAFD,IAEO,IAAG,UAAU,MAAV,CAAmB,CAAtB,CAAyB,CAC/B,SAAS,OAAT,CAAiB,MAAM,IAAN,CAAW,SAAX,CAAsB,CAAtB,CAAjB,EACA,CAFM,IAEA,CACN,SAAS,OAAT,CAAiB,KAAjB,EACA,CACD,CARD,CASA,CAED;;;;;;;;;;;;;;;;;;;IAoBA,QAAS,aAAT,CAAsB,OAAtB,CAA+B,QAA/B,CAAyC,CACxC,QAAU,KAAK,OAAL,CAAV,CAEA,GAAI,QAAJ,CAAc,CACb,QAAQ,IAAR,CAAa,OAAb,CAAsB,OAAtB,EACA,CAED,MAAO,QAAP,CAEA,QAAS,QAAT,CAAiB,KAAjB,CAAwB,CACvB,QAAQ,IAAR,CAAc,KAAd,EACA,CAED,QAAS,QAAT,CAAiB,GAAjB,CAAsB,KAAtB,CAA6B,CAC5B,SAAS,UAAY,CACpB,SAAS,GAAT,CAAc,KAAd,EACA,CAFD,CAEG,CAFH,EAGA,CACD,CAED;;;;;;;;;;;;;;;;;;;;;IAsBA,QAAS,aAAT,CAAsB,QAAtB,CAAgC,CAC/B,MAAO,UAAS,OAAT,CAAkB,CACxB,MAAO,cAAa,OAAb,CAAsB,QAAtB,CAAP,CACA,CAFD,CAGA,CACD,CAzQD,EA2QC,CA5QD,EA4QG,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAU,OAAV,CAAmB,CAAE,OAAO,OAAP,CAAiB,QAAQ,OAAR,CAAjB,CAAoC,CA5QlH,EAiRC,CA5RQ,CA4RP,CAAC,cAAc,EAAf,CAAkB,YAAY,EAA9B,CAAiC,gBAAgB,EAAjD,CAAoD,SAAS,EAA7D,CA5RO,CAhpGsqB,CA46G3mB,GAAG,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CACxG,8EAEA;;;;;;;;GAUA,CAAC,SAAS,MAAT,CAAiB,CAClB,OAAO,SAAS,OAAT,CAAkB,CAExB,GAAI,MAAO,QAAQ,QAAR,CAAX,CACA,GAAI,KAAM,KAAK,OAAL,CAAa,GAAvB,CACA,GAAI,OAAQ,MAAM,SAAN,CAAgB,KAA5B,CAEA;;;;;;;IAQA,MAAO,SAAS,SAAT,CAAkB,KAAM,cAAxB,CAAwC,CAC9C,MAAO,KAAI,MAAM,IAAN,CAAW,SAAX,CAAsB,CAAtB,CAAJ,EAA8B,IAA9B,CAAmC,SAAS,IAAT,CAAe,CACxD,MAAO,MAAK,GAAL,CAAS,KAAT,CAAgB,SAAS,IAAT,CAAe,CACrC,MAAO,MAAK,KAAL,CAAW,IAAK,EAAhB,CAAmB,IAAnB,CAAP,CACA,CAFM,CAAP,CAGA,CAJM,CAAP,CAKA,CAND,CAQA,CAtBD,EAuBC,CAxBD,EAwBG,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAU,OAAV,CAAmB,CAAE,OAAO,OAAP,CAAiB,QAAQ,OAAR,CAAjB,CAAoC,CAxBlH,EA4BC,CAzCsE,CAyCrE,CAAC,SAAS,EAAV,CAzCqE,CA56GwmB,CAq9G9pB,GAAG,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CACrD,8EAEA;;;;;;;;;GAWA,CAAC,SAAS,MAAT,CAAiB,CAClB,OAAO,SAAS,OAAT,CAAkB,CAExB,GAAI,MAAO,QAAQ,QAAR,CAAX,CACA,GAAI,KAAM,KAAK,OAAL,CAAa,GAAvB,CACA,GAAI,OAAQ,MAAM,SAAN,CAAgB,KAA5B,CAEA;;;;;;;IAQA,MAAO,SAAS,SAAT,CAAkB,KAAM,oBAAxB,CAA8C,CACpD;AACA;AACA,GAAI,SAAU,SAAS,IAAT,CAAe,IAAf,CAAqB,CAClC,QAAU,SAAS,GAAT,CAAc,IAAd,CAAoB,CAC7B,MAAO,MAAK,GAAL,CAAP,CACA,CAFD,CAIA,MAAO,MAAK,KAAL,CAAW,IAAX,CAAiB,IAAjB,CAAP,CACA,CAND,CAQA,MAAO,KAAI,MAAM,IAAN,CAAW,SAAX,CAAsB,CAAtB,CAAJ,EAA8B,IAA9B,CAAmC,SAAS,IAAT,CAAe,CACxD,MAAO,MAAK,MAAL,CAAY,KAAZ,CAAmB,SAAS,GAAT,CAAc,IAAd,CAAoB,CAC7C,MAAO,SAAQ,GAAR,CAAa,IAAb,CAAP,CACA,CAFM,CAEJ,IAFI,CAAP,CAGA,CAJM,CAAP,CAKA,CAhBD,CAkBA,CAhCD,EAiCC,CAlCD,EAkCG,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAU,OAAV,CAAmB,CAAE,OAAO,OAAP,CAAiB,QAAQ,OAAR,CAAjB,CAAoC,CAlClH,EAsCC,CApDmB,CAoDlB,CAAC,SAAS,EAAV,CApDkB,CAr9G2pB,CAygH9pB,GAAG,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CACrD,8EAEA;;;;;;GAQA,CAAC,SAAU,MAAV,CAAkB,CAAE,aACrB,OAAO,SAAS,OAAT,CAAkB,CAExB,GAAI,MAAO,QAAQ,QAAR,CAAX,CACA,GAAI,SAAU,KAAK,KAAL,CAAd,CACA,GAAI,YAAa,QAAQ,cAAR,CAAjB,CAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAwCA,MAAO,SAAS,KAAT,CAAc,IAAd,CAAoB,QAApB,CAA8B,QAA9B,CAAwC,gBAAxC,CAA0D,CAChE,GAAI,SAAJ,CAAc,QAAd,CAAwB,MAAxB,CAEA,SAAW,KAAX,CACA,SAAW,WAAW,KAAK,KAAL,EAAX,CAAyB,UAAY,CAAE,SAAW,IAAX,CAAkB,CAAzD,CAAX,CACA,OAAS,SAAS,MAAlB,CAEA,SAAW,UAAY,UAAY,CAAE,MAAO,MAAP,CAAe,CAApD,CAEA,GAAI,MAAO,SAAP,GAAoB,UAAxB,CAAoC,CACnC,SAAY,SAAU,QAAV,CAAoB,CAC/B,MAAO,WAAY,CAAE,MAAO,QAAO,KAAP,CAAa,QAAb,CAAP,CAAgC,CAArD,CACA,CAFU,CAER,QAFQ,CAAX,CAGA,CAED,QAAS,QAAT,CAAiB,MAAjB,CAAyB,CACxB,SAAS,OAAT,CAAiB,MAAjB,EACA,CAED,QAAS,SAAT,CAAkB,MAAlB,CAA0B,CACzB,QAAQ,QAAR,EAAkB,IAAlB,CAAuB,IAAvB,CAA6B,MAA7B,EACA,GAAI,SAAW,IAAK,EAApB,CAAuB,CACtB,SAAS,MAAT,CAAgB,MAAhB,EACA,CACD,CAED,QAAS,KAAT,EAAgB,CACf,GAAI,QAAJ,CAAc,CAAE,OAAS,CACzB,KAAK,MAAL,CACC,SAAU,MAAV,CAAkB,CACjB,KAAK,SAAS,MAAT,CAAL,CACC,SAAU,YAAV,CAAwB,CACvB,MAAO,cAAe,QAAQ,MAAR,CAAf,CAAiC,SAAS,MAAT,CAAxC,CACA,CAHF,CAIC,UAAY,CAAE,SAAS,MAAT,EAAmB,CAJlC,EAMA,CARF,CASC,MATD,EAWA,CAED,GAAI,gBAAJ,CAAsB,CACrB,WACA,CAFD,IAEO,CACN;AACA,OACA,CAED;AACA,SAAS,OAAT,CAAmB,OAAO,MAAP,CAAc,SAAS,OAAvB,CAAnB,CACA,SAAS,OAAT,CAAiB,MAAjB,CAA0B,SAAS,MAAnC,CAEA,MAAO,UAAS,OAAhB,CACA,CArDD,CAuDA,CArGD,EAsGC,CAvGD,EAuGG,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAU,OAAV,CAAmB,CAAE,OAAO,OAAP,CAAiB,QAAQ,OAAR,CAAjB,CAAoC,CAvGlH,EAyGC,CApHmB,CAoHlB,CAAC,eAAe,CAAhB,CAAkB,SAAS,EAA3B,CApHkB,CAzgH2pB,CA6nH7oB,GAAG,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CACtE,8EAEA;;;;;;;;GAUA,CAAC,SAAS,MAAT,CAAiB,CAClB,OAAO,SAAS,OAAT,CAAkB,CAExB,GAAI,MAAO,QAAQ,QAAR,CAAX,CACA,GAAI,KAAM,KAAK,OAAL,CAAa,GAAvB,CACA,GAAI,OAAQ,MAAM,SAAN,CAAgB,KAA5B,CAEA;;;;;;;IAQA,MAAO,SAAS,SAAT,CAAkB,KAAM,cAAxB,CAAwC,CAC9C,GAAI,SAAU,EAAd,CAEA,MAAO,KAAI,MAAM,IAAN,CAAW,SAAX,CAAsB,CAAtB,CAAJ,EAA8B,IAA9B,CAAmC,SAAS,IAAT,CAAe,CACxD,MAAO,MAAK,MAAL,CAAY,KAAZ,CAAmB,SAAS,OAAT,CAAkB,IAAlB,CAAwB,CACjD,MAAO,MAAK,KAAK,KAAL,CAAW,IAAK,EAAhB,CAAmB,IAAnB,CAAL,CAA+B,SAA/B,CAAP,CACA,CAFM,CAEJ,OAFI,CAAP,CAGA,CAJM,CAAP,CAMA,QAAS,UAAT,CAAmB,MAAnB,CAA2B,CAC1B,QAAQ,IAAR,CAAa,MAAb,EACA,MAAO,QAAP,CACA,CACD,CAbD,CAeA,CA7BD,EA8BC,CA/BD,EA+BG,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAU,OAAV,CAAmB,CAAE,OAAO,OAAP,CAAiB,QAAQ,OAAR,CAAjB,CAAoC,CA/BlH,EAmCC,CAhDoC,CAgDnC,CAAC,SAAS,EAAV,CAhDmC,CA7nH0oB,CA6qH9pB,GAAG,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CACrD,8EAEA;;;;;;;;GAUA,CAAC,SAAS,MAAT,CAAiB,CAClB,OAAO,SAAS,OAAT,CAAkB,CAExB,GAAI,MAAO,QAAQ,QAAR,CAAX,CAEG;;OAGA,MAAO,SAAS,QAAT,CAAiB,IAAjB,CAAuB,OAAvB,CAAgC,CACzC,MAAO,MAAK,OAAL,EAAc,OAAd,CAAsB,IAAtB,CAAP,CACG,CAFD,CAGH,CAVD,EAWC,CAZD,EAYG,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAU,OAAV,CAAmB,CAAE,OAAO,OAAP,CAAiB,QAAQ,OAAR,CAAjB,CAAoC,CAZlH,EAgBC,CA7BmB,CA6BlB,CAAC,SAAS,EAAV,CA7BkB,CA7qH2pB,CA0sH9pB,GAAG,CAAC,SAAS,OAAT,CAAiB,MAAjB,CAAwB,OAAxB,CAAgC,CACrD,8EAEA;;;;;GAMA,CAAC,SAAS,MAAT,CAAiB,CAAE,aACpB,OAAO,SAAU,OAAV,CAAmB,CAEzB,GAAI,OAAQ,QAAQ,wBAAR,CAAZ,CACA,GAAI,OAAQ,QAAQ,wBAAR,CAAZ,CACA,GAAI,MAAO,QAAQ,uBAAR,CAAX,CACA,GAAI,MAAO,QAAQ,uBAAR,CAAX,CACA,GAAI,SAAU,QAAQ,0BAAR,CAAd,CACA,GAAI,UAAW,QAAQ,0BAAR,CAAf,CACA,GAAI,UAAW,QAAQ,2BAAR,CAAf,CACA,GAAI,UAAW,QAAQ,uBAAR,CAAf,CACA,GAAI,oBAAqB,QAAQ,qCAAR,CAAzB,CACA,GAAI,cAAe,QAAQ,oBAAR,CAAnB,CAEA,GAAI,SAAU,CAAC,KAAD,CAAQ,IAAR,CAAc,IAAd,CAAoB,QAApB,CAA8B,QAA9B,CACb,OADa,CACJ,QADI,CACM,KADN,CACa,kBADb,EAEZ,MAFY,CAEL,SAAS,OAAT,CAAkB,OAAlB,CAA2B,CAClC,MAAO,SAAQ,OAAR,CAAP,CACA,CAJY,CAIV,QAAQ,eAAR,CAJU,CAAd,CAMA,GAAI,OAAQ,QAAQ,aAAR,EAAuB,OAAvB,CAAZ,CAEA;AAEA,KAAK,OAAL,CAAmB,OAAnB,CAAyC;AACzC,KAAK,OAAL,CAAmB,QAAQ,OAA3B,CAAyC;AACzC,KAAK,MAAL,CAAmB,QAAQ,MAA3B,CAAyC;AAEzC,KAAK,IAAL,CAAmB,IAAnB,CAAyC;AACzC,KAAK,KAAL,EAAmB,OAAnB,CAAyC;AACzC,KAAK,OAAL,CAAmB,OAAnB,CAAyC;AAEzC,KAAK,OAAL,CAAmB,QAAQ,OAA3B,CAAyC;AACzC,KAAK,MAAL,CAAmB,QAAQ,MAA3B,CAAyC;AAEzC,KAAK,IAAL,CAAmB,IAAnB,CAAyC;AAEzC,KAAK,GAAL,CAAmB,GAAnB,CAAyC;AACzC,KAAK,MAAL,CAAmB,MAAnB,CAAyC;AAEzC,KAAK,GAAL,CAAmB,KAAK,QAAQ,GAAb,CAAnB,CAAyC;AACzC,KAAK,IAAL,CAAmB,KAAK,QAAQ,IAAb,CAAnB,CAAyC;AACzC,KAAK,IAAL,CAAmB,KAAK,QAAQ,IAAb,CAAnB,CAAyC;AAEzC,KAAK,GAAL,CAAmB,GAAnB,CAAyC;AACzC,KAAK,MAAL,CAAmB,MAAnB,CAAyC;AACzC,KAAK,MAAL,CAAmB,KAAK,QAAQ,MAAb,CAAnB,CAA+C;AAC/C,KAAK,WAAL,CAAmB,KAAK,QAAQ,WAAb,CAAnB,CAA+C;AAE/C,KAAK,aAAL,CAAqB,aAArB,CAAyC;AAEzC,KAAK,OAAL,CAAmB,OAAnB,CAAyC;AACzC,KAAK,KAAL,CAAmB,KAAnB,CAAyC;AAEzC;AAEA,KAAK,YAAL,CAAoB,YAApB,CAEA;;;;;;;;;;;;;;IAeA,QAAS,KAAT,CAAc,CAAd,CAAiB,WAAjB,CAA8B,UAA9B,CAA0C,UAA1C,CAAsD,CACrD,GAAI,GAAI,QAAQ,OAAR,CAAgB,CAAhB,CAAR,CACA,GAAI,UAAU,MAAV,CAAmB,CAAvB,CAA0B,CACzB,MAAO,EAAP,CACA,CAED,MAAO,GAAE,IAAF,CAAO,WAAP,CAAoB,UAApB,CAAgC,UAAhC,CAAP,CACA,CAED;;;;IAKA,QAAS,QAAT,CAAiB,QAAjB,CAA2B,CAC1B,MAAO,IAAI,QAAJ,CAAY,QAAZ,CAAP,CACA,CAED;;;;;IAMA,QAAS,KAAT,CAAc,CAAd,CAAiB,CAChB,MAAO,WAAW,CACjB,IAAI,GAAI,GAAE,CAAN,CAAS,EAAE,UAAU,MAArB,CAA6B,EAAE,GAAI,MAAJ,CAAU,CAAV,CAAnC,CAAiD,EAAE,CAAnD,CAAsD,EAAE,CAAxD,CAA2D,CAC1D,EAAE,CAAF,EAAO,UAAU,CAAV,CAAP,CACA,CACD,MAAO,OAAM,CAAN,CAAS,IAAT,CAAe,CAAf,CAAP,CACA,CALD,CAMA,CAED;;;;;IAMA,QAAS,QAAT,CAAiB,CAAE,cAAnB,CAAmC,CAClC,0BACA,IAAI,GAAI,GAAE,CAAN,CAAS,EAAE,UAAU,MAAV,CAAiB,CAA5B,CAA+B,EAAE,GAAI,MAAJ,CAAU,CAAV,CAArC,CAAmD,EAAE,CAArD,CAAwD,EAAE,CAA1D,CAA6D,CAC5D,EAAE,CAAF,EAAO,UAAU,EAAE,CAAZ,CAAP,CACA,CACD,MAAO,OAAM,CAAN,CAAS,IAAT,CAAe,CAAf,CAAP,CACA,CAED;;;;IAKA,QAAS,MAAT,EAAiB,CAChB,MAAO,IAAI,SAAJ,EAAP,CACA,CAED,QAAS,SAAT,EAAoB,CACnB,GAAI,GAAI,QAAQ,MAAR,EAAR,CAEA,QAAS,QAAT,CAAiB,CAAjB,CAAoB,CAAE,EAAE,QAAF,CAAW,OAAX,CAAmB,CAAnB,EAAwB,CAC9C,QAAS,OAAT,CAAgB,CAAhB,CAAmB,CAAE,EAAE,QAAF,CAAW,MAAX,CAAkB,CAAlB,EAAuB,CAC5C,QAAS,OAAT,CAAgB,CAAhB,CAAmB,CAAE,EAAE,QAAF,CAAW,MAAX,CAAkB,CAAlB,EAAuB,CAE5C,KAAK,OAAL,CAAe,CAAf,CACA,KAAK,OAAL,CAAe,OAAf,CACA,KAAK,MAAL,CAAc,MAAd,CACA,KAAK,MAAL,CAAc,MAAd,CACA,KAAK,QAAL,CAAgB,CAAE,QAAS,OAAX,CAAoB,OAAQ,MAA5B,CAAoC,OAAQ,MAA5C,CAAhB,CACA,CAED;;;;;;;IAQA,QAAS,cAAT,CAAuB,CAAvB,CAA0B,CACzB,MAAO,IAAK,MAAO,GAAE,IAAT,GAAkB,UAA9B,CACA,CAED;;;;;;IAOA,QAAS,KAAT,EAAc,iBAAmB,CAChC,MAAO,SAAQ,GAAR,CAAY,SAAZ,CAAP,CACA,CAED;;;;;IAMA,QAAS,IAAT,CAAa,QAAb,CAAuB,CACtB,MAAO,MAAK,QAAL,CAAe,QAAQ,GAAvB,CAAP,CACA,CAED;;;;;;IAOA,QAAS,OAAT,CAAgB,QAAhB,CAA0B,CACzB,MAAO,MAAK,QAAL,CAAe,QAAQ,MAAvB,CAAP,CACA,CAED;;;;;;;;IASA,QAAS,IAAT,CAAa,QAAb,CAAuB,OAAvB,CAAgC,CAC/B,MAAO,MAAK,QAAL,CAAe,SAAS,QAAT,CAAmB,CACxC,MAAO,SAAQ,GAAR,CAAY,QAAZ,CAAsB,OAAtB,CAAP,CACA,CAFM,CAAP,CAGA,CAED;;;;;;;;IASA,QAAS,OAAT,CAAgB,QAAhB,CAA0B,SAA1B,CAAqC,CACpC,MAAO,MAAK,QAAL,CAAe,SAAS,QAAT,CAAmB,CACxC,MAAO,SAAQ,MAAR,CAAe,QAAf,CAAyB,SAAzB,CAAP,CACA,CAFM,CAAP,CAGA,CAED,MAAO,KAAP,CACA,CAzND,EA0NC,CA3ND,EA2NG,MAAO,OAAP,GAAkB,UAAlB,EAAgC,OAAO,GAAvC,CAA6C,MAA7C,CAAsD,SAAU,OAAV,CAAmB,CAAE,OAAO,OAAP,CAAiB,QAAQ,OAAR,CAAjB,CAAoC,CA3NlH,EA6NC,CAtOmB,CAsOlB,CAAC,gBAAgB,CAAjB,CAAmB,qBAAqB,EAAxC,CAA2C,cAAc,EAAzD,CAA4D,yBAAyB,EAArF,CAAwF,wBAAwB,EAAhH,CAAmH,wBAAwB,EAA3I,CAA8I,2BAA2B,EAAzK,CAA4K,2BAA2B,EAAvM,CAA0M,4BAA4B,EAAtO,CAAyO,yBAAyB,EAAlQ,CAAqQ,sCAAsC,EAA3S,CAA8S,wBAAwB,EAAtU,CAtOkB,CA1sH2pB,CAAzZ,CAg7HwD,EAh7HxD,CAg7H2D,CAAC,CAAD,CAh7H3D,CAi7HtR;AAj7HsR,CAk7HrR,CAl7HqR,CAAP,CAm7H9Q,CAn7HA,CAAD,CAo7HA","file":"when.debug-compiled.js","sourcesContent":["!function(e){\"object\"==typeof exports?module.exports=e():\"function\"==typeof define&&define.amd?define(e):\"undefined\"!=typeof window?window.when=e():\"undefined\"!=typeof global?global.when=e():\"undefined\"!=typeof self&&(self.when=e())}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error(\"Cannot find module '\"+o+\"'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nrequire('../monitor/console');\nmodule.exports = require('./when.browserify.js');\n\n\n},{\"../monitor/console\":30,\"./when.browserify.js\":2}],2:[function(require,module,exports){\nvar when = module.exports = require('../when');\n\nwhen.callbacks = require('../callbacks');\nwhen.cancelable = require('../cancelable');\nwhen.delay = require('../delay');\nwhen.fn = require('../function');\nwhen.guard = require('../guard');\nwhen.keys = require('../keys');\nwhen.nodefn = when.node = require('../node');\nwhen.parallel = require('../parallel');\nwhen.pipeline = require('../pipeline');\nwhen.poll = require('../poll');\nwhen.sequence = require('../sequence');\nwhen.timeout = require('../timeout');\n\n},{\"../callbacks\":3,\"../cancelable\":4,\"../delay\":5,\"../function\":6,\"../guard\":7,\"../keys\":8,\"../node\":32,\"../parallel\":33,\"../pipeline\":34,\"../poll\":35,\"../sequence\":36,\"../timeout\":37,\"../when\":38}],3:[function(require,module,exports){\n/** @license MIT License (c) copyright 2013-2014 original author or authors */\n\n/**\n * Collection of helper functions for interacting with 'traditional',\n * callback-taking functions using a promise interface.\n *\n * @author Renato Zannon\n * @contributor Brian Cavalier\n */\n\n(function(define) {\ndefine(function(require) {\n\n\tvar when = require('./when');\n\tvar Promise = when.Promise;\n\tvar _liftAll = require('./lib/liftAll');\n\tvar slice = Array.prototype.slice;\n\n\tvar makeApply = require('./lib/apply');\n\tvar _apply = makeApply(Promise, dispatch);\n\n\treturn {\n\t\tlift: lift,\n\t\tliftAll: liftAll,\n\t\tapply: apply,\n\t\tcall: call,\n\t\tpromisify: promisify\n\t};\n\n\t/**\n\t * Takes a `traditional` callback-taking function and returns a promise for its\n\t * result, accepting an optional array of arguments (that might be values or\n\t * promises). It assumes that the function takes its callback and errback as\n\t * the last two arguments. The resolution of the promise depends on whether the\n\t * function will call its callback or its errback.\n\t *\n\t * @example\n\t *    var domIsLoaded = callbacks.apply($);\n\t *    domIsLoaded.then(function() {\n\t *\t\tdoMyDomStuff();\n\t *\t});\n\t *\n\t * @example\n\t *    function existingAjaxyFunction(url, callback, errback) {\n\t *\t\t// Complex logic you'd rather not change\n\t *\t}\n\t *\n\t *    var promise = callbacks.apply(existingAjaxyFunction, [\"/movies.json\"]);\n\t *\n\t *    promise.then(function(movies) {\n\t *\t\t// Work with movies\n\t *\t}, function(reason) {\n\t *\t\t// Handle error\n\t *\t});\n\t *\n\t * @param {function} asyncFunction function to be called\n\t * @param {Array} [extraAsyncArgs] array of arguments to asyncFunction\n\t * @returns {Promise} promise for the callback value of asyncFunction\n\t */\n\tfunction apply(asyncFunction, extraAsyncArgs) {\n\t\treturn _apply(asyncFunction, this, extraAsyncArgs || []);\n\t}\n\n\t/**\n\t * Apply helper that allows specifying thisArg\n\t * @private\n\t */\n\tfunction dispatch(f, thisArg, args, h) {\n\t\targs.push(alwaysUnary(h.resolve, h), alwaysUnary(h.reject, h));\n\t\ttryCatchResolve(f, thisArg, args, h);\n\t}\n\n\tfunction tryCatchResolve(f, thisArg, args, resolver) {\n\t\ttry {\n\t\t\tf.apply(thisArg, args);\n\t\t} catch(e) {\n\t\t\tresolver.reject(e);\n\t\t}\n\t}\n\n\t/**\n\t * Works as `callbacks.apply` does, with the difference that the arguments to\n\t * the function are passed individually, instead of as an array.\n\t *\n\t * @example\n\t *    function sumInFiveSeconds(a, b, callback) {\n\t *\t\tsetTimeout(function() {\n\t *\t\t\tcallback(a + b);\n\t *\t\t}, 5000);\n\t *\t}\n\t *\n\t *    var sumPromise = callbacks.call(sumInFiveSeconds, 5, 10);\n\t *\n\t *    // Logs '15' 5 seconds later\n\t *    sumPromise.then(console.log);\n\t *\n\t * @param {function} asyncFunction function to be called\n\t * @param {...*} args arguments that will be forwarded to the function\n\t * @returns {Promise} promise for the callback value of asyncFunction\n\t */\n\tfunction call(asyncFunction/*, arg1, arg2...*/) {\n\t\treturn _apply(asyncFunction, this, slice.call(arguments, 1));\n\t}\n\n\t/**\n\t * Takes a 'traditional' callback/errback-taking function and returns a function\n\t * that returns a promise instead. The resolution/rejection of the promise\n\t * depends on whether the original function will call its callback or its\n\t * errback.\n\t *\n\t * If additional arguments are passed to the `lift` call, they will be prepended\n\t * on the calls to the original function, much like `Function.prototype.bind`.\n\t *\n\t * The resulting function is also \"promise-aware\", in the sense that, if given\n\t * promises as arguments, it will wait for their resolution before executing.\n\t *\n\t * @example\n\t *    function traditionalAjax(method, url, callback, errback) {\n\t *\t\tvar xhr = new XMLHttpRequest();\n\t *\t\txhr.open(method, url);\n\t *\n\t *\t\txhr.onload = callback;\n\t *\t\txhr.onerror = errback;\n\t *\n\t *\t\txhr.send();\n\t *\t}\n\t *\n\t *    var promiseAjax = callbacks.lift(traditionalAjax);\n\t *    promiseAjax(\"GET\", \"/movies.json\").then(console.log, console.error);\n\t *\n\t *    var promiseAjaxGet = callbacks.lift(traditionalAjax, \"GET\");\n\t *    promiseAjaxGet(\"/movies.json\").then(console.log, console.error);\n\t *\n\t * @param {Function} f traditional async function to be decorated\n\t * @param {...*} [args] arguments to be prepended for the new function @deprecated\n\t * @returns {Function} a promise-returning function\n\t */\n\tfunction lift(f/*, args...*/) {\n\t\tvar args = arguments.length > 1 ? slice.call(arguments, 1) : [];\n\t\treturn function() {\n\t\t\treturn _apply(f, this, args.concat(slice.call(arguments)));\n\t\t};\n\t}\n\n\t/**\n\t * Lift all the functions/methods on src\n\t * @param {object|function} src source whose functions will be lifted\n\t * @param {function?} combine optional function for customizing the lifting\n\t *  process. It is passed dst, the lifted function, and the property name of\n\t *  the original function on src.\n\t * @param {(object|function)?} dst option destination host onto which to place lifted\n\t *  functions. If not provided, liftAll returns a new object.\n\t * @returns {*} If dst is provided, returns dst with lifted functions as\n\t *  properties.  If dst not provided, returns a new object with lifted functions.\n\t */\n\tfunction liftAll(src, combine, dst) {\n\t\treturn _liftAll(lift, combine, dst, src);\n\t}\n\n\t/**\n\t * `promisify` is a version of `lift` that allows fine-grained control over the\n\t * arguments that passed to the underlying function. It is intended to handle\n\t * functions that don't follow the common callback and errback positions.\n\t *\n\t * The control is done by passing an object whose 'callback' and/or 'errback'\n\t * keys, whose values are the corresponding 0-based indexes of the arguments on\n\t * the function. Negative values are interpreted as being relative to the end\n\t * of the arguments array.\n\t *\n\t * If arguments are given on the call to the 'promisified' function, they are\n\t * intermingled with the callback and errback. If a promise is given among them,\n\t * the execution of the function will only occur after its resolution.\n\t *\n\t * @example\n\t *    var delay = callbacks.promisify(setTimeout, {\n\t *\t\tcallback: 0\n\t *\t});\n\t *\n\t *    delay(100).then(function() {\n\t *\t\tconsole.log(\"This happens 100ms afterwards\");\n\t *\t});\n\t *\n\t * @example\n\t *    function callbackAsLast(errback, followsStandards, callback) {\n\t *\t\tif(followsStandards) {\n\t *\t\t\tcallback(\"well done!\");\n\t *\t\t} else {\n\t *\t\t\terrback(\"some programmers just want to watch the world burn\");\n\t *\t\t}\n\t *\t}\n\t *\n\t *    var promisified = callbacks.promisify(callbackAsLast, {\n\t *\t\tcallback: -1,\n\t *\t\terrback:   0,\n\t *\t});\n\t *\n\t *    promisified(true).then(console.log, console.error);\n\t *    promisified(false).then(console.log, console.error);\n\t *\n\t * @param {Function} asyncFunction traditional function to be decorated\n\t * @param {object} positions\n\t * @param {number} [positions.callback] index at which asyncFunction expects to\n\t *  receive a success callback\n\t * @param {number} [positions.errback] index at which asyncFunction expects to\n\t *  receive an error callback\n\t *  @returns {function} promisified function that accepts\n\t *\n\t * @deprecated\n\t */\n\tfunction promisify(asyncFunction, positions) {\n\n\t\treturn function() {\n\t\t\tvar thisArg = this;\n\t\t\treturn Promise.all(arguments).then(function(args) {\n\t\t\t\tvar p = Promise._defer();\n\n\t\t\t\tvar callbackPos, errbackPos;\n\n\t\t\t\tif(typeof positions.callback === 'number') {\n\t\t\t\t\tcallbackPos = normalizePosition(args, positions.callback);\n\t\t\t\t}\n\n\t\t\t\tif(typeof positions.errback === 'number') {\n\t\t\t\t\terrbackPos = normalizePosition(args, positions.errback);\n\t\t\t\t}\n\n\t\t\t\tif(errbackPos < callbackPos) {\n\t\t\t\t\tinsertCallback(args, errbackPos, p._handler.reject, p._handler);\n\t\t\t\t\tinsertCallback(args, callbackPos, p._handler.resolve, p._handler);\n\t\t\t\t} else {\n\t\t\t\t\tinsertCallback(args, callbackPos, p._handler.resolve, p._handler);\n\t\t\t\t\tinsertCallback(args, errbackPos, p._handler.reject, p._handler);\n\t\t\t\t}\n\n\t\t\t\tasyncFunction.apply(thisArg, args);\n\n\t\t\t\treturn p;\n\t\t\t});\n\t\t};\n\t}\n\n\tfunction normalizePosition(args, pos) {\n\t\treturn pos < 0 ? (args.length + pos + 2) : pos;\n\t}\n\n\tfunction insertCallback(args, pos, callback, thisArg) {\n\t\tif(typeof pos === 'number') {\n\t\t\targs.splice(pos, 0, alwaysUnary(callback, thisArg));\n\t\t}\n\t}\n\n\tfunction alwaysUnary(fn, thisArg) {\n\t\treturn function() {\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tfn.call(thisArg, slice.call(arguments));\n\t\t\t} else {\n\t\t\t\tfn.apply(thisArg, arguments);\n\t\t\t}\n\t\t};\n\t}\n});\n})(typeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); });\n\n},{\"./lib/apply\":12,\"./lib/liftAll\":24,\"./when\":38}],4:[function(require,module,exports){\n/** @license MIT License (c) copyright B Cavalier & J Hann */\n\n/**\n * cancelable.js\n * @deprecated\n *\n * Decorator that makes a deferred \"cancelable\".  It adds a cancel() method that\n * will call a special cancel handler function and then reject the deferred.  The\n * cancel handler can be used to do resource cleanup, or anything else that should\n * be done before any other rejection handlers are executed.\n *\n * Usage:\n *\n * var cancelableDeferred = cancelable(when.defer(), myCancelHandler);\n *\n * @author brian@hovercraftstudios.com\n */\n\n(function(define) {\ndefine(function() {\n\n    /**\n     * Makes deferred cancelable, adding a cancel() method.\n\t * @deprecated\n     *\n     * @param deferred {Deferred} the {@link Deferred} to make cancelable\n     * @param canceler {Function} cancel handler function to execute when this deferred\n\t * is canceled.  This is guaranteed to run before all other rejection handlers.\n\t * The canceler will NOT be executed if the deferred is rejected in the standard\n\t * way, i.e. deferred.reject().  It ONLY executes if the deferred is canceled,\n\t * i.e. deferred.cancel()\n     *\n     * @returns deferred, with an added cancel() method.\n     */\n    return function(deferred, canceler) {\n        // Add a cancel method to the deferred to reject the delegate\n        // with the special canceled indicator.\n        deferred.cancel = function() {\n\t\t\ttry {\n\t\t\t\tdeferred.reject(canceler(deferred));\n\t\t\t} catch(e) {\n\t\t\t\tdeferred.reject(e);\n\t\t\t}\n\n\t\t\treturn deferred.promise;\n        };\n\n        return deferred;\n    };\n\n});\n})(typeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(); });\n\n\n\n},{}],5:[function(require,module,exports){\n/** @license MIT License (c) copyright 2011-2013 original author or authors */\n\n/**\n * delay.js\n *\n * Helper that returns a promise that resolves after a delay.\n *\n * @author Brian Cavalier\n * @author John Hann\n */\n\n(function(define) {\ndefine(function(require) {\n\n\tvar when = require('./when');\n\n    /**\n\t * @deprecated Use when(value).delay(ms)\n     */\n    return function delay(msec, value) {\n\t\treturn when(value).delay(msec);\n    };\n\n});\n})(typeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); });\n\n\n\n},{\"./when\":38}],6:[function(require,module,exports){\n/** @license MIT License (c) copyright 2013-2014 original author or authors */\n\n/**\n * Collection of helper functions for wrapping and executing 'traditional'\n * synchronous functions in a promise interface.\n *\n * @author Brian Cavalier\n * @contributor Renato Zannon\n */\n\n(function(define) {\ndefine(function(require) {\n\n\tvar when = require('./when');\n\tvar attempt = when['try'];\n\tvar _liftAll = require('./lib/liftAll');\n\tvar _apply = require('./lib/apply')(when.Promise);\n\tvar slice = Array.prototype.slice;\n\n\treturn {\n\t\tlift: lift,\n\t\tliftAll: liftAll,\n\t\tcall: attempt,\n\t\tapply: apply,\n\t\tcompose: compose\n\t};\n\n\t/**\n\t * Takes a function and an optional array of arguments (that might be promises),\n\t * and calls the function. The return value is a promise whose resolution\n\t * depends on the value returned by the function.\n\t * @param {function} f function to be called\n\t * @param {Array} [args] array of arguments to func\n\t * @returns {Promise} promise for the return value of func\n\t */\n\tfunction apply(f, args) {\n\t\t// slice args just in case the caller passed an Arguments instance\n\t\treturn _apply(f, this, args == null ? [] : slice.call(args));\n\t}\n\n\t/**\n\t * Takes a 'regular' function and returns a version of that function that\n\t * returns a promise instead of a plain value, and handles thrown errors by\n\t * returning a rejected promise. Also accepts a list of arguments to be\n\t * prepended to the new function, as does Function.prototype.bind.\n\t *\n\t * The resulting function is promise-aware, in the sense that it accepts\n\t * promise arguments, and waits for their resolution.\n\t * @param {Function} f function to be bound\n\t * @param {...*} [args] arguments to be prepended for the new function @deprecated\n\t * @returns {Function} a promise-returning function\n\t */\n\tfunction lift(f /*, args... */) {\n\t\tvar args = arguments.length > 1 ? slice.call(arguments, 1) : [];\n\t\treturn function() {\n\t\t\treturn _apply(f, this, args.concat(slice.call(arguments)));\n\t\t};\n\t}\n\n\t/**\n\t * Lift all the functions/methods on src\n\t * @param {object|function} src source whose functions will be lifted\n\t * @param {function?} combine optional function for customizing the lifting\n\t *  process. It is passed dst, the lifted function, and the property name of\n\t *  the original function on src.\n\t * @param {(object|function)?} dst option destination host onto which to place lifted\n\t *  functions. If not provided, liftAll returns a new object.\n\t * @returns {*} If dst is provided, returns dst with lifted functions as\n\t *  properties.  If dst not provided, returns a new object with lifted functions.\n\t */\n\tfunction liftAll(src, combine, dst) {\n\t\treturn _liftAll(lift, combine, dst, src);\n\t}\n\n\t/**\n\t * Composes multiple functions by piping their return values. It is\n\t * transparent to whether the functions return 'regular' values or promises:\n\t * the piped argument is always a resolved value. If one of the functions\n\t * throws or returns a rejected promise, the composed promise will be also\n\t * rejected.\n\t *\n\t * The arguments (or promises to arguments) given to the returned function (if\n\t * any), are passed directly to the first function on the 'pipeline'.\n\t * @param {Function} f the function to which the arguments will be passed\n\t * @param {...Function} [funcs] functions that will be composed, in order\n\t * @returns {Function} a promise-returning composition of the functions\n\t */\n\tfunction compose(f /*, funcs... */) {\n\t\tvar funcs = slice.call(arguments, 1);\n\n\t\treturn function() {\n\t\t\tvar thisArg = this;\n\t\t\tvar args = slice.call(arguments);\n\t\t\tvar firstPromise = attempt.apply(thisArg, [f].concat(args));\n\n\t\t\treturn when.reduce(funcs, function(arg, func) {\n\t\t\t\treturn func.call(thisArg, arg);\n\t\t\t}, firstPromise);\n\t\t};\n\t}\n});\n})(typeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); });\n\n\n\n},{\"./lib/apply\":12,\"./lib/liftAll\":24,\"./when\":38}],7:[function(require,module,exports){\n/** @license MIT License (c) copyright 2011-2013 original author or authors */\n\n/**\n * Generalized promise concurrency guard\n * Adapted from original concept by Sakari Jokinen (Rocket Pack, Ltd.)\n *\n * @author Brian Cavalier\n * @author John Hann\n * @contributor Sakari Jokinen\n */\n(function(define) {\ndefine(function(require) {\n\n\tvar when = require('./when');\n\tvar slice = Array.prototype.slice;\n\n\tguard.n = n;\n\n\treturn guard;\n\n\t/**\n\t * Creates a guarded version of f that can only be entered when the supplied\n\t * condition allows.\n\t * @param {function} condition represents a critical section that may only\n\t *  be entered when allowed by the condition\n\t * @param {function} f function to guard\n\t * @returns {function} guarded version of f\n\t */\n\tfunction guard(condition, f) {\n\t\treturn function() {\n\t\t\tvar args = slice.call(arguments);\n\n\t\t\treturn when(condition()).withThis(this).then(function(exit) {\n\t\t\t\treturn when(f.apply(this, args))['finally'](exit);\n\t\t\t});\n\t\t};\n\t}\n\n\t/**\n\t * Creates a condition that allows only n simultaneous executions\n\t * of a guarded function\n\t * @param {number} allowed number of allowed simultaneous executions\n\t * @returns {function} condition function which returns a promise that\n\t *  fulfills when the critical section may be entered.  The fulfillment\n\t *  value is a function (\"notifyExit\") that must be called when the critical\n\t *  section has been exited.\n\t */\n\tfunction n(allowed) {\n\t\tvar count = 0;\n\t\tvar waiting = [];\n\n\t\treturn function enter() {\n\t\t\treturn when.promise(function(resolve) {\n\t\t\t\tif(count < allowed) {\n\t\t\t\t\tresolve(exit);\n\t\t\t\t} else {\n\t\t\t\t\twaiting.push(resolve);\n\t\t\t\t}\n\t\t\t\tcount += 1;\n\t\t\t});\n\t\t};\n\n\t\tfunction exit() {\n\t\t\tcount = Math.max(count - 1, 0);\n\t\t\tif(waiting.length > 0) {\n\t\t\t\twaiting.shift()(exit);\n\t\t\t}\n\t\t}\n\t}\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(require); }));\n\n},{\"./when\":38}],8:[function(require,module,exports){\n/** @license MIT License (c) copyright 2011-2013 original author or authors */\n\n/**\n * Licensed under the MIT License at:\n * http://www.opensource.org/licenses/mit-license.php\n *\n * @author Brian Cavalier\n * @author John Hann\n */\n(function(define) { 'use strict';\ndefine(function(require) {\n\n\tvar when = require('./when');\n\tvar Promise = when.Promise;\n\tvar toPromise = when.resolve;\n\n\treturn {\n\t\tall: when.lift(all),\n\t\tmap: map,\n\t\tsettle: settle\n\t};\n\n\t/**\n\t * Resolve all the key-value pairs in the supplied object or promise\n\t * for an object.\n\t * @param {Promise|object} object or promise for object whose key-value pairs\n\t *  will be resolved\n\t * @returns {Promise} promise for an object with the fully resolved key-value pairs\n\t */\n\tfunction all(object) {\n\t\tvar p = Promise._defer();\n\t\tvar resolver = Promise._handler(p);\n\n\t\tvar results = {};\n\t\tvar keys = Object.keys(object);\n\t\tvar pending = keys.length;\n\n\t\tfor(var i=0, k; i<keys.length; ++i) {\n\t\t\tk = keys[i];\n\t\t\tPromise._handler(object[k]).fold(settleKey, k, results, resolver);\n\t\t}\n\n\t\tif(pending === 0) {\n\t\t\tresolver.resolve(results);\n\t\t}\n\n\t\treturn p;\n\n\t\tfunction settleKey(k, x, resolver) {\n\t\t\t/*jshint validthis:true*/\n\t\t\tthis[k] = x;\n\t\t\tif(--pending === 0) {\n\t\t\t\tresolver.resolve(results);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Map values in the supplied object's keys\n\t * @param {Promise|object} object or promise for object whose key-value pairs\n\t *  will be reduced\n\t * @param {function(value:*, key:String):*} f mapping function which may\n\t *  return either a promise or a value\n\t * @returns {Promise} promise for an object with the mapped and fully\n\t *  resolved key-value pairs\n\t */\n\tfunction map(object, f) {\n\t\treturn toPromise(object).then(function(object) {\n\t\t\treturn all(Object.keys(object).reduce(function(o, k) {\n\t\t\t\to[k] = toPromise(object[k]).fold(mapWithKey, k);\n\t\t\t\treturn o;\n\t\t\t}, {}));\n\t\t});\n\n\t\tfunction mapWithKey(k, x) {\n\t\t\treturn f(x, k);\n\t\t}\n\t}\n\n\t/**\n\t * Resolve all key-value pairs in the supplied object and return a promise\n\t * that will always fulfill with the outcome states of all input promises.\n\t * @param {object} object whose key-value pairs will be settled\n\t * @returns {Promise} promise for an object with the mapped and fully\n\t *  settled key-value pairs\n\t */\n\tfunction settle(object) {\n\t\tvar keys = Object.keys(object);\n\t\tvar results = {};\n\n\t\tif(keys.length === 0) {\n\t\t\treturn toPromise(results);\n\t\t}\n\n\t\tvar p = Promise._defer();\n\t\tvar resolver = Promise._handler(p);\n\t\tvar promises = keys.map(function(k) { return object[k]; });\n\n\t\twhen.settle(promises).then(function(states) {\n\t\t\tpopulateResults(keys, states, results, resolver);\n\t\t});\n\n\t\treturn p;\n\t}\n\n\tfunction populateResults(keys, states, results, resolver) {\n\t\tfor(var i=0; i<keys.length; i++) {\n\t\t\tresults[keys[i]] = states[i];\n\t\t}\n\t\tresolver.resolve(results);\n\t}\n\n});\n})(typeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); });\n\n},{\"./when\":38}],9:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function (require) {\n\n\tvar makePromise = require('./makePromise');\n\tvar Scheduler = require('./Scheduler');\n\tvar async = require('./env').asap;\n\n\treturn makePromise({\n\t\tscheduler: new Scheduler(async)\n\t});\n\n});\n})(typeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); });\n\n},{\"./Scheduler\":10,\"./env\":22,\"./makePromise\":25}],10:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function() {\n\n\t// Credit to Twisol (https://github.com/Twisol) for suggesting\n\t// this type of extensible queue + trampoline approach for next-tick conflation.\n\n\t/**\n\t * Async task scheduler\n\t * @param {function} async function to schedule a single async function\n\t * @constructor\n\t */\n\tfunction Scheduler(async) {\n\t\tthis._async = async;\n\t\tthis._running = false;\n\n\t\tthis._queue = this;\n\t\tthis._queueLen = 0;\n\t\tthis._afterQueue = {};\n\t\tthis._afterQueueLen = 0;\n\n\t\tvar self = this;\n\t\tthis.drain = function() {\n\t\t\tself._drain();\n\t\t};\n\t}\n\n\t/**\n\t * Enqueue a task\n\t * @param {{ run:function }} task\n\t */\n\tScheduler.prototype.enqueue = function(task) {\n\t\tthis._queue[this._queueLen++] = task;\n\t\tthis.run();\n\t};\n\n\t/**\n\t * Enqueue a task to run after the main task queue\n\t * @param {{ run:function }} task\n\t */\n\tScheduler.prototype.afterQueue = function(task) {\n\t\tthis._afterQueue[this._afterQueueLen++] = task;\n\t\tthis.run();\n\t};\n\n\tScheduler.prototype.run = function() {\n\t\tif (!this._running) {\n\t\t\tthis._running = true;\n\t\t\tthis._async(this.drain);\n\t\t}\n\t};\n\n\t/**\n\t * Drain the handler queue entirely, and then the after queue\n\t */\n\tScheduler.prototype._drain = function() {\n\t\tvar i = 0;\n\t\tfor (; i < this._queueLen; ++i) {\n\t\t\tthis._queue[i].run();\n\t\t\tthis._queue[i] = void 0;\n\t\t}\n\n\t\tthis._queueLen = 0;\n\t\tthis._running = false;\n\n\t\tfor (i = 0; i < this._afterQueueLen; ++i) {\n\t\t\tthis._afterQueue[i].run();\n\t\t\tthis._afterQueue[i] = void 0;\n\t\t}\n\n\t\tthis._afterQueueLen = 0;\n\t};\n\n\treturn Scheduler;\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(); }));\n\n},{}],11:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function() {\n\n\t/**\n\t * Custom error type for promises rejected by promise.timeout\n\t * @param {string} message\n\t * @constructor\n\t */\n\tfunction TimeoutError (message) {\n\t\tError.call(this);\n\t\tthis.message = message;\n\t\tthis.name = TimeoutError.name;\n\t\tif (typeof Error.captureStackTrace === 'function') {\n\t\t\tError.captureStackTrace(this, TimeoutError);\n\t\t}\n\t}\n\n\tTimeoutError.prototype = Object.create(Error.prototype);\n\tTimeoutError.prototype.constructor = TimeoutError;\n\n\treturn TimeoutError;\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(); }));\n},{}],12:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function() {\n\n\tmakeApply.tryCatchResolve = tryCatchResolve;\n\n\treturn makeApply;\n\n\tfunction makeApply(Promise, call) {\n\t\tif(arguments.length < 2) {\n\t\t\tcall = tryCatchResolve;\n\t\t}\n\n\t\treturn apply;\n\n\t\tfunction apply(f, thisArg, args) {\n\t\t\tvar p = Promise._defer();\n\t\t\tvar l = args.length;\n\t\t\tvar params = new Array(l);\n\t\t\tcallAndResolve({ f:f, thisArg:thisArg, args:args, params:params, i:l-1, call:call }, p._handler);\n\n\t\t\treturn p;\n\t\t}\n\n\t\tfunction callAndResolve(c, h) {\n\t\t\tif(c.i < 0) {\n\t\t\t\treturn call(c.f, c.thisArg, c.params, h);\n\t\t\t}\n\n\t\t\tvar handler = Promise._handler(c.args[c.i]);\n\t\t\thandler.fold(callAndResolveNext, c, void 0, h);\n\t\t}\n\n\t\tfunction callAndResolveNext(c, x, h) {\n\t\t\tc.params[c.i] = x;\n\t\t\tc.i -= 1;\n\t\t\tcallAndResolve(c, h);\n\t\t}\n\t}\n\n\tfunction tryCatchResolve(f, thisArg, args, resolver) {\n\t\ttry {\n\t\t\tresolver.resolve(f.apply(thisArg, args));\n\t\t} catch(e) {\n\t\t\tresolver.reject(e);\n\t\t}\n\t}\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(); }));\n\n\n\n},{}],13:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function(require) {\n\n\tvar state = require('../state');\n\tvar applier = require('../apply');\n\n\treturn function array(Promise) {\n\n\t\tvar applyFold = applier(Promise);\n\t\tvar toPromise = Promise.resolve;\n\t\tvar all = Promise.all;\n\n\t\tvar ar = Array.prototype.reduce;\n\t\tvar arr = Array.prototype.reduceRight;\n\t\tvar slice = Array.prototype.slice;\n\n\t\t// Additional array combinators\n\n\t\tPromise.any = any;\n\t\tPromise.some = some;\n\t\tPromise.settle = settle;\n\n\t\tPromise.map = map;\n\t\tPromise.filter = filter;\n\t\tPromise.reduce = reduce;\n\t\tPromise.reduceRight = reduceRight;\n\n\t\t/**\n\t\t * When this promise fulfills with an array, do\n\t\t * onFulfilled.apply(void 0, array)\n\t\t * @param {function} onFulfilled function to apply\n\t\t * @returns {Promise} promise for the result of applying onFulfilled\n\t\t */\n\t\tPromise.prototype.spread = function(onFulfilled) {\n\t\t\treturn this.then(all).then(function(array) {\n\t\t\t\treturn onFulfilled.apply(this, array);\n\t\t\t});\n\t\t};\n\n\t\treturn Promise;\n\n\t\t/**\n\t\t * One-winner competitive race.\n\t\t * Return a promise that will fulfill when one of the promises\n\t\t * in the input array fulfills, or will reject when all promises\n\t\t * have rejected.\n\t\t * @param {array} promises\n\t\t * @returns {Promise} promise for the first fulfilled value\n\t\t */\n\t\tfunction any(promises) {\n\t\t\tvar p = Promise._defer();\n\t\t\tvar resolver = p._handler;\n\t\t\tvar l = promises.length>>>0;\n\n\t\t\tvar pending = l;\n\t\t\tvar errors = [];\n\n\t\t\tfor (var h, x, i = 0; i < l; ++i) {\n\t\t\t\tx = promises[i];\n\t\t\t\tif(x === void 0 && !(i in promises)) {\n\t\t\t\t\t--pending;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\th = Promise._handler(x);\n\t\t\t\tif(h.state() > 0) {\n\t\t\t\t\tresolver.become(h);\n\t\t\t\t\tPromise._visitRemaining(promises, i, h);\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\th.visit(resolver, handleFulfill, handleReject);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(pending === 0) {\n\t\t\t\tresolver.reject(new RangeError('any(): array must not be empty'));\n\t\t\t}\n\n\t\t\treturn p;\n\n\t\t\tfunction handleFulfill(x) {\n\t\t\t\t/*jshint validthis:true*/\n\t\t\t\terrors = null;\n\t\t\t\tthis.resolve(x); // this === resolver\n\t\t\t}\n\n\t\t\tfunction handleReject(e) {\n\t\t\t\t/*jshint validthis:true*/\n\t\t\t\tif(this.resolved) { // this === resolver\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\terrors.push(e);\n\t\t\t\tif(--pending === 0) {\n\t\t\t\t\tthis.reject(errors);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * N-winner competitive race\n\t\t * Return a promise that will fulfill when n input promises have\n\t\t * fulfilled, or will reject when it becomes impossible for n\n\t\t * input promises to fulfill (ie when promises.length - n + 1\n\t\t * have rejected)\n\t\t * @param {array} promises\n\t\t * @param {number} n\n\t\t * @returns {Promise} promise for the earliest n fulfillment values\n\t\t *\n\t\t * @deprecated\n\t\t */\n\t\tfunction some(promises, n) {\n\t\t\t/*jshint maxcomplexity:7*/\n\t\t\tvar p = Promise._defer();\n\t\t\tvar resolver = p._handler;\n\n\t\t\tvar results = [];\n\t\t\tvar errors = [];\n\n\t\t\tvar l = promises.length>>>0;\n\t\t\tvar nFulfill = 0;\n\t\t\tvar nReject;\n\t\t\tvar x, i; // reused in both for() loops\n\n\t\t\t// First pass: count actual array items\n\t\t\tfor(i=0; i<l; ++i) {\n\t\t\t\tx = promises[i];\n\t\t\t\tif(x === void 0 && !(i in promises)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t++nFulfill;\n\t\t\t}\n\n\t\t\t// Compute actual goals\n\t\t\tn = Math.max(n, 0);\n\t\t\tnReject = (nFulfill - n + 1);\n\t\t\tnFulfill = Math.min(n, nFulfill);\n\n\t\t\tif(n > nFulfill) {\n\t\t\t\tresolver.reject(new RangeError('some(): array must contain at least '\n\t\t\t\t+ n + ' item(s), but had ' + nFulfill));\n\t\t\t} else if(nFulfill === 0) {\n\t\t\t\tresolver.resolve(results);\n\t\t\t}\n\n\t\t\t// Second pass: observe each array item, make progress toward goals\n\t\t\tfor(i=0; i<l; ++i) {\n\t\t\t\tx = promises[i];\n\t\t\t\tif(x === void 0 && !(i in promises)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tPromise._handler(x).visit(resolver, fulfill, reject, resolver.notify);\n\t\t\t}\n\n\t\t\treturn p;\n\n\t\t\tfunction fulfill(x) {\n\t\t\t\t/*jshint validthis:true*/\n\t\t\t\tif(this.resolved) { // this === resolver\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresults.push(x);\n\t\t\t\tif(--nFulfill === 0) {\n\t\t\t\t\terrors = null;\n\t\t\t\t\tthis.resolve(results);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction reject(e) {\n\t\t\t\t/*jshint validthis:true*/\n\t\t\t\tif(this.resolved) { // this === resolver\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\terrors.push(e);\n\t\t\t\tif(--nReject === 0) {\n\t\t\t\t\tresults = null;\n\t\t\t\t\tthis.reject(errors);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Apply f to the value of each promise in a list of promises\n\t\t * and return a new list containing the results.\n\t\t * @param {array} promises\n\t\t * @param {function(x:*, index:Number):*} f mapping function\n\t\t * @returns {Promise}\n\t\t */\n\t\tfunction map(promises, f) {\n\t\t\treturn Promise._traverse(f, promises);\n\t\t}\n\n\t\t/**\n\t\t * Filter the provided array of promises using the provided predicate.  Input may\n\t\t * contain promises and values\n\t\t * @param {Array} promises array of promises and values\n\t\t * @param {function(x:*, index:Number):boolean} predicate filtering predicate.\n\t\t *  Must return truthy (or promise for truthy) for items to retain.\n\t\t * @returns {Promise} promise that will fulfill with an array containing all items\n\t\t *  for which predicate returned truthy.\n\t\t */\n\t\tfunction filter(promises, predicate) {\n\t\t\tvar a = slice.call(promises);\n\t\t\treturn Promise._traverse(predicate, a).then(function(keep) {\n\t\t\t\treturn filterSync(a, keep);\n\t\t\t});\n\t\t}\n\n\t\tfunction filterSync(promises, keep) {\n\t\t\t// Safe because we know all promises have fulfilled if we've made it this far\n\t\t\tvar l = keep.length;\n\t\t\tvar filtered = new Array(l);\n\t\t\tfor(var i=0, j=0; i<l; ++i) {\n\t\t\t\tif(keep[i]) {\n\t\t\t\t\tfiltered[j++] = Promise._handler(promises[i]).value;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfiltered.length = j;\n\t\t\treturn filtered;\n\n\t\t}\n\n\t\t/**\n\t\t * Return a promise that will always fulfill with an array containing\n\t\t * the outcome states of all input promises.  The returned promise\n\t\t * will never reject.\n\t\t * @param {Array} promises\n\t\t * @returns {Promise} promise for array of settled state descriptors\n\t\t */\n\t\tfunction settle(promises) {\n\t\t\treturn all(promises.map(settleOne));\n\t\t}\n\n\t\tfunction settleOne(p) {\n\t\t\tvar h = Promise._handler(p);\n\t\t\tif(h.state() === 0) {\n\t\t\t\treturn toPromise(p).then(state.fulfilled, state.rejected);\n\t\t\t}\n\n\t\t\th._unreport();\n\t\t\treturn state.inspect(h);\n\t\t}\n\n\t\t/**\n\t\t * Traditional reduce function, similar to `Array.prototype.reduce()`, but\n\t\t * input may contain promises and/or values, and reduceFunc\n\t\t * may return either a value or a promise, *and* initialValue may\n\t\t * be a promise for the starting value.\n\t\t * @param {Array|Promise} promises array or promise for an array of anything,\n\t\t *      may contain a mix of promises and values.\n\t\t * @param {function(accumulated:*, x:*, index:Number):*} f reduce function\n\t\t * @returns {Promise} that will resolve to the final reduced value\n\t\t */\n\t\tfunction reduce(promises, f /*, initialValue */) {\n\t\t\treturn arguments.length > 2 ? ar.call(promises, liftCombine(f), arguments[2])\n\t\t\t\t\t: ar.call(promises, liftCombine(f));\n\t\t}\n\n\t\t/**\n\t\t * Traditional reduce function, similar to `Array.prototype.reduceRight()`, but\n\t\t * input may contain promises and/or values, and reduceFunc\n\t\t * may return either a value or a promise, *and* initialValue may\n\t\t * be a promise for the starting value.\n\t\t * @param {Array|Promise} promises array or promise for an array of anything,\n\t\t *      may contain a mix of promises and values.\n\t\t * @param {function(accumulated:*, x:*, index:Number):*} f reduce function\n\t\t * @returns {Promise} that will resolve to the final reduced value\n\t\t */\n\t\tfunction reduceRight(promises, f /*, initialValue */) {\n\t\t\treturn arguments.length > 2 ? arr.call(promises, liftCombine(f), arguments[2])\n\t\t\t\t\t: arr.call(promises, liftCombine(f));\n\t\t}\n\n\t\tfunction liftCombine(f) {\n\t\t\treturn function(z, x, i) {\n\t\t\t\treturn applyFold(f, void 0, [z,x,i]);\n\t\t\t};\n\t\t}\n\t};\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(require); }));\n\n},{\"../apply\":12,\"../state\":26}],14:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function() {\n\n\treturn function flow(Promise) {\n\n\t\tvar resolve = Promise.resolve;\n\t\tvar reject = Promise.reject;\n\t\tvar origCatch = Promise.prototype['catch'];\n\n\t\t/**\n\t\t * Handle the ultimate fulfillment value or rejection reason, and assume\n\t\t * responsibility for all errors.  If an error propagates out of result\n\t\t * or handleFatalError, it will be rethrown to the host, resulting in a\n\t\t * loud stack track on most platforms and a crash on some.\n\t\t * @param {function?} onResult\n\t\t * @param {function?} onError\n\t\t * @returns {undefined}\n\t\t */\n\t\tPromise.prototype.done = function(onResult, onError) {\n\t\t\tthis._handler.visit(this._handler.receiver, onResult, onError);\n\t\t};\n\n\t\t/**\n\t\t * Add Error-type and predicate matching to catch.  Examples:\n\t\t * promise.catch(TypeError, handleTypeError)\n\t\t *   .catch(predicate, handleMatchedErrors)\n\t\t *   .catch(handleRemainingErrors)\n\t\t * @param onRejected\n\t\t * @returns {*}\n\t\t */\n\t\tPromise.prototype['catch'] = Promise.prototype.otherwise = function(onRejected) {\n\t\t\tif (arguments.length < 2) {\n\t\t\t\treturn origCatch.call(this, onRejected);\n\t\t\t}\n\n\t\t\tif(typeof onRejected !== 'function') {\n\t\t\t\treturn this.ensure(rejectInvalidPredicate);\n\t\t\t}\n\n\t\t\treturn origCatch.call(this, createCatchFilter(arguments[1], onRejected));\n\t\t};\n\n\t\t/**\n\t\t * Wraps the provided catch handler, so that it will only be called\n\t\t * if the predicate evaluates truthy\n\t\t * @param {?function} handler\n\t\t * @param {function} predicate\n\t\t * @returns {function} conditional catch handler\n\t\t */\n\t\tfunction createCatchFilter(handler, predicate) {\n\t\t\treturn function(e) {\n\t\t\t\treturn evaluatePredicate(e, predicate)\n\t\t\t\t\t? handler.call(this, e)\n\t\t\t\t\t: reject(e);\n\t\t\t};\n\t\t}\n\n\t\t/**\n\t\t * Ensures that onFulfilledOrRejected will be called regardless of whether\n\t\t * this promise is fulfilled or rejected.  onFulfilledOrRejected WILL NOT\n\t\t * receive the promises' value or reason.  Any returned value will be disregarded.\n\t\t * onFulfilledOrRejected may throw or return a rejected promise to signal\n\t\t * an additional error.\n\t\t * @param {function} handler handler to be called regardless of\n\t\t *  fulfillment or rejection\n\t\t * @returns {Promise}\n\t\t */\n\t\tPromise.prototype['finally'] = Promise.prototype.ensure = function(handler) {\n\t\t\tif(typeof handler !== 'function') {\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\treturn this.then(function(x) {\n\t\t\t\treturn runSideEffect(handler, this, identity, x);\n\t\t\t}, function(e) {\n\t\t\t\treturn runSideEffect(handler, this, reject, e);\n\t\t\t});\n\t\t};\n\n\t\tfunction runSideEffect (handler, thisArg, propagate, value) {\n\t\t\tvar result = handler.call(thisArg);\n\t\t\treturn maybeThenable(result)\n\t\t\t\t? propagateValue(result, propagate, value)\n\t\t\t\t: propagate(value);\n\t\t}\n\n\t\tfunction propagateValue (result, propagate, x) {\n\t\t\treturn resolve(result).then(function () {\n\t\t\t\treturn propagate(x);\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Recover from a failure by returning a defaultValue.  If defaultValue\n\t\t * is a promise, it's fulfillment value will be used.  If defaultValue is\n\t\t * a promise that rejects, the returned promise will reject with the\n\t\t * same reason.\n\t\t * @param {*} defaultValue\n\t\t * @returns {Promise} new promise\n\t\t */\n\t\tPromise.prototype['else'] = Promise.prototype.orElse = function(defaultValue) {\n\t\t\treturn this.then(void 0, function() {\n\t\t\t\treturn defaultValue;\n\t\t\t});\n\t\t};\n\n\t\t/**\n\t\t * Shortcut for .then(function() { return value; })\n\t\t * @param  {*} value\n\t\t * @return {Promise} a promise that:\n\t\t *  - is fulfilled if value is not a promise, or\n\t\t *  - if value is a promise, will fulfill with its value, or reject\n\t\t *    with its reason.\n\t\t */\n\t\tPromise.prototype['yield'] = function(value) {\n\t\t\treturn this.then(function() {\n\t\t\t\treturn value;\n\t\t\t});\n\t\t};\n\n\t\t/**\n\t\t * Runs a side effect when this promise fulfills, without changing the\n\t\t * fulfillment value.\n\t\t * @param {function} onFulfilledSideEffect\n\t\t * @returns {Promise}\n\t\t */\n\t\tPromise.prototype.tap = function(onFulfilledSideEffect) {\n\t\t\treturn this.then(onFulfilledSideEffect)['yield'](this);\n\t\t};\n\n\t\treturn Promise;\n\t};\n\n\tfunction rejectInvalidPredicate() {\n\t\tthrow new TypeError('catch predicate must be a function');\n\t}\n\n\tfunction evaluatePredicate(e, predicate) {\n\t\treturn isError(predicate) ? e instanceof predicate : predicate(e);\n\t}\n\n\tfunction isError(predicate) {\n\t\treturn predicate === Error\n\t\t\t|| (predicate != null && predicate.prototype instanceof Error);\n\t}\n\n\tfunction maybeThenable(x) {\n\t\treturn (typeof x === 'object' || typeof x === 'function') && x !== null;\n\t}\n\n\tfunction identity(x) {\n\t\treturn x;\n\t}\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(); }));\n\n},{}],15:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n/** @author Jeff Escalante */\n\n(function(define) { 'use strict';\ndefine(function() {\n\n\treturn function fold(Promise) {\n\n\t\tPromise.prototype.fold = function(f, z) {\n\t\t\tvar promise = this._beget();\n\n\t\t\tthis._handler.fold(function(z, x, to) {\n\t\t\t\tPromise._handler(z).fold(function(x, z, to) {\n\t\t\t\t\tto.resolve(f.call(this, z, x));\n\t\t\t\t}, x, this, to);\n\t\t\t}, z, promise._handler.receiver, promise._handler);\n\n\t\t\treturn promise;\n\t\t};\n\n\t\treturn Promise;\n\t};\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(); }));\n\n},{}],16:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function(require) {\n\n\tvar inspect = require('../state').inspect;\n\n\treturn function inspection(Promise) {\n\n\t\tPromise.prototype.inspect = function() {\n\t\t\treturn inspect(Promise._handler(this));\n\t\t};\n\n\t\treturn Promise;\n\t};\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(require); }));\n\n},{\"../state\":26}],17:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function() {\n\n\treturn function generate(Promise) {\n\n\t\tvar resolve = Promise.resolve;\n\n\t\tPromise.iterate = iterate;\n\t\tPromise.unfold = unfold;\n\n\t\treturn Promise;\n\n\t\t/**\n\t\t * @deprecated Use github.com/cujojs/most streams and most.iterate\n\t\t * Generate a (potentially infinite) stream of promised values:\n\t\t * x, f(x), f(f(x)), etc. until condition(x) returns true\n\t\t * @param {function} f function to generate a new x from the previous x\n\t\t * @param {function} condition function that, given the current x, returns\n\t\t *  truthy when the iterate should stop\n\t\t * @param {function} handler function to handle the value produced by f\n\t\t * @param {*|Promise} x starting value, may be a promise\n\t\t * @return {Promise} the result of the last call to f before\n\t\t *  condition returns true\n\t\t */\n\t\tfunction iterate(f, condition, handler, x) {\n\t\t\treturn unfold(function(x) {\n\t\t\t\treturn [x, f(x)];\n\t\t\t}, condition, handler, x);\n\t\t}\n\n\t\t/**\n\t\t * @deprecated Use github.com/cujojs/most streams and most.unfold\n\t\t * Generate a (potentially infinite) stream of promised values\n\t\t * by applying handler(generator(seed)) iteratively until\n\t\t * condition(seed) returns true.\n\t\t * @param {function} unspool function that generates a [value, newSeed]\n\t\t *  given a seed.\n\t\t * @param {function} condition function that, given the current seed, returns\n\t\t *  truthy when the unfold should stop\n\t\t * @param {function} handler function to handle the value produced by unspool\n\t\t * @param x {*|Promise} starting value, may be a promise\n\t\t * @return {Promise} the result of the last value produced by unspool before\n\t\t *  condition returns true\n\t\t */\n\t\tfunction unfold(unspool, condition, handler, x) {\n\t\t\treturn resolve(x).then(function(seed) {\n\t\t\t\treturn resolve(condition(seed)).then(function(done) {\n\t\t\t\t\treturn done ? seed : resolve(unspool(seed)).spread(next);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tfunction next(item, newSeed) {\n\t\t\t\treturn resolve(handler(item)).then(function() {\n\t\t\t\t\treturn unfold(unspool, condition, handler, newSeed);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(); }));\n\n},{}],18:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function() {\n\n\treturn function progress(Promise) {\n\n\t\t/**\n\t\t * @deprecated\n\t\t * Register a progress handler for this promise\n\t\t * @param {function} onProgress\n\t\t * @returns {Promise}\n\t\t */\n\t\tPromise.prototype.progress = function(onProgress) {\n\t\t\treturn this.then(void 0, void 0, onProgress);\n\t\t};\n\n\t\treturn Promise;\n\t};\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(); }));\n\n},{}],19:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function(require) {\n\n\tvar env = require('../env');\n\tvar TimeoutError = require('../TimeoutError');\n\n\tfunction setTimeout(f, ms, x, y) {\n\t\treturn env.setTimer(function() {\n\t\t\tf(x, y, ms);\n\t\t}, ms);\n\t}\n\n\treturn function timed(Promise) {\n\t\t/**\n\t\t * Return a new promise whose fulfillment value is revealed only\n\t\t * after ms milliseconds\n\t\t * @param {number} ms milliseconds\n\t\t * @returns {Promise}\n\t\t */\n\t\tPromise.prototype.delay = function(ms) {\n\t\t\tvar p = this._beget();\n\t\t\tthis._handler.fold(handleDelay, ms, void 0, p._handler);\n\t\t\treturn p;\n\t\t};\n\n\t\tfunction handleDelay(ms, x, h) {\n\t\t\tsetTimeout(resolveDelay, ms, x, h);\n\t\t}\n\n\t\tfunction resolveDelay(x, h) {\n\t\t\th.resolve(x);\n\t\t}\n\n\t\t/**\n\t\t * Return a new promise that rejects after ms milliseconds unless\n\t\t * this promise fulfills earlier, in which case the returned promise\n\t\t * fulfills with the same value.\n\t\t * @param {number} ms milliseconds\n\t\t * @param {Error|*=} reason optional rejection reason to use, defaults\n\t\t *   to a TimeoutError if not provided\n\t\t * @returns {Promise}\n\t\t */\n\t\tPromise.prototype.timeout = function(ms, reason) {\n\t\t\tvar p = this._beget();\n\t\t\tvar h = p._handler;\n\n\t\t\tvar t = setTimeout(onTimeout, ms, reason, p._handler);\n\n\t\t\tthis._handler.visit(h,\n\t\t\t\tfunction onFulfill(x) {\n\t\t\t\t\tenv.clearTimer(t);\n\t\t\t\t\tthis.resolve(x); // this = h\n\t\t\t\t},\n\t\t\t\tfunction onReject(x) {\n\t\t\t\t\tenv.clearTimer(t);\n\t\t\t\t\tthis.reject(x); // this = h\n\t\t\t\t},\n\t\t\t\th.notify);\n\n\t\t\treturn p;\n\t\t};\n\n\t\tfunction onTimeout(reason, h, ms) {\n\t\t\tvar e = typeof reason === 'undefined'\n\t\t\t\t? new TimeoutError('timed out after ' + ms + 'ms')\n\t\t\t\t: reason;\n\t\t\th.reject(e);\n\t\t}\n\n\t\treturn Promise;\n\t};\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(require); }));\n\n},{\"../TimeoutError\":11,\"../env\":22}],20:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function(require) {\n\n\tvar setTimer = require('../env').setTimer;\n\tvar format = require('../format');\n\n\treturn function unhandledRejection(Promise) {\n\n\t\tvar logError = noop;\n\t\tvar logInfo = noop;\n\t\tvar localConsole;\n\n\t\tif(typeof console !== 'undefined') {\n\t\t\t// Alias console to prevent things like uglify's drop_console option from\n\t\t\t// removing console.log/error. Unhandled rejections fall into the same\n\t\t\t// category as uncaught exceptions, and build tools shouldn't silence them.\n\t\t\tlocalConsole = console;\n\t\t\tlogError = typeof localConsole.error !== 'undefined'\n\t\t\t\t? function (e) { localConsole.error(e); }\n\t\t\t\t: function (e) { localConsole.log(e); };\n\n\t\t\tlogInfo = typeof localConsole.info !== 'undefined'\n\t\t\t\t? function (e) { localConsole.info(e); }\n\t\t\t\t: function (e) { localConsole.log(e); };\n\t\t}\n\n\t\tPromise.onPotentiallyUnhandledRejection = function(rejection) {\n\t\t\tenqueue(report, rejection);\n\t\t};\n\n\t\tPromise.onPotentiallyUnhandledRejectionHandled = function(rejection) {\n\t\t\tenqueue(unreport, rejection);\n\t\t};\n\n\t\tPromise.onFatalRejection = function(rejection) {\n\t\t\tenqueue(throwit, rejection.value);\n\t\t};\n\n\t\tvar tasks = [];\n\t\tvar reported = [];\n\t\tvar running = null;\n\n\t\tfunction report(r) {\n\t\t\tif(!r.handled) {\n\t\t\t\treported.push(r);\n\t\t\t\tlogError('Potentially unhandled rejection [' + r.id + '] ' + format.formatError(r.value));\n\t\t\t}\n\t\t}\n\n\t\tfunction unreport(r) {\n\t\t\tvar i = reported.indexOf(r);\n\t\t\tif(i >= 0) {\n\t\t\t\treported.splice(i, 1);\n\t\t\t\tlogInfo('Handled previous rejection [' + r.id + '] ' + format.formatObject(r.value));\n\t\t\t}\n\t\t}\n\n\t\tfunction enqueue(f, x) {\n\t\t\ttasks.push(f, x);\n\t\t\tif(running === null) {\n\t\t\t\trunning = setTimer(flush, 0);\n\t\t\t}\n\t\t}\n\n\t\tfunction flush() {\n\t\t\trunning = null;\n\t\t\twhile(tasks.length > 0) {\n\t\t\t\ttasks.shift()(tasks.shift());\n\t\t\t}\n\t\t}\n\n\t\treturn Promise;\n\t};\n\n\tfunction throwit(e) {\n\t\tthrow e;\n\t}\n\n\tfunction noop() {}\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(require); }));\n\n},{\"../env\":22,\"../format\":23}],21:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function() {\n\n\treturn function addWith(Promise) {\n\t\t/**\n\t\t * Returns a promise whose handlers will be called with `this` set to\n\t\t * the supplied receiver.  Subsequent promises derived from the\n\t\t * returned promise will also have their handlers called with receiver\n\t\t * as `this`. Calling `with` with undefined or no arguments will return\n\t\t * a promise whose handlers will again be called in the usual Promises/A+\n\t\t * way (no `this`) thus safely undoing any previous `with` in the\n\t\t * promise chain.\n\t\t *\n\t\t * WARNING: Promises returned from `with`/`withThis` are NOT Promises/A+\n\t\t * compliant, specifically violating 2.2.5 (http://promisesaplus.com/#point-41)\n\t\t *\n\t\t * @param {object} receiver `this` value for all handlers attached to\n\t\t *  the returned promise.\n\t\t * @returns {Promise}\n\t\t */\n\t\tPromise.prototype['with'] = Promise.prototype.withThis = function(receiver) {\n\t\t\tvar p = this._beget();\n\t\t\tvar child = p._handler;\n\t\t\tchild.receiver = receiver;\n\t\t\tthis._handler.chain(child, receiver);\n\t\t\treturn p;\n\t\t};\n\n\t\treturn Promise;\n\t};\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(); }));\n\n\n},{}],22:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/*global process,document,setTimeout,clearTimeout,MutationObserver,WebKitMutationObserver*/\n(function(define) { 'use strict';\ndefine(function(require) {\n\t/*jshint maxcomplexity:6*/\n\n\t// Sniff \"best\" async scheduling option\n\t// Prefer process.nextTick or MutationObserver, then check for\n\t// setTimeout, and finally vertx, since its the only env that doesn't\n\t// have setTimeout\n\n\tvar MutationObs;\n\tvar capturedSetTimeout = typeof setTimeout !== 'undefined' && setTimeout;\n\n\t// Default env\n\tvar setTimer = function(f, ms) { return setTimeout(f, ms); };\n\tvar clearTimer = function(t) { return clearTimeout(t); };\n\tvar asap = function (f) { return capturedSetTimeout(f, 0); };\n\n\t// Detect specific env\n\tif (isNode()) { // Node\n\t\tasap = function (f) { return process.nextTick(f); };\n\n\t} else if (MutationObs = hasMutationObserver()) { // Modern browser\n\t\tasap = initMutationObserver(MutationObs);\n\n\t} else if (!capturedSetTimeout) { // vert.x\n\t\tvar vertxRequire = require;\n\t\tvar vertx = vertxRequire('vertx');\n\t\tsetTimer = function (f, ms) { return vertx.setTimer(ms, f); };\n\t\tclearTimer = vertx.cancelTimer;\n\t\tasap = vertx.runOnLoop || vertx.runOnContext;\n\t}\n\n\treturn {\n\t\tsetTimer: setTimer,\n\t\tclearTimer: clearTimer,\n\t\tasap: asap\n\t};\n\n\tfunction isNode () {\n\t\treturn typeof process !== 'undefined' &&\n\t\t\tObject.prototype.toString.call(process) === '[object process]';\n\t}\n\n\tfunction hasMutationObserver () {\n\t\treturn (typeof MutationObserver === 'function' && MutationObserver) ||\n\t\t\t(typeof WebKitMutationObserver === 'function' && WebKitMutationObserver);\n\t}\n\n\tfunction initMutationObserver(MutationObserver) {\n\t\tvar scheduled;\n\t\tvar node = document.createTextNode('');\n\t\tvar o = new MutationObserver(run);\n\t\to.observe(node, { characterData: true });\n\n\t\tfunction run() {\n\t\t\tvar f = scheduled;\n\t\t\tscheduled = void 0;\n\t\t\tf();\n\t\t}\n\n\t\tvar i = 0;\n\t\treturn function (f) {\n\t\t\tscheduled = f;\n\t\t\tnode.data = (i ^= 1);\n\t\t};\n\t}\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(require); }));\n\n},{}],23:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function() {\n\n\treturn {\n\t\tformatError: formatError,\n\t\tformatObject: formatObject,\n\t\ttryStringify: tryStringify\n\t};\n\n\t/**\n\t * Format an error into a string.  If e is an Error and has a stack property,\n\t * it's returned.  Otherwise, e is formatted using formatObject, with a\n\t * warning added about e not being a proper Error.\n\t * @param {*} e\n\t * @returns {String} formatted string, suitable for output to developers\n\t */\n\tfunction formatError(e) {\n\t\tvar s = typeof e === 'object' && e !== null && (e.stack || e.message) ? e.stack || e.message : formatObject(e);\n\t\treturn e instanceof Error ? s : s + ' (WARNING: non-Error used)';\n\t}\n\n\t/**\n\t * Format an object, detecting \"plain\" objects and running them through\n\t * JSON.stringify if possible.\n\t * @param {Object} o\n\t * @returns {string}\n\t */\n\tfunction formatObject(o) {\n\t\tvar s = String(o);\n\t\tif(s === '[object Object]' && typeof JSON !== 'undefined') {\n\t\t\ts = tryStringify(o, s);\n\t\t}\n\t\treturn s;\n\t}\n\n\t/**\n\t * Try to return the result of JSON.stringify(x).  If that fails, return\n\t * defaultValue\n\t * @param {*} x\n\t * @param {*} defaultValue\n\t * @returns {String|*} JSON.stringify(x) or defaultValue\n\t */\n\tfunction tryStringify(x, defaultValue) {\n\t\ttry {\n\t\t\treturn JSON.stringify(x);\n\t\t} catch(e) {\n\t\t\treturn defaultValue;\n\t\t}\n\t}\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(); }));\n\n},{}],24:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function() {\n\n\treturn function liftAll(liftOne, combine, dst, src) {\n\t\tif(typeof combine === 'undefined') {\n\t\t\tcombine = defaultCombine;\n\t\t}\n\n\t\treturn Object.keys(src).reduce(function(dst, key) {\n\t\t\tvar f = src[key];\n\t\t\treturn typeof f === 'function' ? combine(dst, liftOne(f), key) : dst;\n\t\t}, typeof dst === 'undefined' ? defaultDst(src) : dst);\n\t};\n\n\tfunction defaultCombine(o, f, k) {\n\t\to[k] = f;\n\t\treturn o;\n\t}\n\n\tfunction defaultDst(src) {\n\t\treturn typeof src === 'function' ? src.bind() : Object.create(src);\n\t}\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(); }));\n\n},{}],25:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function() {\n\n\treturn function makePromise(environment) {\n\n\t\tvar tasks = environment.scheduler;\n\t\tvar emitRejection = initEmitRejection();\n\n\t\tvar objectCreate = Object.create ||\n\t\t\tfunction(proto) {\n\t\t\t\tfunction Child() {}\n\t\t\t\tChild.prototype = proto;\n\t\t\t\treturn new Child();\n\t\t\t};\n\n\t\t/**\n\t\t * Create a promise whose fate is determined by resolver\n\t\t * @constructor\n\t\t * @returns {Promise} promise\n\t\t * @name Promise\n\t\t */\n\t\tfunction Promise(resolver, handler) {\n\t\t\tthis._handler = resolver === Handler ? handler : init(resolver);\n\t\t}\n\n\t\t/**\n\t\t * Run the supplied resolver\n\t\t * @param resolver\n\t\t * @returns {Pending}\n\t\t */\n\t\tfunction init(resolver) {\n\t\t\tvar handler = new Pending();\n\n\t\t\ttry {\n\t\t\t\tresolver(promiseResolve, promiseReject, promiseNotify);\n\t\t\t} catch (e) {\n\t\t\t\tpromiseReject(e);\n\t\t\t}\n\n\t\t\treturn handler;\n\n\t\t\t/**\n\t\t\t * Transition from pre-resolution state to post-resolution state, notifying\n\t\t\t * all listeners of the ultimate fulfillment or rejection\n\t\t\t * @param {*} x resolution value\n\t\t\t */\n\t\t\tfunction promiseResolve (x) {\n\t\t\t\thandler.resolve(x);\n\t\t\t}\n\t\t\t/**\n\t\t\t * Reject this promise with reason, which will be used verbatim\n\t\t\t * @param {Error|*} reason rejection reason, strongly suggested\n\t\t\t *   to be an Error type\n\t\t\t */\n\t\t\tfunction promiseReject (reason) {\n\t\t\t\thandler.reject(reason);\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * @deprecated\n\t\t\t * Issue a progress event, notifying all progress listeners\n\t\t\t * @param {*} x progress event payload to pass to all listeners\n\t\t\t */\n\t\t\tfunction promiseNotify (x) {\n\t\t\t\thandler.notify(x);\n\t\t\t}\n\t\t}\n\n\t\t// Creation\n\n\t\tPromise.resolve = resolve;\n\t\tPromise.reject = reject;\n\t\tPromise.never = never;\n\n\t\tPromise._defer = defer;\n\t\tPromise._handler = getHandler;\n\n\t\t/**\n\t\t * Returns a trusted promise. If x is already a trusted promise, it is\n\t\t * returned, otherwise returns a new trusted Promise which follows x.\n\t\t * @param  {*} x\n\t\t * @return {Promise} promise\n\t\t */\n\t\tfunction resolve(x) {\n\t\t\treturn isPromise(x) ? x\n\t\t\t\t: new Promise(Handler, new Async(getHandler(x)));\n\t\t}\n\n\t\t/**\n\t\t * Return a reject promise with x as its reason (x is used verbatim)\n\t\t * @param {*} x\n\t\t * @returns {Promise} rejected promise\n\t\t */\n\t\tfunction reject(x) {\n\t\t\treturn new Promise(Handler, new Async(new Rejected(x)));\n\t\t}\n\n\t\t/**\n\t\t * Return a promise that remains pending forever\n\t\t * @returns {Promise} forever-pending promise.\n\t\t */\n\t\tfunction never() {\n\t\t\treturn foreverPendingPromise; // Should be frozen\n\t\t}\n\n\t\t/**\n\t\t * Creates an internal {promise, resolver} pair\n\t\t * @private\n\t\t * @returns {Promise}\n\t\t */\n\t\tfunction defer() {\n\t\t\treturn new Promise(Handler, new Pending());\n\t\t}\n\n\t\t// Transformation and flow control\n\n\t\t/**\n\t\t * Transform this promise's fulfillment value, returning a new Promise\n\t\t * for the transformed result.  If the promise cannot be fulfilled, onRejected\n\t\t * is called with the reason.  onProgress *may* be called with updates toward\n\t\t * this promise's fulfillment.\n\t\t * @param {function=} onFulfilled fulfillment handler\n\t\t * @param {function=} onRejected rejection handler\n\t\t * @param {function=} onProgress @deprecated progress handler\n\t\t * @return {Promise} new promise\n\t\t */\n\t\tPromise.prototype.then = function(onFulfilled, onRejected, onProgress) {\n\t\t\tvar parent = this._handler;\n\t\t\tvar state = parent.join().state();\n\n\t\t\tif ((typeof onFulfilled !== 'function' && state > 0) ||\n\t\t\t\t(typeof onRejected !== 'function' && state < 0)) {\n\t\t\t\t// Short circuit: value will not change, simply share handler\n\t\t\t\treturn new this.constructor(Handler, parent);\n\t\t\t}\n\n\t\t\tvar p = this._beget();\n\t\t\tvar child = p._handler;\n\n\t\t\tparent.chain(child, parent.receiver, onFulfilled, onRejected, onProgress);\n\n\t\t\treturn p;\n\t\t};\n\n\t\t/**\n\t\t * If this promise cannot be fulfilled due to an error, call onRejected to\n\t\t * handle the error. Shortcut for .then(undefined, onRejected)\n\t\t * @param {function?} onRejected\n\t\t * @return {Promise}\n\t\t */\n\t\tPromise.prototype['catch'] = function(onRejected) {\n\t\t\treturn this.then(void 0, onRejected);\n\t\t};\n\n\t\t/**\n\t\t * Creates a new, pending promise of the same type as this promise\n\t\t * @private\n\t\t * @returns {Promise}\n\t\t */\n\t\tPromise.prototype._beget = function() {\n\t\t\treturn begetFrom(this._handler, this.constructor);\n\t\t};\n\n\t\tfunction begetFrom(parent, Promise) {\n\t\t\tvar child = new Pending(parent.receiver, parent.join().context);\n\t\t\treturn new Promise(Handler, child);\n\t\t}\n\n\t\t// Array combinators\n\n\t\tPromise.all = all;\n\t\tPromise.race = race;\n\t\tPromise._traverse = traverse;\n\n\t\t/**\n\t\t * Return a promise that will fulfill when all promises in the\n\t\t * input array have fulfilled, or will reject when one of the\n\t\t * promises rejects.\n\t\t * @param {array} promises array of promises\n\t\t * @returns {Promise} promise for array of fulfillment values\n\t\t */\n\t\tfunction all(promises) {\n\t\t\treturn traverseWith(snd, null, promises);\n\t\t}\n\n\t\t/**\n\t\t * Array<Promise<X>> -> Promise<Array<f(X)>>\n\t\t * @private\n\t\t * @param {function} f function to apply to each promise's value\n\t\t * @param {Array} promises array of promises\n\t\t * @returns {Promise} promise for transformed values\n\t\t */\n\t\tfunction traverse(f, promises) {\n\t\t\treturn traverseWith(tryCatch2, f, promises);\n\t\t}\n\n\t\tfunction traverseWith(tryMap, f, promises) {\n\t\t\tvar handler = typeof f === 'function' ? mapAt : settleAt;\n\n\t\t\tvar resolver = new Pending();\n\t\t\tvar pending = promises.length >>> 0;\n\t\t\tvar results = new Array(pending);\n\n\t\t\tfor (var i = 0, x; i < promises.length && !resolver.resolved; ++i) {\n\t\t\t\tx = promises[i];\n\n\t\t\t\tif (x === void 0 && !(i in promises)) {\n\t\t\t\t\t--pending;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\ttraverseAt(promises, handler, i, x, resolver);\n\t\t\t}\n\n\t\t\tif(pending === 0) {\n\t\t\t\tresolver.become(new Fulfilled(results));\n\t\t\t}\n\n\t\t\treturn new Promise(Handler, resolver);\n\n\t\t\tfunction mapAt(i, x, resolver) {\n\t\t\t\tif(!resolver.resolved) {\n\t\t\t\t\ttraverseAt(promises, settleAt, i, tryMap(f, x, i), resolver);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction settleAt(i, x, resolver) {\n\t\t\t\tresults[i] = x;\n\t\t\t\tif(--pending === 0) {\n\t\t\t\t\tresolver.become(new Fulfilled(results));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction traverseAt(promises, handler, i, x, resolver) {\n\t\t\tif (maybeThenable(x)) {\n\t\t\t\tvar h = getHandlerMaybeThenable(x);\n\t\t\t\tvar s = h.state();\n\n\t\t\t\tif (s === 0) {\n\t\t\t\t\th.fold(handler, i, void 0, resolver);\n\t\t\t\t} else if (s > 0) {\n\t\t\t\t\thandler(i, h.value, resolver);\n\t\t\t\t} else {\n\t\t\t\t\tresolver.become(h);\n\t\t\t\t\tvisitRemaining(promises, i+1, h);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\thandler(i, x, resolver);\n\t\t\t}\n\t\t}\n\n\t\tPromise._visitRemaining = visitRemaining;\n\t\tfunction visitRemaining(promises, start, handler) {\n\t\t\tfor(var i=start; i<promises.length; ++i) {\n\t\t\t\tmarkAsHandled(getHandler(promises[i]), handler);\n\t\t\t}\n\t\t}\n\n\t\tfunction markAsHandled(h, handler) {\n\t\t\tif(h === handler) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar s = h.state();\n\t\t\tif(s === 0) {\n\t\t\t\th.visit(h, void 0, h._unreport);\n\t\t\t} else if(s < 0) {\n\t\t\t\th._unreport();\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Fulfill-reject competitive race. Return a promise that will settle\n\t\t * to the same state as the earliest input promise to settle.\n\t\t *\n\t\t * WARNING: The ES6 Promise spec requires that race()ing an empty array\n\t\t * must return a promise that is pending forever.  This implementation\n\t\t * returns a singleton forever-pending promise, the same singleton that is\n\t\t * returned by Promise.never(), thus can be checked with ===\n\t\t *\n\t\t * @param {array} promises array of promises to race\n\t\t * @returns {Promise} if input is non-empty, a promise that will settle\n\t\t * to the same outcome as the earliest input promise to settle. if empty\n\t\t * is empty, returns a promise that will never settle.\n\t\t */\n\t\tfunction race(promises) {\n\t\t\tif(typeof promises !== 'object' || promises === null) {\n\t\t\t\treturn reject(new TypeError('non-iterable passed to race()'));\n\t\t\t}\n\n\t\t\t// Sigh, race([]) is untestable unless we return *something*\n\t\t\t// that is recognizable without calling .then() on it.\n\t\t\treturn promises.length === 0 ? never()\n\t\t\t\t : promises.length === 1 ? resolve(promises[0])\n\t\t\t\t : runRace(promises);\n\t\t}\n\n\t\tfunction runRace(promises) {\n\t\t\tvar resolver = new Pending();\n\t\t\tvar i, x, h;\n\t\t\tfor(i=0; i<promises.length; ++i) {\n\t\t\t\tx = promises[i];\n\t\t\t\tif (x === void 0 && !(i in promises)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\th = getHandler(x);\n\t\t\t\tif(h.state() !== 0) {\n\t\t\t\t\tresolver.become(h);\n\t\t\t\t\tvisitRemaining(promises, i+1, h);\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\th.visit(resolver, resolver.resolve, resolver.reject);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn new Promise(Handler, resolver);\n\t\t}\n\n\t\t// Promise internals\n\t\t// Below this, everything is @private\n\n\t\t/**\n\t\t * Get an appropriate handler for x, without checking for cycles\n\t\t * @param {*} x\n\t\t * @returns {object} handler\n\t\t */\n\t\tfunction getHandler(x) {\n\t\t\tif(isPromise(x)) {\n\t\t\t\treturn x._handler.join();\n\t\t\t}\n\t\t\treturn maybeThenable(x) ? getHandlerUntrusted(x) : new Fulfilled(x);\n\t\t}\n\n\t\t/**\n\t\t * Get a handler for thenable x.\n\t\t * NOTE: You must only call this if maybeThenable(x) == true\n\t\t * @param {object|function|Promise} x\n\t\t * @returns {object} handler\n\t\t */\n\t\tfunction getHandlerMaybeThenable(x) {\n\t\t\treturn isPromise(x) ? x._handler.join() : getHandlerUntrusted(x);\n\t\t}\n\n\t\t/**\n\t\t * Get a handler for potentially untrusted thenable x\n\t\t * @param {*} x\n\t\t * @returns {object} handler\n\t\t */\n\t\tfunction getHandlerUntrusted(x) {\n\t\t\ttry {\n\t\t\t\tvar untrustedThen = x.then;\n\t\t\t\treturn typeof untrustedThen === 'function'\n\t\t\t\t\t? new Thenable(untrustedThen, x)\n\t\t\t\t\t: new Fulfilled(x);\n\t\t\t} catch(e) {\n\t\t\t\treturn new Rejected(e);\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Handler for a promise that is pending forever\n\t\t * @constructor\n\t\t */\n\t\tfunction Handler() {}\n\n\t\tHandler.prototype.when\n\t\t\t= Handler.prototype.become\n\t\t\t= Handler.prototype.notify // deprecated\n\t\t\t= Handler.prototype.fail\n\t\t\t= Handler.prototype._unreport\n\t\t\t= Handler.prototype._report\n\t\t\t= noop;\n\n\t\tHandler.prototype._state = 0;\n\n\t\tHandler.prototype.state = function() {\n\t\t\treturn this._state;\n\t\t};\n\n\t\t/**\n\t\t * Recursively collapse handler chain to find the handler\n\t\t * nearest to the fully resolved value.\n\t\t * @returns {object} handler nearest the fully resolved value\n\t\t */\n\t\tHandler.prototype.join = function() {\n\t\t\tvar h = this;\n\t\t\twhile(h.handler !== void 0) {\n\t\t\t\th = h.handler;\n\t\t\t}\n\t\t\treturn h;\n\t\t};\n\n\t\tHandler.prototype.chain = function(to, receiver, fulfilled, rejected, progress) {\n\t\t\tthis.when({\n\t\t\t\tresolver: to,\n\t\t\t\treceiver: receiver,\n\t\t\t\tfulfilled: fulfilled,\n\t\t\t\trejected: rejected,\n\t\t\t\tprogress: progress\n\t\t\t});\n\t\t};\n\n\t\tHandler.prototype.visit = function(receiver, fulfilled, rejected, progress) {\n\t\t\tthis.chain(failIfRejected, receiver, fulfilled, rejected, progress);\n\t\t};\n\n\t\tHandler.prototype.fold = function(f, z, c, to) {\n\t\t\tthis.when(new Fold(f, z, c, to));\n\t\t};\n\n\t\t/**\n\t\t * Handler that invokes fail() on any handler it becomes\n\t\t * @constructor\n\t\t */\n\t\tfunction FailIfRejected() {}\n\n\t\tinherit(Handler, FailIfRejected);\n\n\t\tFailIfRejected.prototype.become = function(h) {\n\t\t\th.fail();\n\t\t};\n\n\t\tvar failIfRejected = new FailIfRejected();\n\n\t\t/**\n\t\t * Handler that manages a queue of consumers waiting on a pending promise\n\t\t * @constructor\n\t\t */\n\t\tfunction Pending(receiver, inheritedContext) {\n\t\t\tPromise.createContext(this, inheritedContext);\n\n\t\t\tthis.consumers = void 0;\n\t\t\tthis.receiver = receiver;\n\t\t\tthis.handler = void 0;\n\t\t\tthis.resolved = false;\n\t\t}\n\n\t\tinherit(Handler, Pending);\n\n\t\tPending.prototype._state = 0;\n\n\t\tPending.prototype.resolve = function(x) {\n\t\t\tthis.become(getHandler(x));\n\t\t};\n\n\t\tPending.prototype.reject = function(x) {\n\t\t\tif(this.resolved) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.become(new Rejected(x));\n\t\t};\n\n\t\tPending.prototype.join = function() {\n\t\t\tif (!this.resolved) {\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tvar h = this;\n\n\t\t\twhile (h.handler !== void 0) {\n\t\t\t\th = h.handler;\n\t\t\t\tif (h === this) {\n\t\t\t\t\treturn this.handler = cycle();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn h;\n\t\t};\n\n\t\tPending.prototype.run = function() {\n\t\t\tvar q = this.consumers;\n\t\t\tvar handler = this.handler;\n\t\t\tthis.handler = this.handler.join();\n\t\t\tthis.consumers = void 0;\n\n\t\t\tfor (var i = 0; i < q.length; ++i) {\n\t\t\t\thandler.when(q[i]);\n\t\t\t}\n\t\t};\n\n\t\tPending.prototype.become = function(handler) {\n\t\t\tif(this.resolved) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.resolved = true;\n\t\t\tthis.handler = handler;\n\t\t\tif(this.consumers !== void 0) {\n\t\t\t\ttasks.enqueue(this);\n\t\t\t}\n\n\t\t\tif(this.context !== void 0) {\n\t\t\t\thandler._report(this.context);\n\t\t\t}\n\t\t};\n\n\t\tPending.prototype.when = function(continuation) {\n\t\t\tif(this.resolved) {\n\t\t\t\ttasks.enqueue(new ContinuationTask(continuation, this.handler));\n\t\t\t} else {\n\t\t\t\tif(this.consumers === void 0) {\n\t\t\t\t\tthis.consumers = [continuation];\n\t\t\t\t} else {\n\t\t\t\t\tthis.consumers.push(continuation);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * @deprecated\n\t\t */\n\t\tPending.prototype.notify = function(x) {\n\t\t\tif(!this.resolved) {\n\t\t\t\ttasks.enqueue(new ProgressTask(x, this));\n\t\t\t}\n\t\t};\n\n\t\tPending.prototype.fail = function(context) {\n\t\t\tvar c = typeof context === 'undefined' ? this.context : context;\n\t\t\tthis.resolved && this.handler.join().fail(c);\n\t\t};\n\n\t\tPending.prototype._report = function(context) {\n\t\t\tthis.resolved && this.handler.join()._report(context);\n\t\t};\n\n\t\tPending.prototype._unreport = function() {\n\t\t\tthis.resolved && this.handler.join()._unreport();\n\t\t};\n\n\t\t/**\n\t\t * Wrap another handler and force it into a future stack\n\t\t * @param {object} handler\n\t\t * @constructor\n\t\t */\n\t\tfunction Async(handler) {\n\t\t\tthis.handler = handler;\n\t\t}\n\n\t\tinherit(Handler, Async);\n\n\t\tAsync.prototype.when = function(continuation) {\n\t\t\ttasks.enqueue(new ContinuationTask(continuation, this));\n\t\t};\n\n\t\tAsync.prototype._report = function(context) {\n\t\t\tthis.join()._report(context);\n\t\t};\n\n\t\tAsync.prototype._unreport = function() {\n\t\t\tthis.join()._unreport();\n\t\t};\n\n\t\t/**\n\t\t * Handler that wraps an untrusted thenable and assimilates it in a future stack\n\t\t * @param {function} then\n\t\t * @param {{then: function}} thenable\n\t\t * @constructor\n\t\t */\n\t\tfunction Thenable(then, thenable) {\n\t\t\tPending.call(this);\n\t\t\ttasks.enqueue(new AssimilateTask(then, thenable, this));\n\t\t}\n\n\t\tinherit(Pending, Thenable);\n\n\t\t/**\n\t\t * Handler for a fulfilled promise\n\t\t * @param {*} x fulfillment value\n\t\t * @constructor\n\t\t */\n\t\tfunction Fulfilled(x) {\n\t\t\tPromise.createContext(this);\n\t\t\tthis.value = x;\n\t\t}\n\n\t\tinherit(Handler, Fulfilled);\n\n\t\tFulfilled.prototype._state = 1;\n\n\t\tFulfilled.prototype.fold = function(f, z, c, to) {\n\t\t\trunContinuation3(f, z, this, c, to);\n\t\t};\n\n\t\tFulfilled.prototype.when = function(cont) {\n\t\t\trunContinuation1(cont.fulfilled, this, cont.receiver, cont.resolver);\n\t\t};\n\n\t\tvar errorId = 0;\n\n\t\t/**\n\t\t * Handler for a rejected promise\n\t\t * @param {*} x rejection reason\n\t\t * @constructor\n\t\t */\n\t\tfunction Rejected(x) {\n\t\t\tPromise.createContext(this);\n\n\t\t\tthis.id = ++errorId;\n\t\t\tthis.value = x;\n\t\t\tthis.handled = false;\n\t\t\tthis.reported = false;\n\n\t\t\tthis._report();\n\t\t}\n\n\t\tinherit(Handler, Rejected);\n\n\t\tRejected.prototype._state = -1;\n\n\t\tRejected.prototype.fold = function(f, z, c, to) {\n\t\t\tto.become(this);\n\t\t};\n\n\t\tRejected.prototype.when = function(cont) {\n\t\t\tif(typeof cont.rejected === 'function') {\n\t\t\t\tthis._unreport();\n\t\t\t}\n\t\t\trunContinuation1(cont.rejected, this, cont.receiver, cont.resolver);\n\t\t};\n\n\t\tRejected.prototype._report = function(context) {\n\t\t\ttasks.afterQueue(new ReportTask(this, context));\n\t\t};\n\n\t\tRejected.prototype._unreport = function() {\n\t\t\tif(this.handled) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.handled = true;\n\t\t\ttasks.afterQueue(new UnreportTask(this));\n\t\t};\n\n\t\tRejected.prototype.fail = function(context) {\n\t\t\tthis.reported = true;\n\t\t\temitRejection('unhandledRejection', this);\n\t\t\tPromise.onFatalRejection(this, context === void 0 ? this.context : context);\n\t\t};\n\n\t\tfunction ReportTask(rejection, context) {\n\t\t\tthis.rejection = rejection;\n\t\t\tthis.context = context;\n\t\t}\n\n\t\tReportTask.prototype.run = function() {\n\t\t\tif(!this.rejection.handled && !this.rejection.reported) {\n\t\t\t\tthis.rejection.reported = true;\n\t\t\t\temitRejection('unhandledRejection', this.rejection) ||\n\t\t\t\t\tPromise.onPotentiallyUnhandledRejection(this.rejection, this.context);\n\t\t\t}\n\t\t};\n\n\t\tfunction UnreportTask(rejection) {\n\t\t\tthis.rejection = rejection;\n\t\t}\n\n\t\tUnreportTask.prototype.run = function() {\n\t\t\tif(this.rejection.reported) {\n\t\t\t\temitRejection('rejectionHandled', this.rejection) ||\n\t\t\t\t\tPromise.onPotentiallyUnhandledRejectionHandled(this.rejection);\n\t\t\t}\n\t\t};\n\n\t\t// Unhandled rejection hooks\n\t\t// By default, everything is a noop\n\n\t\tPromise.createContext\n\t\t\t= Promise.enterContext\n\t\t\t= Promise.exitContext\n\t\t\t= Promise.onPotentiallyUnhandledRejection\n\t\t\t= Promise.onPotentiallyUnhandledRejectionHandled\n\t\t\t= Promise.onFatalRejection\n\t\t\t= noop;\n\n\t\t// Errors and singletons\n\n\t\tvar foreverPendingHandler = new Handler();\n\t\tvar foreverPendingPromise = new Promise(Handler, foreverPendingHandler);\n\n\t\tfunction cycle() {\n\t\t\treturn new Rejected(new TypeError('Promise cycle'));\n\t\t}\n\n\t\t// Task runners\n\n\t\t/**\n\t\t * Run a single consumer\n\t\t * @constructor\n\t\t */\n\t\tfunction ContinuationTask(continuation, handler) {\n\t\t\tthis.continuation = continuation;\n\t\t\tthis.handler = handler;\n\t\t}\n\n\t\tContinuationTask.prototype.run = function() {\n\t\t\tthis.handler.join().when(this.continuation);\n\t\t};\n\n\t\t/**\n\t\t * Run a queue of progress handlers\n\t\t * @constructor\n\t\t */\n\t\tfunction ProgressTask(value, handler) {\n\t\t\tthis.handler = handler;\n\t\t\tthis.value = value;\n\t\t}\n\n\t\tProgressTask.prototype.run = function() {\n\t\t\tvar q = this.handler.consumers;\n\t\t\tif(q === void 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (var c, i = 0; i < q.length; ++i) {\n\t\t\t\tc = q[i];\n\t\t\t\trunNotify(c.progress, this.value, this.handler, c.receiver, c.resolver);\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Assimilate a thenable, sending it's value to resolver\n\t\t * @param {function} then\n\t\t * @param {object|function} thenable\n\t\t * @param {object} resolver\n\t\t * @constructor\n\t\t */\n\t\tfunction AssimilateTask(then, thenable, resolver) {\n\t\t\tthis._then = then;\n\t\t\tthis.thenable = thenable;\n\t\t\tthis.resolver = resolver;\n\t\t}\n\n\t\tAssimilateTask.prototype.run = function() {\n\t\t\tvar h = this.resolver;\n\t\t\ttryAssimilate(this._then, this.thenable, _resolve, _reject, _notify);\n\n\t\t\tfunction _resolve(x) { h.resolve(x); }\n\t\t\tfunction _reject(x)  { h.reject(x); }\n\t\t\tfunction _notify(x)  { h.notify(x); }\n\t\t};\n\n\t\tfunction tryAssimilate(then, thenable, resolve, reject, notify) {\n\t\t\ttry {\n\t\t\t\tthen.call(thenable, resolve, reject, notify);\n\t\t\t} catch (e) {\n\t\t\t\treject(e);\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Fold a handler value with z\n\t\t * @constructor\n\t\t */\n\t\tfunction Fold(f, z, c, to) {\n\t\t\tthis.f = f; this.z = z; this.c = c; this.to = to;\n\t\t\tthis.resolver = failIfRejected;\n\t\t\tthis.receiver = this;\n\t\t}\n\n\t\tFold.prototype.fulfilled = function(x) {\n\t\t\tthis.f.call(this.c, this.z, x, this.to);\n\t\t};\n\n\t\tFold.prototype.rejected = function(x) {\n\t\t\tthis.to.reject(x);\n\t\t};\n\n\t\tFold.prototype.progress = function(x) {\n\t\t\tthis.to.notify(x);\n\t\t};\n\n\t\t// Other helpers\n\n\t\t/**\n\t\t * @param {*} x\n\t\t * @returns {boolean} true iff x is a trusted Promise\n\t\t */\n\t\tfunction isPromise(x) {\n\t\t\treturn x instanceof Promise;\n\t\t}\n\n\t\t/**\n\t\t * Test just enough to rule out primitives, in order to take faster\n\t\t * paths in some code\n\t\t * @param {*} x\n\t\t * @returns {boolean} false iff x is guaranteed *not* to be a thenable\n\t\t */\n\t\tfunction maybeThenable(x) {\n\t\t\treturn (typeof x === 'object' || typeof x === 'function') && x !== null;\n\t\t}\n\n\t\tfunction runContinuation1(f, h, receiver, next) {\n\t\t\tif(typeof f !== 'function') {\n\t\t\t\treturn next.become(h);\n\t\t\t}\n\n\t\t\tPromise.enterContext(h);\n\t\t\ttryCatchReject(f, h.value, receiver, next);\n\t\t\tPromise.exitContext();\n\t\t}\n\n\t\tfunction runContinuation3(f, x, h, receiver, next) {\n\t\t\tif(typeof f !== 'function') {\n\t\t\t\treturn next.become(h);\n\t\t\t}\n\n\t\t\tPromise.enterContext(h);\n\t\t\ttryCatchReject3(f, x, h.value, receiver, next);\n\t\t\tPromise.exitContext();\n\t\t}\n\n\t\t/**\n\t\t * @deprecated\n\t\t */\n\t\tfunction runNotify(f, x, h, receiver, next) {\n\t\t\tif(typeof f !== 'function') {\n\t\t\t\treturn next.notify(x);\n\t\t\t}\n\n\t\t\tPromise.enterContext(h);\n\t\t\ttryCatchReturn(f, x, receiver, next);\n\t\t\tPromise.exitContext();\n\t\t}\n\n\t\tfunction tryCatch2(f, a, b) {\n\t\t\ttry {\n\t\t\t\treturn f(a, b);\n\t\t\t} catch(e) {\n\t\t\t\treturn reject(e);\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Return f.call(thisArg, x), or if it throws return a rejected promise for\n\t\t * the thrown exception\n\t\t */\n\t\tfunction tryCatchReject(f, x, thisArg, next) {\n\t\t\ttry {\n\t\t\t\tnext.become(getHandler(f.call(thisArg, x)));\n\t\t\t} catch(e) {\n\t\t\t\tnext.become(new Rejected(e));\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Same as above, but includes the extra argument parameter.\n\t\t */\n\t\tfunction tryCatchReject3(f, x, y, thisArg, next) {\n\t\t\ttry {\n\t\t\t\tf.call(thisArg, x, y, next);\n\t\t\t} catch(e) {\n\t\t\t\tnext.become(new Rejected(e));\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * @deprecated\n\t\t * Return f.call(thisArg, x), or if it throws, *return* the exception\n\t\t */\n\t\tfunction tryCatchReturn(f, x, thisArg, next) {\n\t\t\ttry {\n\t\t\t\tnext.notify(f.call(thisArg, x));\n\t\t\t} catch(e) {\n\t\t\t\tnext.notify(e);\n\t\t\t}\n\t\t}\n\n\t\tfunction inherit(Parent, Child) {\n\t\t\tChild.prototype = objectCreate(Parent.prototype);\n\t\t\tChild.prototype.constructor = Child;\n\t\t}\n\n\t\tfunction snd(x, y) {\n\t\t\treturn y;\n\t\t}\n\n\t\tfunction noop() {}\n\n\t\tfunction initEmitRejection() {\n\t\t\t/*global process, self, CustomEvent*/\n\t\t\tif(typeof process !== 'undefined' && process !== null\n\t\t\t\t&& typeof process.emit === 'function') {\n\t\t\t\t// Returning falsy here means to call the default\n\t\t\t\t// onPotentiallyUnhandledRejection API.  This is safe even in\n\t\t\t\t// browserify since process.emit always returns falsy in browserify:\n\t\t\t\t// https://github.com/defunctzombie/node-process/blob/master/browser.js#L40-L46\n\t\t\t\treturn function(type, rejection) {\n\t\t\t\t\treturn type === 'unhandledRejection'\n\t\t\t\t\t\t? process.emit(type, rejection.value, rejection)\n\t\t\t\t\t\t: process.emit(type, rejection);\n\t\t\t\t};\n\t\t\t} else if(typeof self !== 'undefined' && typeof CustomEvent === 'function') {\n\t\t\t\treturn (function(noop, self, CustomEvent) {\n\t\t\t\t\tvar hasCustomEvent = false;\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar ev = new CustomEvent('unhandledRejection');\n\t\t\t\t\t\thasCustomEvent = ev instanceof CustomEvent;\n\t\t\t\t\t} catch (e) {}\n\n\t\t\t\t\treturn !hasCustomEvent ? noop : function(type, rejection) {\n\t\t\t\t\t\tvar ev = new CustomEvent(type, {\n\t\t\t\t\t\t\tdetail: {\n\t\t\t\t\t\t\t\treason: rejection.value,\n\t\t\t\t\t\t\t\tkey: rejection\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tbubbles: false,\n\t\t\t\t\t\t\tcancelable: true\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn !self.dispatchEvent(ev);\n\t\t\t\t\t};\n\t\t\t\t}(noop, self, CustomEvent));\n\t\t\t}\n\n\t\t\treturn noop;\n\t\t}\n\n\t\treturn Promise;\n\t};\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(); }));\n\n},{}],26:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function() {\n\n\treturn {\n\t\tpending: toPendingState,\n\t\tfulfilled: toFulfilledState,\n\t\trejected: toRejectedState,\n\t\tinspect: inspect\n\t};\n\n\tfunction toPendingState() {\n\t\treturn { state: 'pending' };\n\t}\n\n\tfunction toRejectedState(e) {\n\t\treturn { state: 'rejected', reason: e };\n\t}\n\n\tfunction toFulfilledState(x) {\n\t\treturn { state: 'fulfilled', value: x };\n\t}\n\n\tfunction inspect(handler) {\n\t\tvar state = handler.state();\n\t\treturn state === 0 ? toPendingState()\n\t\t\t : state > 0   ? toFulfilledState(handler.value)\n\t\t\t               : toRejectedState(handler.value);\n\t}\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(); }));\n\n},{}],27:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function(require) {\n\n\tvar PromiseMonitor = require('./monitor/PromiseMonitor');\n\tvar ConsoleReporter = require('./monitor/ConsoleReporter');\n\n\tvar promiseMonitor = new PromiseMonitor(new ConsoleReporter());\n\n\treturn function(Promise) {\n\t\treturn promiseMonitor.monitor(Promise);\n\t};\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(require); }));\n\n},{\"./monitor/ConsoleReporter\":28,\"./monitor/PromiseMonitor\":29}],28:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function(require) {\n\n\tvar error = require('./error');\n\tvar unhandledRejectionsMsg = '[promises] Unhandled rejections: ';\n\tvar allHandledMsg = '[promises] All previously unhandled rejections have now been handled';\n\n\tfunction ConsoleReporter() {\n\t\tthis._previouslyReported = false;\n\t}\n\n\tConsoleReporter.prototype = initDefaultLogging();\n\n\tConsoleReporter.prototype.log = function(traces) {\n\t\tif(traces.length === 0) {\n\t\t\tif(this._previouslyReported) {\n\t\t\t\tthis._previouslyReported = false;\n\t\t\t\tthis.msg(allHandledMsg);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tthis._previouslyReported = true;\n\t\tthis.groupStart(unhandledRejectionsMsg + traces.length);\n\t\ttry {\n\t\t\tthis._log(traces);\n\t\t} finally {\n\t\t\tthis.groupEnd();\n\t\t}\n\t};\n\n\tConsoleReporter.prototype._log = function(traces) {\n\t\tfor(var i=0; i<traces.length; ++i) {\n\t\t\tthis.warn(error.format(traces[i]));\n\t\t}\n\t};\n\n\tfunction initDefaultLogging() {\n\t\t/*jshint maxcomplexity:7*/\n\t\tvar log, warn, groupStart, groupEnd;\n\n\t\tif(typeof console === 'undefined') {\n\t\t\tlog = warn = consoleNotAvailable;\n\t\t} else {\n\t\t\t// Alias console to prevent things like uglify's drop_console option from\n\t\t\t// removing console.log/error. Unhandled rejections fall into the same\n\t\t\t// category as uncaught exceptions, and build tools shouldn't silence them.\n\t\t\tvar localConsole = console;\n\t\t\tif(typeof localConsole.error === 'function'\n\t\t\t\t&& typeof localConsole.dir === 'function') {\n\t\t\t\twarn = function(s) {\n\t\t\t\t\tlocalConsole.error(s);\n\t\t\t\t};\n\n\t\t\t\tlog = function(s) {\n\t\t\t\t\tlocalConsole.log(s);\n\t\t\t\t};\n\n\t\t\t\tif(typeof localConsole.groupCollapsed === 'function') {\n\t\t\t\t\tgroupStart = function(s) {\n\t\t\t\t\t\tlocalConsole.groupCollapsed(s);\n\t\t\t\t\t};\n\t\t\t\t\tgroupEnd = function() {\n\t\t\t\t\t\tlocalConsole.groupEnd();\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// IE8 has console.log and JSON, so we can make a\n\t\t\t\t// reasonably useful warn() from those.\n\t\t\t\t// Credit to webpro (https://github.com/webpro) for this idea\n\t\t\t\t// typeof localConsole.log will return 'object' in IE8, so can't test it with === 'function'\n\t\t\t\t// Since this is more of a corner case for IE8, I'm ok to check it with !== 'undefined' to reduce complexity\n\t\t\t\tif (typeof localConsole.log !== 'undefined' && typeof JSON !== 'undefined') {\n\t\t\t\t\tlog = warn = function(x) {\n\t\t\t\t\t\tif (typeof x !== 'string') {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tx = JSON.stringify(x);\n\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlocalConsole.log(x);\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tlog = warn = consoleNotAvailable;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tmsg: log,\n\t\t\twarn: warn,\n\t\t\tgroupStart: groupStart || warn,\n\t\t\tgroupEnd: groupEnd || consoleNotAvailable\n\t\t};\n\t}\n\n\tfunction consoleNotAvailable() {}\n\n\treturn ConsoleReporter;\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(require); }));\n\n},{\"./error\":31}],29:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function(require) {\n\n\tvar defaultStackJumpSeparator = 'from execution context:';\n\tvar defaultStackFilter = /[\\s\\(\\/\\\\](node|module|timers)\\.js:|when([\\/\\\\]{1,2}(lib|monitor|es6-shim)[\\/\\\\]{1,2}|\\.js)|(new\\sPromise)\\b|(\\b(PromiseMonitor|ConsoleReporter|Scheduler|RunHandlerTask|ProgressTask|Promise|.*Handler)\\.[\\w_]\\w\\w+\\b)|\\b(tryCatch\\w+|getHandler\\w*)\\b/i;\n\n\tvar setTimer = require('../lib/env').setTimer;\n\tvar error = require('./error');\n\n\tvar executionContext = [];\n\n\tfunction PromiseMonitor(reporter) {\n\t\tthis.logDelay = 0;\n\t\tthis.stackFilter = defaultStackFilter;\n\t\tthis.stackJumpSeparator = defaultStackJumpSeparator;\n\t\tthis.filterDuplicateFrames = true;\n\n\t\tthis._reporter = reporter;\n\t\tif(typeof reporter.configurePromiseMonitor === 'function') {\n\t\t\treporter.configurePromiseMonitor(this);\n\t\t}\n\n\t\tthis._traces = [];\n\t\tthis._traceTask = 0;\n\n\t\tvar self = this;\n\t\tthis._doLogTraces = function() {\n\t\t\tself._logTraces();\n\t\t};\n\t}\n\n\tPromiseMonitor.prototype.monitor = function(Promise) {\n\t\tvar self = this;\n\t\tPromise.createContext = function(p, context) {\n\t\t\tp.context = self.createContext(p, context);\n\t\t};\n\n\t\tPromise.enterContext = function(p) {\n\t\t\texecutionContext.push(p.context);\n\t\t};\n\n\t\tPromise.exitContext = function() {\n\t\t\texecutionContext.pop();\n\t\t};\n\n\t\tPromise.onPotentiallyUnhandledRejection = function(rejection, extraContext) {\n\t\t\treturn self.addTrace(rejection, extraContext);\n\t\t};\n\n\t\tPromise.onPotentiallyUnhandledRejectionHandled = function(rejection) {\n\t\t\treturn self.removeTrace(rejection);\n\t\t};\n\n\t\tPromise.onFatalRejection = function(rejection, extraContext) {\n\t\t\treturn self.fatal(rejection, extraContext);\n\t\t};\n\n\t\treturn this;\n\t};\n\n\tPromiseMonitor.prototype.createContext = function(at, parentContext) {\n\t\tvar context = {\n\t\t\tparent: parentContext || executionContext[executionContext.length - 1],\n\t\t\tstack: void 0\n\t\t};\n\t\terror.captureStack(context, at.constructor);\n\t\treturn context;\n\t};\n\n\tPromiseMonitor.prototype.addTrace = function(handler, extraContext) {\n\t\tvar t, i;\n\n\t\tfor(i = this._traces.length-1; i >= 0; --i) {\n\t\t\tt = this._traces[i];\n\t\t\tif(t.handler === handler) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif(i >= 0) {\n\t\t\tt.extraContext = extraContext;\n\t\t} else {\n\t\t\tthis._traces.push({\n\t\t\t\thandler: handler,\n\t\t\t\textraContext: extraContext\n\t\t\t});\n\t\t}\n\n\t\tthis.logTraces();\n\t};\n\n\tPromiseMonitor.prototype.removeTrace = function(/*handler*/) {\n\t\tthis.logTraces();\n\t};\n\n\tPromiseMonitor.prototype.fatal = function(handler, extraContext) {\n\t\tvar err = new Error();\n\t\terr.stack = this._createLongTrace(handler.value, handler.context, extraContext).join('\\n');\n\t\tsetTimer(function() {\n\t\t\tthrow err;\n\t\t}, 0);\n\t};\n\n\tPromiseMonitor.prototype.logTraces = function() {\n\t\tif(!this._traceTask) {\n\t\t\tthis._traceTask = setTimer(this._doLogTraces, this.logDelay);\n\t\t}\n\t};\n\n\tPromiseMonitor.prototype._logTraces = function() {\n\t\tthis._traceTask = void 0;\n\t\tthis._traces = this._traces.filter(filterHandled);\n\t\tthis._reporter.log(this.formatTraces(this._traces));\n\t};\n\n\n\tPromiseMonitor.prototype.formatTraces = function(traces) {\n\t\treturn traces.map(function(t) {\n\t\t\treturn this._createLongTrace(t.handler.value, t.handler.context, t.extraContext);\n\t\t}, this);\n\t};\n\n\tPromiseMonitor.prototype._createLongTrace = function(e, context, extraContext) {\n\t\tvar trace = error.parse(e) || [String(e) + ' (WARNING: non-Error used)'];\n\t\ttrace = filterFrames(this.stackFilter, trace, 0);\n\t\tthis._appendContext(trace, context);\n\t\tthis._appendContext(trace, extraContext);\n\t\treturn this.filterDuplicateFrames ? this._removeDuplicates(trace) : trace;\n\t};\n\n\tPromiseMonitor.prototype._removeDuplicates = function(trace) {\n\t\tvar seen = {};\n\t\tvar sep = this.stackJumpSeparator;\n\t\tvar count = 0;\n\t\treturn trace.reduceRight(function(deduped, line, i) {\n\t\t\tif(i === 0) {\n\t\t\t\tdeduped.unshift(line);\n\t\t\t} else if(line === sep) {\n\t\t\t\tif(count > 0) {\n\t\t\t\t\tdeduped.unshift(line);\n\t\t\t\t\tcount = 0;\n\t\t\t\t}\n\t\t\t} else if(!seen[line]) {\n\t\t\t\tseen[line] = true;\n\t\t\t\tdeduped.unshift(line);\n\t\t\t\t++count;\n\t\t\t}\n\t\t\treturn deduped;\n\t\t}, []);\n\t};\n\n\tPromiseMonitor.prototype._appendContext = function(trace, context) {\n\t\ttrace.push.apply(trace, this._createTrace(context));\n\t};\n\n\tPromiseMonitor.prototype._createTrace = function(traceChain) {\n\t\tvar trace = [];\n\t\tvar stack;\n\n\t\twhile(traceChain) {\n\t\t\tstack = error.parse(traceChain);\n\n\t\t\tif (stack) {\n\t\t\t\tstack = filterFrames(this.stackFilter, stack);\n\t\t\t\tappendStack(trace, stack, this.stackJumpSeparator);\n\t\t\t}\n\n\t\t\ttraceChain = traceChain.parent;\n\t\t}\n\n\t\treturn trace;\n\t};\n\n\tfunction appendStack(trace, stack, separator) {\n\t\tif (stack.length > 1) {\n\t\t\tstack[0] = separator;\n\t\t\ttrace.push.apply(trace, stack);\n\t\t}\n\t}\n\n\tfunction filterFrames(stackFilter, stack) {\n\t\treturn stack.filter(function(frame) {\n\t\t\treturn !stackFilter.test(frame);\n\t\t});\n\t}\n\n\tfunction filterHandled(t) {\n\t\treturn !t.handler.handled;\n\t}\n\n\treturn PromiseMonitor;\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(require); }));\n\n},{\"../lib/env\":22,\"./error\":31}],30:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function(require) {\n\n\tvar monitor = require('../monitor');\n\tvar Promise = require('../when').Promise;\n\n\treturn monitor(Promise);\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(require); }));\n\n},{\"../monitor\":27,\"../when\":38}],31:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function() {\n\n\tvar parse, captureStack, format;\n\n\tif(Error.captureStackTrace) {\n\t\t// Use Error.captureStackTrace if available\n\t\tparse = function(e) {\n\t\t\treturn e && e.stack && e.stack.split('\\n');\n\t\t};\n\n\t\tformat = formatAsString;\n\t\tcaptureStack = Error.captureStackTrace;\n\n\t} else {\n\t\t// Otherwise, do minimal feature detection to determine\n\t\t// how to capture and format reasonable stacks.\n\t\tparse = function(e) {\n\t\t\tvar stack = e && e.stack && e.stack.split('\\n');\n\t\t\tif(stack && e.message) {\n\t\t\t\tstack.unshift(e.message);\n\t\t\t}\n\t\t\treturn stack;\n\t\t};\n\n\t\t(function() {\n\t\t\tvar e = new Error();\n\t\t\tif(typeof e.stack !== 'string') {\n\t\t\t\tformat = formatAsString;\n\t\t\t\tcaptureStack = captureSpiderMonkeyStack;\n\t\t\t} else {\n\t\t\t\tformat = formatAsErrorWithStack;\n\t\t\t\tcaptureStack = useStackDirectly;\n\t\t\t}\n\t\t}());\n\t}\n\n\tfunction captureSpiderMonkeyStack(host) {\n\t\ttry {\n\t\t\tthrow new Error();\n\t\t} catch(err) {\n\t\t\thost.stack = err.stack;\n\t\t}\n\t}\n\n\tfunction useStackDirectly(host) {\n\t\thost.stack = new Error().stack;\n\t}\n\n\tfunction formatAsString(longTrace) {\n\t\treturn join(longTrace);\n\t}\n\n\tfunction formatAsErrorWithStack(longTrace) {\n\t\tvar e = new Error();\n\t\te.stack = formatAsString(longTrace);\n\t\treturn e;\n\t}\n\n\t// About 5-10x faster than String.prototype.join o_O\n\tfunction join(a) {\n\t\tvar sep = false;\n\t\tvar s = '';\n\t\tfor(var i=0; i< a.length; ++i) {\n\t\t\tif(sep) {\n\t\t\t\ts += '\\n' + a[i];\n\t\t\t} else {\n\t\t\t\ts+= a[i];\n\t\t\t\tsep = true;\n\t\t\t}\n\t\t}\n\t\treturn s;\n\t}\n\n\treturn {\n\t\tparse: parse,\n\t\tformat: format,\n\t\tcaptureStack: captureStack\n\t};\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(); }));\n\n},{}],32:[function(require,module,exports){\n/** @license MIT License (c) copyright 2013 original author or authors */\n\n/**\n * Collection of helpers for interfacing with node-style asynchronous functions\n * using promises.\n *\n * @author Brian Cavalier\n * @contributor Renato Zannon\n */\n\n(function(define) {\ndefine(function(require) {\n\n\tvar when = require('./when');\n\tvar _liftAll = require('./lib/liftAll');\n\tvar setTimer = require('./lib/env').setTimer;\n\tvar slice = Array.prototype.slice;\n\n\tvar _apply = require('./lib/apply')(when.Promise, dispatch);\n\n\treturn {\n\t\tlift: lift,\n\t\tliftAll: liftAll,\n\t\tapply: apply,\n\t\tcall: call,\n\t\tcreateCallback: createCallback,\n\t\tbindCallback: bindCallback,\n\t\tliftCallback: liftCallback\n\t};\n\n\t/**\n\t * Takes a node-style async function and calls it immediately (with an optional\n\t * array of arguments or promises for arguments). It returns a promise whose\n\t * resolution depends on whether the async functions calls its callback with the\n\t * conventional error argument or not.\n\t *\n\t * With this it becomes possible to leverage existing APIs while still reaping\n\t * the benefits of promises.\n\t *\n\t * @example\n\t *    function onlySmallNumbers(n, callback) {\n\t *\t\tif(n < 10) {\n\t *\t\t\tcallback(null, n + 10);\n\t *\t\t} else {\n\t *\t\t\tcallback(new Error(\"Calculation failed\"));\n\t *\t\t}\n\t *\t}\n\t *\n\t *    var nodefn = require(\"when/node/function\");\n\t *\n\t *    // Logs '15'\n\t *    nodefn.apply(onlySmallNumbers, [5]).then(console.log, console.error);\n\t *\n\t *    // Logs 'Calculation failed'\n\t *    nodefn.apply(onlySmallNumbers, [15]).then(console.log, console.error);\n\t *\n\t * @param {function} f node-style function that will be called\n\t * @param {Array} [args] array of arguments to func\n\t * @returns {Promise} promise for the value func passes to its callback\n\t */\n\tfunction apply(f, args) {\n\t\treturn _apply(f, this, args || []);\n\t}\n\n\tfunction dispatch(f, thisArg, args, h) {\n\t\tvar cb = createCallback(h);\n\t\ttry {\n\t\t\tswitch(args.length) {\n\t\t\t\tcase 2: f.call(thisArg, args[0], args[1], cb); break;\n\t\t\t\tcase 1: f.call(thisArg, args[0], cb); break;\n\t\t\t\tcase 0: f.call(thisArg, cb); break;\n\t\t\t\tdefault:\n\t\t\t\t\targs.push(cb);\n\t\t\t\t\tf.apply(thisArg, args);\n\t\t\t}\n\t\t} catch(e) {\n\t\t\th.reject(e);\n\t\t}\n\t}\n\n\t/**\n\t * Has the same behavior that {@link apply} has, with the difference that the\n\t * arguments to the function are provided individually, while {@link apply} accepts\n\t * a single array.\n\t *\n\t * @example\n\t *    function sumSmallNumbers(x, y, callback) {\n\t *\t\tvar result = x + y;\n\t *\t\tif(result < 10) {\n\t *\t\t\tcallback(null, result);\n\t *\t\t} else {\n\t *\t\t\tcallback(new Error(\"Calculation failed\"));\n\t *\t\t}\n\t *\t}\n\t *\n\t *    // Logs '5'\n\t *    nodefn.call(sumSmallNumbers, 2, 3).then(console.log, console.error);\n\t *\n\t *    // Logs 'Calculation failed'\n\t *    nodefn.call(sumSmallNumbers, 5, 10).then(console.log, console.error);\n\t *\n\t * @param {function} f node-style function that will be called\n\t * @param {...*} [args] arguments that will be forwarded to the function\n\t * @returns {Promise} promise for the value func passes to its callback\n\t */\n\tfunction call(f /*, args... */) {\n\t\treturn _apply(f, this, slice.call(arguments, 1));\n\t}\n\n\t/**\n\t * Takes a node-style function and returns new function that wraps the\n\t * original and, instead of taking a callback, returns a promise. Also, it\n\t * knows how to handle promises given as arguments, waiting for their\n\t * resolution before executing.\n\t *\n\t * Upon execution, the orginal function is executed as well. If it passes\n\t * a truthy value as the first argument to the callback, it will be\n\t * interpreted as an error condition, and the promise will be rejected\n\t * with it. Otherwise, the call is considered a resolution, and the promise\n\t * is resolved with the callback's second argument.\n\t *\n\t * @example\n\t *    var fs = require(\"fs\"), nodefn = require(\"when/node/function\");\n\t *\n\t *    var promiseRead = nodefn.lift(fs.readFile);\n\t *\n\t *    // The promise is resolved with the contents of the file if everything\n\t *    // goes ok\n\t *    promiseRead('exists.txt').then(console.log, console.error);\n\t *\n\t *    // And will be rejected if something doesn't work out\n\t *    // (e.g. the files does not exist)\n\t *    promiseRead('doesnt_exist.txt').then(console.log, console.error);\n\t *\n\t *\n\t * @param {Function} f node-style function to be lifted\n\t * @param {...*} [args] arguments to be prepended for the new function @deprecated\n\t * @returns {Function} a promise-returning function\n\t */\n\tfunction lift(f /*, args... */) {\n\t\tvar args1 = arguments.length > 1 ? slice.call(arguments, 1) : [];\n\t\treturn function() {\n\t\t\t// TODO: Simplify once partialing has been removed\n\t\t\tvar l = args1.length;\n\t\t\tvar al = arguments.length;\n\t\t\tvar args = new Array(al + l);\n\t\t\tvar i;\n\t\t\tfor(i=0; i<l; ++i) {\n\t\t\t\targs[i] = args1[i];\n\t\t\t}\n\t\t\tfor(i=0; i<al; ++i) {\n\t\t\t\targs[i+l] = arguments[i];\n\t\t\t}\n\t\t\treturn _apply(f, this, args);\n\t\t};\n\t}\n\n\t/**\n\t * Lift all the functions/methods on src\n\t * @param {object|function} src source whose functions will be lifted\n\t * @param {function?} combine optional function for customizing the lifting\n\t *  process. It is passed dst, the lifted function, and the property name of\n\t *  the original function on src.\n\t * @param {(object|function)?} dst option destination host onto which to place lifted\n\t *  functions. If not provided, liftAll returns a new object.\n\t * @returns {*} If dst is provided, returns dst with lifted functions as\n\t *  properties.  If dst not provided, returns a new object with lifted functions.\n\t */\n\tfunction liftAll(src, combine, dst) {\n\t\treturn _liftAll(lift, combine, dst, src);\n\t}\n\n\t/**\n\t * Takes an object that responds to the resolver interface, and returns\n\t * a function that will resolve or reject it depending on how it is called.\n\t *\n\t * @example\n\t *\tfunction callbackTakingFunction(callback) {\n\t *\t\tif(somethingWrongHappened) {\n\t *\t\t\tcallback(error);\n\t *\t\t} else {\n\t *\t\t\tcallback(null, interestingValue);\n\t *\t\t}\n\t *\t}\n\t *\n\t *\tvar when = require('when'), nodefn = require('when/node/function');\n\t *\n\t *\tvar deferred = when.defer();\n\t *\tcallbackTakingFunction(nodefn.createCallback(deferred.resolver));\n\t *\n\t *\tdeferred.promise.then(function(interestingValue) {\n\t *\t\t// Use interestingValue\n\t *\t});\n\t *\n\t * @param {Resolver} resolver that will be 'attached' to the callback\n\t * @returns {Function} a node-style callback function\n\t */\n\tfunction createCallback(resolver) {\n\t\treturn function(err, value) {\n\t\t\tif(err) {\n\t\t\t\tresolver.reject(err);\n\t\t\t} else if(arguments.length > 2) {\n\t\t\t\tresolver.resolve(slice.call(arguments, 1));\n\t\t\t} else {\n\t\t\t\tresolver.resolve(value);\n\t\t\t}\n\t\t};\n\t}\n\n\t/**\n\t * Attaches a node-style callback to a promise, ensuring the callback is\n\t * called for either fulfillment or rejection. Returns a promise with the same\n\t * state as the passed-in promise.\n\t *\n\t * @example\n\t *\tvar deferred = when.defer();\n\t *\n\t *\tfunction callback(err, value) {\n\t *\t\t// Handle err or use value\n\t *\t}\n\t *\n\t *\tbindCallback(deferred.promise, callback);\n\t *\n\t *\tdeferred.resolve('interesting value');\n\t *\n\t * @param {Promise} promise The promise to be attached to.\n\t * @param {Function} callback The node-style callback to attach.\n\t * @returns {Promise} A promise with the same state as the passed-in promise.\n\t */\n\tfunction bindCallback(promise, callback) {\n\t\tpromise = when(promise);\n\n\t\tif (callback) {\n\t\t\tpromise.then(success, wrapped);\n\t\t}\n\n\t\treturn promise;\n\n\t\tfunction success(value) {\n\t\t\twrapped(null, value);\n\t\t}\n\n\t\tfunction wrapped(err, value) {\n\t\t\tsetTimer(function () {\n\t\t\t\tcallback(err, value);\n\t\t\t}, 0);\n\t\t}\n\t}\n\n\t/**\n\t * Takes a node-style callback and returns new function that accepts a\n\t * promise, calling the original callback when the promise is either\n\t * fulfilled or rejected with the appropriate arguments.\n\t *\n\t * @example\n\t *\tvar deferred = when.defer();\n\t *\n\t *\tfunction callback(err, value) {\n\t *\t\t// Handle err or use value\n\t *\t}\n\t *\n\t *\tvar wrapped = liftCallback(callback);\n\t *\n\t *\t// `wrapped` can now be passed around at will\n\t *\twrapped(deferred.promise);\n\t *\n\t *\tdeferred.resolve('interesting value');\n\t *\n\t * @param {Function} callback The node-style callback to wrap.\n\t * @returns {Function} The lifted, promise-accepting function.\n\t */\n\tfunction liftCallback(callback) {\n\t\treturn function(promise) {\n\t\t\treturn bindCallback(promise, callback);\n\t\t};\n\t}\n});\n\n})(typeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); });\n\n\n\n\n},{\"./lib/apply\":12,\"./lib/env\":22,\"./lib/liftAll\":24,\"./when\":38}],33:[function(require,module,exports){\n/** @license MIT License (c) copyright 2011-2013 original author or authors */\n\n/**\n * parallel.js\n *\n * Run a set of task functions in parallel.  All tasks will\n * receive the same args\n *\n * @author Brian Cavalier\n * @author John Hann\n */\n\n(function(define) {\ndefine(function(require) {\n\n\tvar when = require('./when');\n\tvar all = when.Promise.all;\n\tvar slice = Array.prototype.slice;\n\n\t/**\n\t * Run array of tasks in parallel\n\t * @param tasks {Array|Promise} array or promiseForArray of task functions\n\t * @param [args] {*} arguments to be passed to all tasks\n\t * @return {Promise} promise for array containing the\n\t * result of each task in the array position corresponding\n\t * to position of the task in the tasks array\n\t */\n\treturn function parallel(tasks /*, args... */) {\n\t\treturn all(slice.call(arguments, 1)).then(function(args) {\n\t\t\treturn when.map(tasks, function(task) {\n\t\t\t\treturn task.apply(void 0, args);\n\t\t\t});\n\t\t});\n\t};\n\n});\n})(typeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); });\n\n\n\n},{\"./when\":38}],34:[function(require,module,exports){\n/** @license MIT License (c) copyright 2011-2013 original author or authors */\n\n/**\n * pipeline.js\n *\n * Run a set of task functions in sequence, passing the result\n * of the previous as an argument to the next.  Like a shell\n * pipeline, e.g. `cat file.txt | grep 'foo' | sed -e 's/foo/bar/g'\n *\n * @author Brian Cavalier\n * @author John Hann\n */\n\n(function(define) {\ndefine(function(require) {\n\n\tvar when = require('./when');\n\tvar all = when.Promise.all;\n\tvar slice = Array.prototype.slice;\n\n\t/**\n\t * Run array of tasks in a pipeline where the next\n\t * tasks receives the result of the previous.  The first task\n\t * will receive the initialArgs as its argument list.\n\t * @param tasks {Array|Promise} array or promise for array of task functions\n\t * @param [initialArgs...] {*} arguments to be passed to the first task\n\t * @return {Promise} promise for return value of the final task\n\t */\n\treturn function pipeline(tasks /* initialArgs... */) {\n\t\t// Self-optimizing function to run first task with multiple\n\t\t// args using apply, but subsequence tasks via direct invocation\n\t\tvar runTask = function(args, task) {\n\t\t\trunTask = function(arg, task) {\n\t\t\t\treturn task(arg);\n\t\t\t};\n\n\t\t\treturn task.apply(null, args);\n\t\t};\n\n\t\treturn all(slice.call(arguments, 1)).then(function(args) {\n\t\t\treturn when.reduce(tasks, function(arg, task) {\n\t\t\t\treturn runTask(arg, task);\n\t\t\t}, args);\n\t\t});\n\t};\n\n});\n})(typeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); });\n\n\n\n},{\"./when\":38}],35:[function(require,module,exports){\n/** @license MIT License (c) copyright 2012-2013 original author or authors */\n\n/**\n * poll.js\n *\n * Helper that polls until cancelled or for a condition to become true.\n *\n * @author Scott Andrews\n */\n\n(function (define) { 'use strict';\ndefine(function(require) {\n\n\tvar when = require('./when');\n\tvar attempt = when['try'];\n\tvar cancelable = require('./cancelable');\n\n\t/**\n\t * Periodically execute the task function on the msec delay. The result of\n\t * the task may be verified by watching for a condition to become true. The\n\t * returned deferred is cancellable if the polling needs to be cancelled\n\t * externally before reaching a resolved state.\n\t *\n\t * The next vote is scheduled after the results of the current vote are\n\t * verified and rejected.\n\t *\n\t * Polling may be terminated by the verifier returning a truthy value,\n\t * invoking cancel() on the returned promise, or the task function returning\n\t * a rejected promise.\n\t *\n\t * Usage:\n\t *\n\t * var count = 0;\n\t * function doSomething() { return count++ }\n\t *\n\t * // poll until cancelled\n\t * var p = poll(doSomething, 1000);\n\t * ...\n\t * p.cancel();\n\t *\n\t * // poll until condition is met\n\t * poll(doSomething, 1000, function(result) { return result > 10 })\n\t *     .then(function(result) { assert result == 10 });\n\t *\n\t * // delay first vote\n\t * poll(doSomething, 1000, anyFunc, true);\n\t *\n\t * @param task {Function} function that is executed after every timeout\n\t * @param interval {number|Function} timeout in milliseconds\n\t * @param [verifier] {Function} function to evaluate the result of the vote.\n\t *     May return a {Promise} or a {Boolean}. Rejecting the promise or a\n\t *     falsey value will schedule the next vote.\n\t * @param [delayInitialTask] {boolean} if truthy, the first vote is scheduled\n\t *     instead of immediate\n\t *\n\t * @returns {Promise}\n\t */\n\treturn function poll(task, interval, verifier, delayInitialTask) {\n\t\tvar deferred, canceled, reject;\n\n\t\tcanceled = false;\n\t\tdeferred = cancelable(when.defer(), function () { canceled = true; });\n\t\treject = deferred.reject;\n\n\t\tverifier = verifier || function () { return false; };\n\n\t\tif (typeof interval !== 'function') {\n\t\t\tinterval = (function (interval) {\n\t\t\t\treturn function () { return when().delay(interval); };\n\t\t\t})(interval);\n\t\t}\n\n\t\tfunction certify(result) {\n\t\t\tdeferred.resolve(result);\n\t\t}\n\n\t\tfunction schedule(result) {\n\t\t\tattempt(interval).then(vote, reject);\n\t\t\tif (result !== void 0) {\n\t\t\t\tdeferred.notify(result);\n\t\t\t}\n\t\t}\n\n\t\tfunction vote() {\n\t\t\tif (canceled) { return; }\n\t\t\twhen(task(),\n\t\t\t\tfunction (result) {\n\t\t\t\t\twhen(verifier(result),\n\t\t\t\t\t\tfunction (verification) {\n\t\t\t\t\t\t\treturn verification ? certify(result) : schedule(result);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction () { schedule(result); }\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\treject\n\t\t\t);\n\t\t}\n\n\t\tif (delayInitialTask) {\n\t\t\tschedule();\n\t\t} else {\n\t\t\t// if task() is blocking, vote will also block\n\t\t\tvote();\n\t\t}\n\n\t\t// make the promise cancelable\n\t\tdeferred.promise = Object.create(deferred.promise);\n\t\tdeferred.promise.cancel = deferred.cancel;\n\n\t\treturn deferred.promise;\n\t};\n\n});\n})(typeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); });\n\n},{\"./cancelable\":4,\"./when\":38}],36:[function(require,module,exports){\n/** @license MIT License (c) copyright 2011-2013 original author or authors */\n\n/**\n * sequence.js\n *\n * Run a set of task functions in sequence.  All tasks will\n * receive the same args.\n *\n * @author Brian Cavalier\n * @author John Hann\n */\n\n(function(define) {\ndefine(function(require) {\n\n\tvar when = require('./when');\n\tvar all = when.Promise.all;\n\tvar slice = Array.prototype.slice;\n\n\t/**\n\t * Run array of tasks in sequence with no overlap\n\t * @param tasks {Array|Promise} array or promiseForArray of task functions\n\t * @param [args] {*} arguments to be passed to all tasks\n\t * @return {Promise} promise for an array containing\n\t * the result of each task in the array position corresponding\n\t * to position of the task in the tasks array\n\t */\n\treturn function sequence(tasks /*, args... */) {\n\t\tvar results = [];\n\n\t\treturn all(slice.call(arguments, 1)).then(function(args) {\n\t\t\treturn when.reduce(tasks, function(results, task) {\n\t\t\t\treturn when(task.apply(void 0, args), addResult);\n\t\t\t}, results);\n\t\t});\n\n\t\tfunction addResult(result) {\n\t\t\tresults.push(result);\n\t\t\treturn results;\n\t\t}\n\t};\n\n});\n})(typeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); });\n\n\n\n},{\"./when\":38}],37:[function(require,module,exports){\n/** @license MIT License (c) copyright 2011-2013 original author or authors */\n\n/**\n * timeout.js\n *\n * Helper that returns a promise that rejects after a specified timeout,\n * if not explicitly resolved or rejected before that.\n *\n * @author Brian Cavalier\n * @author John Hann\n */\n\n(function(define) {\ndefine(function(require) {\n\n\tvar when = require('./when');\n\n    /**\n\t * @deprecated Use when(trigger).timeout(ms)\n     */\n    return function timeout(msec, trigger) {\n\t\treturn when(trigger).timeout(msec);\n    };\n});\n})(typeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); });\n\n\n\n},{\"./when\":38}],38:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n\n/**\n * Promises/A+ and when() implementation\n * when is part of the cujoJS family of libraries (http://cujojs.com/)\n * @author Brian Cavalier\n * @author John Hann\n */\n(function(define) { 'use strict';\ndefine(function (require) {\n\n\tvar timed = require('./lib/decorators/timed');\n\tvar array = require('./lib/decorators/array');\n\tvar flow = require('./lib/decorators/flow');\n\tvar fold = require('./lib/decorators/fold');\n\tvar inspect = require('./lib/decorators/inspect');\n\tvar generate = require('./lib/decorators/iterate');\n\tvar progress = require('./lib/decorators/progress');\n\tvar withThis = require('./lib/decorators/with');\n\tvar unhandledRejection = require('./lib/decorators/unhandledRejection');\n\tvar TimeoutError = require('./lib/TimeoutError');\n\n\tvar Promise = [array, flow, fold, generate, progress,\n\t\tinspect, withThis, timed, unhandledRejection]\n\t\t.reduce(function(Promise, feature) {\n\t\t\treturn feature(Promise);\n\t\t}, require('./lib/Promise'));\n\n\tvar apply = require('./lib/apply')(Promise);\n\n\t// Public API\n\n\twhen.promise     = promise;              // Create a pending promise\n\twhen.resolve     = Promise.resolve;      // Create a resolved promise\n\twhen.reject      = Promise.reject;       // Create a rejected promise\n\n\twhen.lift        = lift;                 // lift a function to return promises\n\twhen['try']      = attempt;              // call a function and return a promise\n\twhen.attempt     = attempt;              // alias for when.try\n\n\twhen.iterate     = Promise.iterate;      // DEPRECATED (use cujojs/most streams) Generate a stream of promises\n\twhen.unfold      = Promise.unfold;       // DEPRECATED (use cujojs/most streams) Generate a stream of promises\n\n\twhen.join        = join;                 // Join 2 or more promises\n\n\twhen.all         = all;                  // Resolve a list of promises\n\twhen.settle      = settle;               // Settle a list of promises\n\n\twhen.any         = lift(Promise.any);    // One-winner race\n\twhen.some        = lift(Promise.some);   // Multi-winner race\n\twhen.race        = lift(Promise.race);   // First-to-settle race\n\n\twhen.map         = map;                  // Array.map() for promises\n\twhen.filter      = filter;               // Array.filter() for promises\n\twhen.reduce      = lift(Promise.reduce);       // Array.reduce() for promises\n\twhen.reduceRight = lift(Promise.reduceRight);  // Array.reduceRight() for promises\n\n\twhen.isPromiseLike = isPromiseLike;      // Is something promise-like, aka thenable\n\n\twhen.Promise     = Promise;              // Promise constructor\n\twhen.defer       = defer;                // Create a {promise, resolve, reject} tuple\n\n\t// Error types\n\n\twhen.TimeoutError = TimeoutError;\n\n\t/**\n\t * Get a trusted promise for x, or by transforming x with onFulfilled\n\t *\n\t * @param {*} x\n\t * @param {function?} onFulfilled callback to be called when x is\n\t *   successfully fulfilled.  If promiseOrValue is an immediate value, callback\n\t *   will be invoked immediately.\n\t * @param {function?} onRejected callback to be called when x is\n\t *   rejected.\n\t * @param {function?} onProgress callback to be called when progress updates\n\t *   are issued for x. @deprecated\n\t * @returns {Promise} a new promise that will fulfill with the return\n\t *   value of callback or errback or the completion value of promiseOrValue if\n\t *   callback and/or errback is not supplied.\n\t */\n\tfunction when(x, onFulfilled, onRejected, onProgress) {\n\t\tvar p = Promise.resolve(x);\n\t\tif (arguments.length < 2) {\n\t\t\treturn p;\n\t\t}\n\n\t\treturn p.then(onFulfilled, onRejected, onProgress);\n\t}\n\n\t/**\n\t * Creates a new promise whose fate is determined by resolver.\n\t * @param {function} resolver function(resolve, reject, notify)\n\t * @returns {Promise} promise whose fate is determine by resolver\n\t */\n\tfunction promise(resolver) {\n\t\treturn new Promise(resolver);\n\t}\n\n\t/**\n\t * Lift the supplied function, creating a version of f that returns\n\t * promises, and accepts promises as arguments.\n\t * @param {function} f\n\t * @returns {Function} version of f that returns promises\n\t */\n\tfunction lift(f) {\n\t\treturn function() {\n\t\t\tfor(var i=0, l=arguments.length, a=new Array(l); i<l; ++i) {\n\t\t\t\ta[i] = arguments[i];\n\t\t\t}\n\t\t\treturn apply(f, this, a);\n\t\t};\n\t}\n\n\t/**\n\t * Call f in a future turn, with the supplied args, and return a promise\n\t * for the result.\n\t * @param {function} f\n\t * @returns {Promise}\n\t */\n\tfunction attempt(f /*, args... */) {\n\t\t/*jshint validthis:true */\n\t\tfor(var i=0, l=arguments.length-1, a=new Array(l); i<l; ++i) {\n\t\t\ta[i] = arguments[i+1];\n\t\t}\n\t\treturn apply(f, this, a);\n\t}\n\n\t/**\n\t * Creates a {promise, resolver} pair, either or both of which\n\t * may be given out safely to consumers.\n\t * @return {{promise: Promise, resolve: function, reject: function, notify: function}}\n\t */\n\tfunction defer() {\n\t\treturn new Deferred();\n\t}\n\n\tfunction Deferred() {\n\t\tvar p = Promise._defer();\n\n\t\tfunction resolve(x) { p._handler.resolve(x); }\n\t\tfunction reject(x) { p._handler.reject(x); }\n\t\tfunction notify(x) { p._handler.notify(x); }\n\n\t\tthis.promise = p;\n\t\tthis.resolve = resolve;\n\t\tthis.reject = reject;\n\t\tthis.notify = notify;\n\t\tthis.resolver = { resolve: resolve, reject: reject, notify: notify };\n\t}\n\n\t/**\n\t * Determines if x is promise-like, i.e. a thenable object\n\t * NOTE: Will return true for *any thenable object*, and isn't truly\n\t * safe, since it may attempt to access the `then` property of x (i.e.\n\t *  clever/malicious getters may do weird things)\n\t * @param {*} x anything\n\t * @returns {boolean} true if x is promise-like\n\t */\n\tfunction isPromiseLike(x) {\n\t\treturn x && typeof x.then === 'function';\n\t}\n\n\t/**\n\t * Return a promise that will resolve only once all the supplied arguments\n\t * have resolved. The resolution value of the returned promise will be an array\n\t * containing the resolution values of each of the arguments.\n\t * @param {...*} arguments may be a mix of promises and values\n\t * @returns {Promise}\n\t */\n\tfunction join(/* ...promises */) {\n\t\treturn Promise.all(arguments);\n\t}\n\n\t/**\n\t * Return a promise that will fulfill once all input promises have\n\t * fulfilled, or reject when any one input promise rejects.\n\t * @param {array|Promise} promises array (or promise for an array) of promises\n\t * @returns {Promise}\n\t */\n\tfunction all(promises) {\n\t\treturn when(promises, Promise.all);\n\t}\n\n\t/**\n\t * Return a promise that will always fulfill with an array containing\n\t * the outcome states of all input promises.  The returned promise\n\t * will only reject if `promises` itself is a rejected promise.\n\t * @param {array|Promise} promises array (or promise for an array) of promises\n\t * @returns {Promise} promise for array of settled state descriptors\n\t */\n\tfunction settle(promises) {\n\t\treturn when(promises, Promise.settle);\n\t}\n\n\t/**\n\t * Promise-aware array map function, similar to `Array.prototype.map()`,\n\t * but input array may contain promises or values.\n\t * @param {Array|Promise} promises array of anything, may contain promises and values\n\t * @param {function(x:*, index:Number):*} mapFunc map function which may\n\t *  return a promise or value\n\t * @returns {Promise} promise that will fulfill with an array of mapped values\n\t *  or reject if any input promise rejects.\n\t */\n\tfunction map(promises, mapFunc) {\n\t\treturn when(promises, function(promises) {\n\t\t\treturn Promise.map(promises, mapFunc);\n\t\t});\n\t}\n\n\t/**\n\t * Filter the provided array of promises using the provided predicate.  Input may\n\t * contain promises and values\n\t * @param {Array|Promise} promises array of promises and values\n\t * @param {function(x:*, index:Number):boolean} predicate filtering predicate.\n\t *  Must return truthy (or promise for truthy) for items to retain.\n\t * @returns {Promise} promise that will fulfill with an array containing all items\n\t *  for which predicate returned truthy.\n\t */\n\tfunction filter(promises, predicate) {\n\t\treturn when(promises, function(promises) {\n\t\t\treturn Promise.filter(promises, predicate);\n\t\t});\n\t}\n\n\treturn when;\n});\n})(typeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); });\n\n},{\"./lib/Promise\":9,\"./lib/TimeoutError\":11,\"./lib/apply\":12,\"./lib/decorators/array\":13,\"./lib/decorators/flow\":14,\"./lib/decorators/fold\":15,\"./lib/decorators/inspect\":16,\"./lib/decorators/iterate\":17,\"./lib/decorators/progress\":18,\"./lib/decorators/timed\":19,\"./lib/decorators/unhandledRejection\":20,\"./lib/decorators/with\":21}]},{},[1])\n//# sourceMappingURL=when.debug.js.map\n(1)\n});\n;"]}