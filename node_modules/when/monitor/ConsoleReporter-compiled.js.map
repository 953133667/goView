{"version":3,"sources":["ConsoleReporter.js"],"names":[],"mappings":"AAAA;AACA;AACA;;AAEC,WAAS,MAAT,EAAiB;AAAE;;AACpB,QAAO,UAAS,OAAT,EAAkB;;AAExB,MAAI,QAAQ,QAAQ,SAAR,CAAZ;AACA,MAAI,yBAAyB,mCAA7B;AACA,MAAI,gBAAgB,sEAApB;;AAEA,WAAS,eAAT,GAA2B;AAC1B,QAAK,mBAAL,GAA2B,KAA3B;AACA;;AAED,kBAAgB,SAAhB,GAA4B,oBAA5B;;AAEA,kBAAgB,SAAhB,CAA0B,GAA1B,GAAgC,UAAS,MAAT,EAAiB;AAChD,OAAG,OAAO,MAAP,KAAkB,CAArB,EAAwB;AACvB,QAAG,KAAK,mBAAR,EAA6B;AAC5B,UAAK,mBAAL,GAA2B,KAA3B;AACA,UAAK,GAAL,CAAS,aAAT;AACA;AACD;AACA;;AAED,QAAK,mBAAL,GAA2B,IAA3B;AACA,QAAK,UAAL,CAAgB,yBAAyB,OAAO,MAAhD;AACA,OAAI;AACH,SAAK,IAAL,CAAU,MAAV;AACA,IAFD,SAEU;AACT,SAAK,QAAL;AACA;AACD,GAhBD;;AAkBA,kBAAgB,SAAhB,CAA0B,IAA1B,GAAiC,UAAS,MAAT,EAAiB;AACjD,QAAI,IAAI,IAAE,CAAV,EAAa,IAAE,OAAO,MAAtB,EAA8B,EAAE,CAAhC,EAAmC;AAClC,SAAK,IAAL,CAAU,MAAM,MAAN,CAAa,OAAO,CAAP,CAAb,CAAV;AACA;AACD,GAJD;;AAMA,WAAS,kBAAT,GAA8B;AAC7B;AACA,OAAI,GAAJ,EAAS,IAAT,EAAe,UAAf,EAA2B,QAA3B;;AAEA,OAAG,OAAO,OAAP,KAAmB,WAAtB,EAAmC;AAClC,UAAM,OAAO,mBAAb;AACA,IAFD,MAEO;AACN;AACA;AACA;AACA,QAAI,eAAe,OAAnB;AACA,QAAG,OAAO,aAAa,KAApB,KAA8B,UAA9B,IACC,OAAO,aAAa,GAApB,KAA4B,UADhC,EAC4C;AAC3C,YAAO,UAAS,CAAT,EAAY;AAClB,mBAAa,KAAb,CAAmB,CAAnB;AACA,MAFD;;AAIA,WAAM,UAAS,CAAT,EAAY;AACjB,mBAAa,GAAb,CAAiB,CAAjB;AACA,MAFD;;AAIA,SAAG,OAAO,aAAa,cAApB,KAAuC,UAA1C,EAAsD;AACrD,mBAAa,UAAS,CAAT,EAAY;AACxB,oBAAa,cAAb,CAA4B,CAA5B;AACA,OAFD;AAGA,iBAAW,YAAW;AACrB,oBAAa,QAAb;AACA,OAFD;AAGA;AACD,KAlBD,MAkBO;AACN;AACA;AACA;AACA;AACA;AACA,SAAI,OAAO,aAAa,GAApB,KAA4B,WAA5B,IAA2C,OAAO,IAAP,KAAgB,WAA/D,EAA4E;AAC3E,YAAM,OAAO,UAAS,CAAT,EAAY;AACxB,WAAI,OAAO,CAAP,KAAa,QAAjB,EAA2B;AAC1B,YAAI;AACH,aAAI,KAAK,SAAL,CAAe,CAAf,CAAJ;AACA,SAFD,CAEE,OAAO,CAAP,EAAU,CACX;AACD;AACD,oBAAa,GAAb,CAAiB,CAAjB;AACA,OARD;AASA,MAVD,MAUO;AACN,YAAM,OAAO,mBAAb;AACA;AACD;AACD;;AAED,UAAO;AACN,SAAK,GADC;AAEN,UAAM,IAFA;AAGN,gBAAY,cAAc,IAHpB;AAIN,cAAU,YAAY;AAJhB,IAAP;AAMA;;AAED,WAAS,mBAAT,GAA+B,CAAE;;AAEjC,SAAO,eAAP;AAEA,EAnGD;AAoGC,CArGA,EAqGC,OAAO,MAAP,KAAkB,UAAlB,IAAgC,OAAO,GAAvC,GAA6C,MAA7C,GAAsD,UAAS,OAAT,EAAkB;AAAE,QAAO,OAAP,GAAiB,QAAQ,OAAR,CAAjB;AAAoC,CArG/G,CAAD","file":"ConsoleReporter-compiled.js","sourcesContent":["/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function(require) {\n\n\tvar error = require('./error');\n\tvar unhandledRejectionsMsg = '[promises] Unhandled rejections: ';\n\tvar allHandledMsg = '[promises] All previously unhandled rejections have now been handled';\n\n\tfunction ConsoleReporter() {\n\t\tthis._previouslyReported = false;\n\t}\n\n\tConsoleReporter.prototype = initDefaultLogging();\n\n\tConsoleReporter.prototype.log = function(traces) {\n\t\tif(traces.length === 0) {\n\t\t\tif(this._previouslyReported) {\n\t\t\t\tthis._previouslyReported = false;\n\t\t\t\tthis.msg(allHandledMsg);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tthis._previouslyReported = true;\n\t\tthis.groupStart(unhandledRejectionsMsg + traces.length);\n\t\ttry {\n\t\t\tthis._log(traces);\n\t\t} finally {\n\t\t\tthis.groupEnd();\n\t\t}\n\t};\n\n\tConsoleReporter.prototype._log = function(traces) {\n\t\tfor(var i=0; i<traces.length; ++i) {\n\t\t\tthis.warn(error.format(traces[i]));\n\t\t}\n\t};\n\n\tfunction initDefaultLogging() {\n\t\t/*jshint maxcomplexity:7*/\n\t\tvar log, warn, groupStart, groupEnd;\n\n\t\tif(typeof console === 'undefined') {\n\t\t\tlog = warn = consoleNotAvailable;\n\t\t} else {\n\t\t\t// Alias console to prevent things like uglify's drop_console option from\n\t\t\t// removing console.log/error. Unhandled rejections fall into the same\n\t\t\t// category as uncaught exceptions, and build tools shouldn't silence them.\n\t\t\tvar localConsole = console;\n\t\t\tif(typeof localConsole.error === 'function'\n\t\t\t\t&& typeof localConsole.dir === 'function') {\n\t\t\t\twarn = function(s) {\n\t\t\t\t\tlocalConsole.error(s);\n\t\t\t\t};\n\n\t\t\t\tlog = function(s) {\n\t\t\t\t\tlocalConsole.log(s);\n\t\t\t\t};\n\n\t\t\t\tif(typeof localConsole.groupCollapsed === 'function') {\n\t\t\t\t\tgroupStart = function(s) {\n\t\t\t\t\t\tlocalConsole.groupCollapsed(s);\n\t\t\t\t\t};\n\t\t\t\t\tgroupEnd = function() {\n\t\t\t\t\t\tlocalConsole.groupEnd();\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// IE8 has console.log and JSON, so we can make a\n\t\t\t\t// reasonably useful warn() from those.\n\t\t\t\t// Credit to webpro (https://github.com/webpro) for this idea\n\t\t\t\t// typeof localConsole.log will return 'object' in IE8, so can't test it with === 'function'\n\t\t\t\t// Since this is more of a corner case for IE8, I'm ok to check it with !== 'undefined' to reduce complexity\n\t\t\t\tif (typeof localConsole.log !== 'undefined' && typeof JSON !== 'undefined') {\n\t\t\t\t\tlog = warn = function(x) {\n\t\t\t\t\t\tif (typeof x !== 'string') {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tx = JSON.stringify(x);\n\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlocalConsole.log(x);\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tlog = warn = consoleNotAvailable;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tmsg: log,\n\t\t\twarn: warn,\n\t\t\tgroupStart: groupStart || warn,\n\t\t\tgroupEnd: groupEnd || consoleNotAvailable\n\t\t};\n\t}\n\n\tfunction consoleNotAvailable() {}\n\n\treturn ConsoleReporter;\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(require); }));\n"]}