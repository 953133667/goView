{"version":3,"sources":["Promise.js"],"names":[],"mappings":"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","file":"Promise-compiled.js","sourcesContent":["!function(e){\"object\"==typeof exports?module.exports=e():\"function\"==typeof define&&define.amd?define(e):\"undefined\"!=typeof window?window.Promise=e():\"undefined\"!=typeof global?global.Promise=e():\"undefined\"!=typeof self&&(self.Promise=e())}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error(\"Cannot find module '\"+o+\"'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * ES6 global Promise shim\n */\nvar unhandledRejections = require('../lib/decorators/unhandledRejection');\nvar PromiseConstructor = unhandledRejections(require('../lib/Promise'));\n\nmodule.exports = typeof global != 'undefined' ? (global.Promise = PromiseConstructor)\n\t           : typeof self   != 'undefined' ? (self.Promise   = PromiseConstructor)\n\t           : PromiseConstructor;\n\n},{\"../lib/Promise\":2,\"../lib/decorators/unhandledRejection\":4}],2:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function (require) {\n\n\tvar makePromise = require('./makePromise');\n\tvar Scheduler = require('./Scheduler');\n\tvar async = require('./env').asap;\n\n\treturn makePromise({\n\t\tscheduler: new Scheduler(async)\n\t});\n\n});\n})(typeof define === 'function' && define.amd ? define : function (factory) { module.exports = factory(require); });\n\n},{\"./Scheduler\":3,\"./env\":5,\"./makePromise\":7}],3:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function() {\n\n\t// Credit to Twisol (https://github.com/Twisol) for suggesting\n\t// this type of extensible queue + trampoline approach for next-tick conflation.\n\n\t/**\n\t * Async task scheduler\n\t * @param {function} async function to schedule a single async function\n\t * @constructor\n\t */\n\tfunction Scheduler(async) {\n\t\tthis._async = async;\n\t\tthis._running = false;\n\n\t\tthis._queue = this;\n\t\tthis._queueLen = 0;\n\t\tthis._afterQueue = {};\n\t\tthis._afterQueueLen = 0;\n\n\t\tvar self = this;\n\t\tthis.drain = function() {\n\t\t\tself._drain();\n\t\t};\n\t}\n\n\t/**\n\t * Enqueue a task\n\t * @param {{ run:function }} task\n\t */\n\tScheduler.prototype.enqueue = function(task) {\n\t\tthis._queue[this._queueLen++] = task;\n\t\tthis.run();\n\t};\n\n\t/**\n\t * Enqueue a task to run after the main task queue\n\t * @param {{ run:function }} task\n\t */\n\tScheduler.prototype.afterQueue = function(task) {\n\t\tthis._afterQueue[this._afterQueueLen++] = task;\n\t\tthis.run();\n\t};\n\n\tScheduler.prototype.run = function() {\n\t\tif (!this._running) {\n\t\t\tthis._running = true;\n\t\t\tthis._async(this.drain);\n\t\t}\n\t};\n\n\t/**\n\t * Drain the handler queue entirely, and then the after queue\n\t */\n\tScheduler.prototype._drain = function() {\n\t\tvar i = 0;\n\t\tfor (; i < this._queueLen; ++i) {\n\t\t\tthis._queue[i].run();\n\t\t\tthis._queue[i] = void 0;\n\t\t}\n\n\t\tthis._queueLen = 0;\n\t\tthis._running = false;\n\n\t\tfor (i = 0; i < this._afterQueueLen; ++i) {\n\t\t\tthis._afterQueue[i].run();\n\t\t\tthis._afterQueue[i] = void 0;\n\t\t}\n\n\t\tthis._afterQueueLen = 0;\n\t};\n\n\treturn Scheduler;\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(); }));\n\n},{}],4:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function(require) {\n\n\tvar setTimer = require('../env').setTimer;\n\tvar format = require('../format');\n\n\treturn function unhandledRejection(Promise) {\n\n\t\tvar logError = noop;\n\t\tvar logInfo = noop;\n\t\tvar localConsole;\n\n\t\tif(typeof console !== 'undefined') {\n\t\t\t// Alias console to prevent things like uglify's drop_console option from\n\t\t\t// removing console.log/error. Unhandled rejections fall into the same\n\t\t\t// category as uncaught exceptions, and build tools shouldn't silence them.\n\t\t\tlocalConsole = console;\n\t\t\tlogError = typeof localConsole.error !== 'undefined'\n\t\t\t\t? function (e) { localConsole.error(e); }\n\t\t\t\t: function (e) { localConsole.log(e); };\n\n\t\t\tlogInfo = typeof localConsole.info !== 'undefined'\n\t\t\t\t? function (e) { localConsole.info(e); }\n\t\t\t\t: function (e) { localConsole.log(e); };\n\t\t}\n\n\t\tPromise.onPotentiallyUnhandledRejection = function(rejection) {\n\t\t\tenqueue(report, rejection);\n\t\t};\n\n\t\tPromise.onPotentiallyUnhandledRejectionHandled = function(rejection) {\n\t\t\tenqueue(unreport, rejection);\n\t\t};\n\n\t\tPromise.onFatalRejection = function(rejection) {\n\t\t\tenqueue(throwit, rejection.value);\n\t\t};\n\n\t\tvar tasks = [];\n\t\tvar reported = [];\n\t\tvar running = null;\n\n\t\tfunction report(r) {\n\t\t\tif(!r.handled) {\n\t\t\t\treported.push(r);\n\t\t\t\tlogError('Potentially unhandled rejection [' + r.id + '] ' + format.formatError(r.value));\n\t\t\t}\n\t\t}\n\n\t\tfunction unreport(r) {\n\t\t\tvar i = reported.indexOf(r);\n\t\t\tif(i >= 0) {\n\t\t\t\treported.splice(i, 1);\n\t\t\t\tlogInfo('Handled previous rejection [' + r.id + '] ' + format.formatObject(r.value));\n\t\t\t}\n\t\t}\n\n\t\tfunction enqueue(f, x) {\n\t\t\ttasks.push(f, x);\n\t\t\tif(running === null) {\n\t\t\t\trunning = setTimer(flush, 0);\n\t\t\t}\n\t\t}\n\n\t\tfunction flush() {\n\t\t\trunning = null;\n\t\t\twhile(tasks.length > 0) {\n\t\t\t\ttasks.shift()(tasks.shift());\n\t\t\t}\n\t\t}\n\n\t\treturn Promise;\n\t};\n\n\tfunction throwit(e) {\n\t\tthrow e;\n\t}\n\n\tfunction noop() {}\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(require); }));\n\n},{\"../env\":5,\"../format\":6}],5:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/*global process,document,setTimeout,clearTimeout,MutationObserver,WebKitMutationObserver*/\n(function(define) { 'use strict';\ndefine(function(require) {\n\t/*jshint maxcomplexity:6*/\n\n\t// Sniff \"best\" async scheduling option\n\t// Prefer process.nextTick or MutationObserver, then check for\n\t// setTimeout, and finally vertx, since its the only env that doesn't\n\t// have setTimeout\n\n\tvar MutationObs;\n\tvar capturedSetTimeout = typeof setTimeout !== 'undefined' && setTimeout;\n\n\t// Default env\n\tvar setTimer = function(f, ms) { return setTimeout(f, ms); };\n\tvar clearTimer = function(t) { return clearTimeout(t); };\n\tvar asap = function (f) { return capturedSetTimeout(f, 0); };\n\n\t// Detect specific env\n\tif (isNode()) { // Node\n\t\tasap = function (f) { return process.nextTick(f); };\n\n\t} else if (MutationObs = hasMutationObserver()) { // Modern browser\n\t\tasap = initMutationObserver(MutationObs);\n\n\t} else if (!capturedSetTimeout) { // vert.x\n\t\tvar vertxRequire = require;\n\t\tvar vertx = vertxRequire('vertx');\n\t\tsetTimer = function (f, ms) { return vertx.setTimer(ms, f); };\n\t\tclearTimer = vertx.cancelTimer;\n\t\tasap = vertx.runOnLoop || vertx.runOnContext;\n\t}\n\n\treturn {\n\t\tsetTimer: setTimer,\n\t\tclearTimer: clearTimer,\n\t\tasap: asap\n\t};\n\n\tfunction isNode () {\n\t\treturn typeof process !== 'undefined' &&\n\t\t\tObject.prototype.toString.call(process) === '[object process]';\n\t}\n\n\tfunction hasMutationObserver () {\n\t\treturn (typeof MutationObserver === 'function' && MutationObserver) ||\n\t\t\t(typeof WebKitMutationObserver === 'function' && WebKitMutationObserver);\n\t}\n\n\tfunction initMutationObserver(MutationObserver) {\n\t\tvar scheduled;\n\t\tvar node = document.createTextNode('');\n\t\tvar o = new MutationObserver(run);\n\t\to.observe(node, { characterData: true });\n\n\t\tfunction run() {\n\t\t\tvar f = scheduled;\n\t\t\tscheduled = void 0;\n\t\t\tf();\n\t\t}\n\n\t\tvar i = 0;\n\t\treturn function (f) {\n\t\t\tscheduled = f;\n\t\t\tnode.data = (i ^= 1);\n\t\t};\n\t}\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(require); }));\n\n},{}],6:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function() {\n\n\treturn {\n\t\tformatError: formatError,\n\t\tformatObject: formatObject,\n\t\ttryStringify: tryStringify\n\t};\n\n\t/**\n\t * Format an error into a string.  If e is an Error and has a stack property,\n\t * it's returned.  Otherwise, e is formatted using formatObject, with a\n\t * warning added about e not being a proper Error.\n\t * @param {*} e\n\t * @returns {String} formatted string, suitable for output to developers\n\t */\n\tfunction formatError(e) {\n\t\tvar s = typeof e === 'object' && e !== null && (e.stack || e.message) ? e.stack || e.message : formatObject(e);\n\t\treturn e instanceof Error ? s : s + ' (WARNING: non-Error used)';\n\t}\n\n\t/**\n\t * Format an object, detecting \"plain\" objects and running them through\n\t * JSON.stringify if possible.\n\t * @param {Object} o\n\t * @returns {string}\n\t */\n\tfunction formatObject(o) {\n\t\tvar s = String(o);\n\t\tif(s === '[object Object]' && typeof JSON !== 'undefined') {\n\t\t\ts = tryStringify(o, s);\n\t\t}\n\t\treturn s;\n\t}\n\n\t/**\n\t * Try to return the result of JSON.stringify(x).  If that fails, return\n\t * defaultValue\n\t * @param {*} x\n\t * @param {*} defaultValue\n\t * @returns {String|*} JSON.stringify(x) or defaultValue\n\t */\n\tfunction tryStringify(x, defaultValue) {\n\t\ttry {\n\t\t\treturn JSON.stringify(x);\n\t\t} catch(e) {\n\t\t\treturn defaultValue;\n\t\t}\n\t}\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(); }));\n\n},{}],7:[function(require,module,exports){\n/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function() {\n\n\treturn function makePromise(environment) {\n\n\t\tvar tasks = environment.scheduler;\n\t\tvar emitRejection = initEmitRejection();\n\n\t\tvar objectCreate = Object.create ||\n\t\t\tfunction(proto) {\n\t\t\t\tfunction Child() {}\n\t\t\t\tChild.prototype = proto;\n\t\t\t\treturn new Child();\n\t\t\t};\n\n\t\t/**\n\t\t * Create a promise whose fate is determined by resolver\n\t\t * @constructor\n\t\t * @returns {Promise} promise\n\t\t * @name Promise\n\t\t */\n\t\tfunction Promise(resolver, handler) {\n\t\t\tthis._handler = resolver === Handler ? handler : init(resolver);\n\t\t}\n\n\t\t/**\n\t\t * Run the supplied resolver\n\t\t * @param resolver\n\t\t * @returns {Pending}\n\t\t */\n\t\tfunction init(resolver) {\n\t\t\tvar handler = new Pending();\n\n\t\t\ttry {\n\t\t\t\tresolver(promiseResolve, promiseReject, promiseNotify);\n\t\t\t} catch (e) {\n\t\t\t\tpromiseReject(e);\n\t\t\t}\n\n\t\t\treturn handler;\n\n\t\t\t/**\n\t\t\t * Transition from pre-resolution state to post-resolution state, notifying\n\t\t\t * all listeners of the ultimate fulfillment or rejection\n\t\t\t * @param {*} x resolution value\n\t\t\t */\n\t\t\tfunction promiseResolve (x) {\n\t\t\t\thandler.resolve(x);\n\t\t\t}\n\t\t\t/**\n\t\t\t * Reject this promise with reason, which will be used verbatim\n\t\t\t * @param {Error|*} reason rejection reason, strongly suggested\n\t\t\t *   to be an Error type\n\t\t\t */\n\t\t\tfunction promiseReject (reason) {\n\t\t\t\thandler.reject(reason);\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * @deprecated\n\t\t\t * Issue a progress event, notifying all progress listeners\n\t\t\t * @param {*} x progress event payload to pass to all listeners\n\t\t\t */\n\t\t\tfunction promiseNotify (x) {\n\t\t\t\thandler.notify(x);\n\t\t\t}\n\t\t}\n\n\t\t// Creation\n\n\t\tPromise.resolve = resolve;\n\t\tPromise.reject = reject;\n\t\tPromise.never = never;\n\n\t\tPromise._defer = defer;\n\t\tPromise._handler = getHandler;\n\n\t\t/**\n\t\t * Returns a trusted promise. If x is already a trusted promise, it is\n\t\t * returned, otherwise returns a new trusted Promise which follows x.\n\t\t * @param  {*} x\n\t\t * @return {Promise} promise\n\t\t */\n\t\tfunction resolve(x) {\n\t\t\treturn isPromise(x) ? x\n\t\t\t\t: new Promise(Handler, new Async(getHandler(x)));\n\t\t}\n\n\t\t/**\n\t\t * Return a reject promise with x as its reason (x is used verbatim)\n\t\t * @param {*} x\n\t\t * @returns {Promise} rejected promise\n\t\t */\n\t\tfunction reject(x) {\n\t\t\treturn new Promise(Handler, new Async(new Rejected(x)));\n\t\t}\n\n\t\t/**\n\t\t * Return a promise that remains pending forever\n\t\t * @returns {Promise} forever-pending promise.\n\t\t */\n\t\tfunction never() {\n\t\t\treturn foreverPendingPromise; // Should be frozen\n\t\t}\n\n\t\t/**\n\t\t * Creates an internal {promise, resolver} pair\n\t\t * @private\n\t\t * @returns {Promise}\n\t\t */\n\t\tfunction defer() {\n\t\t\treturn new Promise(Handler, new Pending());\n\t\t}\n\n\t\t// Transformation and flow control\n\n\t\t/**\n\t\t * Transform this promise's fulfillment value, returning a new Promise\n\t\t * for the transformed result.  If the promise cannot be fulfilled, onRejected\n\t\t * is called with the reason.  onProgress *may* be called with updates toward\n\t\t * this promise's fulfillment.\n\t\t * @param {function=} onFulfilled fulfillment handler\n\t\t * @param {function=} onRejected rejection handler\n\t\t * @param {function=} onProgress @deprecated progress handler\n\t\t * @return {Promise} new promise\n\t\t */\n\t\tPromise.prototype.then = function(onFulfilled, onRejected, onProgress) {\n\t\t\tvar parent = this._handler;\n\t\t\tvar state = parent.join().state();\n\n\t\t\tif ((typeof onFulfilled !== 'function' && state > 0) ||\n\t\t\t\t(typeof onRejected !== 'function' && state < 0)) {\n\t\t\t\t// Short circuit: value will not change, simply share handler\n\t\t\t\treturn new this.constructor(Handler, parent);\n\t\t\t}\n\n\t\t\tvar p = this._beget();\n\t\t\tvar child = p._handler;\n\n\t\t\tparent.chain(child, parent.receiver, onFulfilled, onRejected, onProgress);\n\n\t\t\treturn p;\n\t\t};\n\n\t\t/**\n\t\t * If this promise cannot be fulfilled due to an error, call onRejected to\n\t\t * handle the error. Shortcut for .then(undefined, onRejected)\n\t\t * @param {function?} onRejected\n\t\t * @return {Promise}\n\t\t */\n\t\tPromise.prototype['catch'] = function(onRejected) {\n\t\t\treturn this.then(void 0, onRejected);\n\t\t};\n\n\t\t/**\n\t\t * Creates a new, pending promise of the same type as this promise\n\t\t * @private\n\t\t * @returns {Promise}\n\t\t */\n\t\tPromise.prototype._beget = function() {\n\t\t\treturn begetFrom(this._handler, this.constructor);\n\t\t};\n\n\t\tfunction begetFrom(parent, Promise) {\n\t\t\tvar child = new Pending(parent.receiver, parent.join().context);\n\t\t\treturn new Promise(Handler, child);\n\t\t}\n\n\t\t// Array combinators\n\n\t\tPromise.all = all;\n\t\tPromise.race = race;\n\t\tPromise._traverse = traverse;\n\n\t\t/**\n\t\t * Return a promise that will fulfill when all promises in the\n\t\t * input array have fulfilled, or will reject when one of the\n\t\t * promises rejects.\n\t\t * @param {array} promises array of promises\n\t\t * @returns {Promise} promise for array of fulfillment values\n\t\t */\n\t\tfunction all(promises) {\n\t\t\treturn traverseWith(snd, null, promises);\n\t\t}\n\n\t\t/**\n\t\t * Array<Promise<X>> -> Promise<Array<f(X)>>\n\t\t * @private\n\t\t * @param {function} f function to apply to each promise's value\n\t\t * @param {Array} promises array of promises\n\t\t * @returns {Promise} promise for transformed values\n\t\t */\n\t\tfunction traverse(f, promises) {\n\t\t\treturn traverseWith(tryCatch2, f, promises);\n\t\t}\n\n\t\tfunction traverseWith(tryMap, f, promises) {\n\t\t\tvar handler = typeof f === 'function' ? mapAt : settleAt;\n\n\t\t\tvar resolver = new Pending();\n\t\t\tvar pending = promises.length >>> 0;\n\t\t\tvar results = new Array(pending);\n\n\t\t\tfor (var i = 0, x; i < promises.length && !resolver.resolved; ++i) {\n\t\t\t\tx = promises[i];\n\n\t\t\t\tif (x === void 0 && !(i in promises)) {\n\t\t\t\t\t--pending;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\ttraverseAt(promises, handler, i, x, resolver);\n\t\t\t}\n\n\t\t\tif(pending === 0) {\n\t\t\t\tresolver.become(new Fulfilled(results));\n\t\t\t}\n\n\t\t\treturn new Promise(Handler, resolver);\n\n\t\t\tfunction mapAt(i, x, resolver) {\n\t\t\t\tif(!resolver.resolved) {\n\t\t\t\t\ttraverseAt(promises, settleAt, i, tryMap(f, x, i), resolver);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction settleAt(i, x, resolver) {\n\t\t\t\tresults[i] = x;\n\t\t\t\tif(--pending === 0) {\n\t\t\t\t\tresolver.become(new Fulfilled(results));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction traverseAt(promises, handler, i, x, resolver) {\n\t\t\tif (maybeThenable(x)) {\n\t\t\t\tvar h = getHandlerMaybeThenable(x);\n\t\t\t\tvar s = h.state();\n\n\t\t\t\tif (s === 0) {\n\t\t\t\t\th.fold(handler, i, void 0, resolver);\n\t\t\t\t} else if (s > 0) {\n\t\t\t\t\thandler(i, h.value, resolver);\n\t\t\t\t} else {\n\t\t\t\t\tresolver.become(h);\n\t\t\t\t\tvisitRemaining(promises, i+1, h);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\thandler(i, x, resolver);\n\t\t\t}\n\t\t}\n\n\t\tPromise._visitRemaining = visitRemaining;\n\t\tfunction visitRemaining(promises, start, handler) {\n\t\t\tfor(var i=start; i<promises.length; ++i) {\n\t\t\t\tmarkAsHandled(getHandler(promises[i]), handler);\n\t\t\t}\n\t\t}\n\n\t\tfunction markAsHandled(h, handler) {\n\t\t\tif(h === handler) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar s = h.state();\n\t\t\tif(s === 0) {\n\t\t\t\th.visit(h, void 0, h._unreport);\n\t\t\t} else if(s < 0) {\n\t\t\t\th._unreport();\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Fulfill-reject competitive race. Return a promise that will settle\n\t\t * to the same state as the earliest input promise to settle.\n\t\t *\n\t\t * WARNING: The ES6 Promise spec requires that race()ing an empty array\n\t\t * must return a promise that is pending forever.  This implementation\n\t\t * returns a singleton forever-pending promise, the same singleton that is\n\t\t * returned by Promise.never(), thus can be checked with ===\n\t\t *\n\t\t * @param {array} promises array of promises to race\n\t\t * @returns {Promise} if input is non-empty, a promise that will settle\n\t\t * to the same outcome as the earliest input promise to settle. if empty\n\t\t * is empty, returns a promise that will never settle.\n\t\t */\n\t\tfunction race(promises) {\n\t\t\tif(typeof promises !== 'object' || promises === null) {\n\t\t\t\treturn reject(new TypeError('non-iterable passed to race()'));\n\t\t\t}\n\n\t\t\t// Sigh, race([]) is untestable unless we return *something*\n\t\t\t// that is recognizable without calling .then() on it.\n\t\t\treturn promises.length === 0 ? never()\n\t\t\t\t : promises.length === 1 ? resolve(promises[0])\n\t\t\t\t : runRace(promises);\n\t\t}\n\n\t\tfunction runRace(promises) {\n\t\t\tvar resolver = new Pending();\n\t\t\tvar i, x, h;\n\t\t\tfor(i=0; i<promises.length; ++i) {\n\t\t\t\tx = promises[i];\n\t\t\t\tif (x === void 0 && !(i in promises)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\th = getHandler(x);\n\t\t\t\tif(h.state() !== 0) {\n\t\t\t\t\tresolver.become(h);\n\t\t\t\t\tvisitRemaining(promises, i+1, h);\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\th.visit(resolver, resolver.resolve, resolver.reject);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn new Promise(Handler, resolver);\n\t\t}\n\n\t\t// Promise internals\n\t\t// Below this, everything is @private\n\n\t\t/**\n\t\t * Get an appropriate handler for x, without checking for cycles\n\t\t * @param {*} x\n\t\t * @returns {object} handler\n\t\t */\n\t\tfunction getHandler(x) {\n\t\t\tif(isPromise(x)) {\n\t\t\t\treturn x._handler.join();\n\t\t\t}\n\t\t\treturn maybeThenable(x) ? getHandlerUntrusted(x) : new Fulfilled(x);\n\t\t}\n\n\t\t/**\n\t\t * Get a handler for thenable x.\n\t\t * NOTE: You must only call this if maybeThenable(x) == true\n\t\t * @param {object|function|Promise} x\n\t\t * @returns {object} handler\n\t\t */\n\t\tfunction getHandlerMaybeThenable(x) {\n\t\t\treturn isPromise(x) ? x._handler.join() : getHandlerUntrusted(x);\n\t\t}\n\n\t\t/**\n\t\t * Get a handler for potentially untrusted thenable x\n\t\t * @param {*} x\n\t\t * @returns {object} handler\n\t\t */\n\t\tfunction getHandlerUntrusted(x) {\n\t\t\ttry {\n\t\t\t\tvar untrustedThen = x.then;\n\t\t\t\treturn typeof untrustedThen === 'function'\n\t\t\t\t\t? new Thenable(untrustedThen, x)\n\t\t\t\t\t: new Fulfilled(x);\n\t\t\t} catch(e) {\n\t\t\t\treturn new Rejected(e);\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Handler for a promise that is pending forever\n\t\t * @constructor\n\t\t */\n\t\tfunction Handler() {}\n\n\t\tHandler.prototype.when\n\t\t\t= Handler.prototype.become\n\t\t\t= Handler.prototype.notify // deprecated\n\t\t\t= Handler.prototype.fail\n\t\t\t= Handler.prototype._unreport\n\t\t\t= Handler.prototype._report\n\t\t\t= noop;\n\n\t\tHandler.prototype._state = 0;\n\n\t\tHandler.prototype.state = function() {\n\t\t\treturn this._state;\n\t\t};\n\n\t\t/**\n\t\t * Recursively collapse handler chain to find the handler\n\t\t * nearest to the fully resolved value.\n\t\t * @returns {object} handler nearest the fully resolved value\n\t\t */\n\t\tHandler.prototype.join = function() {\n\t\t\tvar h = this;\n\t\t\twhile(h.handler !== void 0) {\n\t\t\t\th = h.handler;\n\t\t\t}\n\t\t\treturn h;\n\t\t};\n\n\t\tHandler.prototype.chain = function(to, receiver, fulfilled, rejected, progress) {\n\t\t\tthis.when({\n\t\t\t\tresolver: to,\n\t\t\t\treceiver: receiver,\n\t\t\t\tfulfilled: fulfilled,\n\t\t\t\trejected: rejected,\n\t\t\t\tprogress: progress\n\t\t\t});\n\t\t};\n\n\t\tHandler.prototype.visit = function(receiver, fulfilled, rejected, progress) {\n\t\t\tthis.chain(failIfRejected, receiver, fulfilled, rejected, progress);\n\t\t};\n\n\t\tHandler.prototype.fold = function(f, z, c, to) {\n\t\t\tthis.when(new Fold(f, z, c, to));\n\t\t};\n\n\t\t/**\n\t\t * Handler that invokes fail() on any handler it becomes\n\t\t * @constructor\n\t\t */\n\t\tfunction FailIfRejected() {}\n\n\t\tinherit(Handler, FailIfRejected);\n\n\t\tFailIfRejected.prototype.become = function(h) {\n\t\t\th.fail();\n\t\t};\n\n\t\tvar failIfRejected = new FailIfRejected();\n\n\t\t/**\n\t\t * Handler that manages a queue of consumers waiting on a pending promise\n\t\t * @constructor\n\t\t */\n\t\tfunction Pending(receiver, inheritedContext) {\n\t\t\tPromise.createContext(this, inheritedContext);\n\n\t\t\tthis.consumers = void 0;\n\t\t\tthis.receiver = receiver;\n\t\t\tthis.handler = void 0;\n\t\t\tthis.resolved = false;\n\t\t}\n\n\t\tinherit(Handler, Pending);\n\n\t\tPending.prototype._state = 0;\n\n\t\tPending.prototype.resolve = function(x) {\n\t\t\tthis.become(getHandler(x));\n\t\t};\n\n\t\tPending.prototype.reject = function(x) {\n\t\t\tif(this.resolved) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.become(new Rejected(x));\n\t\t};\n\n\t\tPending.prototype.join = function() {\n\t\t\tif (!this.resolved) {\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tvar h = this;\n\n\t\t\twhile (h.handler !== void 0) {\n\t\t\t\th = h.handler;\n\t\t\t\tif (h === this) {\n\t\t\t\t\treturn this.handler = cycle();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn h;\n\t\t};\n\n\t\tPending.prototype.run = function() {\n\t\t\tvar q = this.consumers;\n\t\t\tvar handler = this.handler;\n\t\t\tthis.handler = this.handler.join();\n\t\t\tthis.consumers = void 0;\n\n\t\t\tfor (var i = 0; i < q.length; ++i) {\n\t\t\t\thandler.when(q[i]);\n\t\t\t}\n\t\t};\n\n\t\tPending.prototype.become = function(handler) {\n\t\t\tif(this.resolved) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.resolved = true;\n\t\t\tthis.handler = handler;\n\t\t\tif(this.consumers !== void 0) {\n\t\t\t\ttasks.enqueue(this);\n\t\t\t}\n\n\t\t\tif(this.context !== void 0) {\n\t\t\t\thandler._report(this.context);\n\t\t\t}\n\t\t};\n\n\t\tPending.prototype.when = function(continuation) {\n\t\t\tif(this.resolved) {\n\t\t\t\ttasks.enqueue(new ContinuationTask(continuation, this.handler));\n\t\t\t} else {\n\t\t\t\tif(this.consumers === void 0) {\n\t\t\t\t\tthis.consumers = [continuation];\n\t\t\t\t} else {\n\t\t\t\t\tthis.consumers.push(continuation);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * @deprecated\n\t\t */\n\t\tPending.prototype.notify = function(x) {\n\t\t\tif(!this.resolved) {\n\t\t\t\ttasks.enqueue(new ProgressTask(x, this));\n\t\t\t}\n\t\t};\n\n\t\tPending.prototype.fail = function(context) {\n\t\t\tvar c = typeof context === 'undefined' ? this.context : context;\n\t\t\tthis.resolved && this.handler.join().fail(c);\n\t\t};\n\n\t\tPending.prototype._report = function(context) {\n\t\t\tthis.resolved && this.handler.join()._report(context);\n\t\t};\n\n\t\tPending.prototype._unreport = function() {\n\t\t\tthis.resolved && this.handler.join()._unreport();\n\t\t};\n\n\t\t/**\n\t\t * Wrap another handler and force it into a future stack\n\t\t * @param {object} handler\n\t\t * @constructor\n\t\t */\n\t\tfunction Async(handler) {\n\t\t\tthis.handler = handler;\n\t\t}\n\n\t\tinherit(Handler, Async);\n\n\t\tAsync.prototype.when = function(continuation) {\n\t\t\ttasks.enqueue(new ContinuationTask(continuation, this));\n\t\t};\n\n\t\tAsync.prototype._report = function(context) {\n\t\t\tthis.join()._report(context);\n\t\t};\n\n\t\tAsync.prototype._unreport = function() {\n\t\t\tthis.join()._unreport();\n\t\t};\n\n\t\t/**\n\t\t * Handler that wraps an untrusted thenable and assimilates it in a future stack\n\t\t * @param {function} then\n\t\t * @param {{then: function}} thenable\n\t\t * @constructor\n\t\t */\n\t\tfunction Thenable(then, thenable) {\n\t\t\tPending.call(this);\n\t\t\ttasks.enqueue(new AssimilateTask(then, thenable, this));\n\t\t}\n\n\t\tinherit(Pending, Thenable);\n\n\t\t/**\n\t\t * Handler for a fulfilled promise\n\t\t * @param {*} x fulfillment value\n\t\t * @constructor\n\t\t */\n\t\tfunction Fulfilled(x) {\n\t\t\tPromise.createContext(this);\n\t\t\tthis.value = x;\n\t\t}\n\n\t\tinherit(Handler, Fulfilled);\n\n\t\tFulfilled.prototype._state = 1;\n\n\t\tFulfilled.prototype.fold = function(f, z, c, to) {\n\t\t\trunContinuation3(f, z, this, c, to);\n\t\t};\n\n\t\tFulfilled.prototype.when = function(cont) {\n\t\t\trunContinuation1(cont.fulfilled, this, cont.receiver, cont.resolver);\n\t\t};\n\n\t\tvar errorId = 0;\n\n\t\t/**\n\t\t * Handler for a rejected promise\n\t\t * @param {*} x rejection reason\n\t\t * @constructor\n\t\t */\n\t\tfunction Rejected(x) {\n\t\t\tPromise.createContext(this);\n\n\t\t\tthis.id = ++errorId;\n\t\t\tthis.value = x;\n\t\t\tthis.handled = false;\n\t\t\tthis.reported = false;\n\n\t\t\tthis._report();\n\t\t}\n\n\t\tinherit(Handler, Rejected);\n\n\t\tRejected.prototype._state = -1;\n\n\t\tRejected.prototype.fold = function(f, z, c, to) {\n\t\t\tto.become(this);\n\t\t};\n\n\t\tRejected.prototype.when = function(cont) {\n\t\t\tif(typeof cont.rejected === 'function') {\n\t\t\t\tthis._unreport();\n\t\t\t}\n\t\t\trunContinuation1(cont.rejected, this, cont.receiver, cont.resolver);\n\t\t};\n\n\t\tRejected.prototype._report = function(context) {\n\t\t\ttasks.afterQueue(new ReportTask(this, context));\n\t\t};\n\n\t\tRejected.prototype._unreport = function() {\n\t\t\tif(this.handled) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.handled = true;\n\t\t\ttasks.afterQueue(new UnreportTask(this));\n\t\t};\n\n\t\tRejected.prototype.fail = function(context) {\n\t\t\tthis.reported = true;\n\t\t\temitRejection('unhandledRejection', this);\n\t\t\tPromise.onFatalRejection(this, context === void 0 ? this.context : context);\n\t\t};\n\n\t\tfunction ReportTask(rejection, context) {\n\t\t\tthis.rejection = rejection;\n\t\t\tthis.context = context;\n\t\t}\n\n\t\tReportTask.prototype.run = function() {\n\t\t\tif(!this.rejection.handled && !this.rejection.reported) {\n\t\t\t\tthis.rejection.reported = true;\n\t\t\t\temitRejection('unhandledRejection', this.rejection) ||\n\t\t\t\t\tPromise.onPotentiallyUnhandledRejection(this.rejection, this.context);\n\t\t\t}\n\t\t};\n\n\t\tfunction UnreportTask(rejection) {\n\t\t\tthis.rejection = rejection;\n\t\t}\n\n\t\tUnreportTask.prototype.run = function() {\n\t\t\tif(this.rejection.reported) {\n\t\t\t\temitRejection('rejectionHandled', this.rejection) ||\n\t\t\t\t\tPromise.onPotentiallyUnhandledRejectionHandled(this.rejection);\n\t\t\t}\n\t\t};\n\n\t\t// Unhandled rejection hooks\n\t\t// By default, everything is a noop\n\n\t\tPromise.createContext\n\t\t\t= Promise.enterContext\n\t\t\t= Promise.exitContext\n\t\t\t= Promise.onPotentiallyUnhandledRejection\n\t\t\t= Promise.onPotentiallyUnhandledRejectionHandled\n\t\t\t= Promise.onFatalRejection\n\t\t\t= noop;\n\n\t\t// Errors and singletons\n\n\t\tvar foreverPendingHandler = new Handler();\n\t\tvar foreverPendingPromise = new Promise(Handler, foreverPendingHandler);\n\n\t\tfunction cycle() {\n\t\t\treturn new Rejected(new TypeError('Promise cycle'));\n\t\t}\n\n\t\t// Task runners\n\n\t\t/**\n\t\t * Run a single consumer\n\t\t * @constructor\n\t\t */\n\t\tfunction ContinuationTask(continuation, handler) {\n\t\t\tthis.continuation = continuation;\n\t\t\tthis.handler = handler;\n\t\t}\n\n\t\tContinuationTask.prototype.run = function() {\n\t\t\tthis.handler.join().when(this.continuation);\n\t\t};\n\n\t\t/**\n\t\t * Run a queue of progress handlers\n\t\t * @constructor\n\t\t */\n\t\tfunction ProgressTask(value, handler) {\n\t\t\tthis.handler = handler;\n\t\t\tthis.value = value;\n\t\t}\n\n\t\tProgressTask.prototype.run = function() {\n\t\t\tvar q = this.handler.consumers;\n\t\t\tif(q === void 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (var c, i = 0; i < q.length; ++i) {\n\t\t\t\tc = q[i];\n\t\t\t\trunNotify(c.progress, this.value, this.handler, c.receiver, c.resolver);\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Assimilate a thenable, sending it's value to resolver\n\t\t * @param {function} then\n\t\t * @param {object|function} thenable\n\t\t * @param {object} resolver\n\t\t * @constructor\n\t\t */\n\t\tfunction AssimilateTask(then, thenable, resolver) {\n\t\t\tthis._then = then;\n\t\t\tthis.thenable = thenable;\n\t\t\tthis.resolver = resolver;\n\t\t}\n\n\t\tAssimilateTask.prototype.run = function() {\n\t\t\tvar h = this.resolver;\n\t\t\ttryAssimilate(this._then, this.thenable, _resolve, _reject, _notify);\n\n\t\t\tfunction _resolve(x) { h.resolve(x); }\n\t\t\tfunction _reject(x)  { h.reject(x); }\n\t\t\tfunction _notify(x)  { h.notify(x); }\n\t\t};\n\n\t\tfunction tryAssimilate(then, thenable, resolve, reject, notify) {\n\t\t\ttry {\n\t\t\t\tthen.call(thenable, resolve, reject, notify);\n\t\t\t} catch (e) {\n\t\t\t\treject(e);\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Fold a handler value with z\n\t\t * @constructor\n\t\t */\n\t\tfunction Fold(f, z, c, to) {\n\t\t\tthis.f = f; this.z = z; this.c = c; this.to = to;\n\t\t\tthis.resolver = failIfRejected;\n\t\t\tthis.receiver = this;\n\t\t}\n\n\t\tFold.prototype.fulfilled = function(x) {\n\t\t\tthis.f.call(this.c, this.z, x, this.to);\n\t\t};\n\n\t\tFold.prototype.rejected = function(x) {\n\t\t\tthis.to.reject(x);\n\t\t};\n\n\t\tFold.prototype.progress = function(x) {\n\t\t\tthis.to.notify(x);\n\t\t};\n\n\t\t// Other helpers\n\n\t\t/**\n\t\t * @param {*} x\n\t\t * @returns {boolean} true iff x is a trusted Promise\n\t\t */\n\t\tfunction isPromise(x) {\n\t\t\treturn x instanceof Promise;\n\t\t}\n\n\t\t/**\n\t\t * Test just enough to rule out primitives, in order to take faster\n\t\t * paths in some code\n\t\t * @param {*} x\n\t\t * @returns {boolean} false iff x is guaranteed *not* to be a thenable\n\t\t */\n\t\tfunction maybeThenable(x) {\n\t\t\treturn (typeof x === 'object' || typeof x === 'function') && x !== null;\n\t\t}\n\n\t\tfunction runContinuation1(f, h, receiver, next) {\n\t\t\tif(typeof f !== 'function') {\n\t\t\t\treturn next.become(h);\n\t\t\t}\n\n\t\t\tPromise.enterContext(h);\n\t\t\ttryCatchReject(f, h.value, receiver, next);\n\t\t\tPromise.exitContext();\n\t\t}\n\n\t\tfunction runContinuation3(f, x, h, receiver, next) {\n\t\t\tif(typeof f !== 'function') {\n\t\t\t\treturn next.become(h);\n\t\t\t}\n\n\t\t\tPromise.enterContext(h);\n\t\t\ttryCatchReject3(f, x, h.value, receiver, next);\n\t\t\tPromise.exitContext();\n\t\t}\n\n\t\t/**\n\t\t * @deprecated\n\t\t */\n\t\tfunction runNotify(f, x, h, receiver, next) {\n\t\t\tif(typeof f !== 'function') {\n\t\t\t\treturn next.notify(x);\n\t\t\t}\n\n\t\t\tPromise.enterContext(h);\n\t\t\ttryCatchReturn(f, x, receiver, next);\n\t\t\tPromise.exitContext();\n\t\t}\n\n\t\tfunction tryCatch2(f, a, b) {\n\t\t\ttry {\n\t\t\t\treturn f(a, b);\n\t\t\t} catch(e) {\n\t\t\t\treturn reject(e);\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Return f.call(thisArg, x), or if it throws return a rejected promise for\n\t\t * the thrown exception\n\t\t */\n\t\tfunction tryCatchReject(f, x, thisArg, next) {\n\t\t\ttry {\n\t\t\t\tnext.become(getHandler(f.call(thisArg, x)));\n\t\t\t} catch(e) {\n\t\t\t\tnext.become(new Rejected(e));\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Same as above, but includes the extra argument parameter.\n\t\t */\n\t\tfunction tryCatchReject3(f, x, y, thisArg, next) {\n\t\t\ttry {\n\t\t\t\tf.call(thisArg, x, y, next);\n\t\t\t} catch(e) {\n\t\t\t\tnext.become(new Rejected(e));\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * @deprecated\n\t\t * Return f.call(thisArg, x), or if it throws, *return* the exception\n\t\t */\n\t\tfunction tryCatchReturn(f, x, thisArg, next) {\n\t\t\ttry {\n\t\t\t\tnext.notify(f.call(thisArg, x));\n\t\t\t} catch(e) {\n\t\t\t\tnext.notify(e);\n\t\t\t}\n\t\t}\n\n\t\tfunction inherit(Parent, Child) {\n\t\t\tChild.prototype = objectCreate(Parent.prototype);\n\t\t\tChild.prototype.constructor = Child;\n\t\t}\n\n\t\tfunction snd(x, y) {\n\t\t\treturn y;\n\t\t}\n\n\t\tfunction noop() {}\n\n\t\tfunction initEmitRejection() {\n\t\t\t/*global process, self, CustomEvent*/\n\t\t\tif(typeof process !== 'undefined' && process !== null\n\t\t\t\t&& typeof process.emit === 'function') {\n\t\t\t\t// Returning falsy here means to call the default\n\t\t\t\t// onPotentiallyUnhandledRejection API.  This is safe even in\n\t\t\t\t// browserify since process.emit always returns falsy in browserify:\n\t\t\t\t// https://github.com/defunctzombie/node-process/blob/master/browser.js#L40-L46\n\t\t\t\treturn function(type, rejection) {\n\t\t\t\t\treturn type === 'unhandledRejection'\n\t\t\t\t\t\t? process.emit(type, rejection.value, rejection)\n\t\t\t\t\t\t: process.emit(type, rejection);\n\t\t\t\t};\n\t\t\t} else if(typeof self !== 'undefined' && typeof CustomEvent === 'function') {\n\t\t\t\treturn (function(noop, self, CustomEvent) {\n\t\t\t\t\tvar hasCustomEvent = false;\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar ev = new CustomEvent('unhandledRejection');\n\t\t\t\t\t\thasCustomEvent = ev instanceof CustomEvent;\n\t\t\t\t\t} catch (e) {}\n\n\t\t\t\t\treturn !hasCustomEvent ? noop : function(type, rejection) {\n\t\t\t\t\t\tvar ev = new CustomEvent(type, {\n\t\t\t\t\t\t\tdetail: {\n\t\t\t\t\t\t\t\treason: rejection.value,\n\t\t\t\t\t\t\t\tkey: rejection\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tbubbles: false,\n\t\t\t\t\t\t\tcancelable: true\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn !self.dispatchEvent(ev);\n\t\t\t\t\t};\n\t\t\t\t}(noop, self, CustomEvent));\n\t\t\t}\n\n\t\t\treturn noop;\n\t\t}\n\n\t\treturn Promise;\n\t};\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(); }));\n\n},{}]},{},[1])\n//# sourceMappingURL=Promise.js.map\n(1)\n});\n;"]}