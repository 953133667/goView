{"version":3,"sources":["DirectoryResultPlugin.js"],"names":[],"mappings":"AAAA;;;;AAIA,SAAS,qBAAT,CAA+B,KAA/B,EAAsC;AACrC,MAAK,KAAL,GAAa,KAAb;AACA;AACD,OAAO,OAAP,GAAiB,qBAAjB;;AAEA,sBAAsB,SAAtB,CAAgC,KAAhC,GAAwC,UAAS,QAAT,EAAmB;AAC1D,KAAI,QAAQ,KAAK,KAAjB;AACA,UAAS,MAAT,CAAgB,WAAhB,EAA6B,UAAS,OAAT,EAAkB,QAAlB,EAA4B;AACxD,MAAI,KAAK,KAAK,UAAd;AACA,MAAI,YAAY,KAAK,IAAL,CAAU,QAAQ,IAAlB,EAAwB,QAAQ,OAAhC,CAAhB;AACA,KAAG,IAAH,CAAQ,SAAR,EAAmB,UAAS,GAAT,EAAc,IAAd,EAAoB;AACtC,OAAG,CAAC,GAAD,IAAQ,IAAR,IAAgB,KAAK,WAAL,EAAnB,EAAuC;AACtC,WAAO,KAAK,SAAL,CAAe,QAAf,EAAyB;AAC/B,WAAM,SADyB;AAE/B,YAAO,QAAQ,KAFgB;AAG/B,gBAAW,IAHoB;AAI/B,eAAU;AAJqB,KAAzB,EAKJ,QALI,CAAP;AAMA;AACD,OAAG,SAAS,GAAZ,EAAiB;AAChB,QAAG,GAAH,EAAQ,SAAS,GAAT,CAAa,YAAY,gBAAzB,EAAR,KACK,SAAS,GAAT,CAAa,YAAY,qBAAzB;AACL;AACD,UAAO,UAAP;AACA,GAdkB,CAcjB,IAdiB,CAcZ,IAdY,CAAnB;AAeA,EAlBD;AAmBA,CArBD","file":"DirectoryResultPlugin-compiled.js","sourcesContent":["/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nfunction DirectoryResultPlugin(files) {\r\n\tthis.files = files;\r\n}\r\nmodule.exports = DirectoryResultPlugin;\r\n\r\nDirectoryResultPlugin.prototype.apply = function(resolver) {\r\n\tvar files = this.files;\r\n\tresolver.plugin(\"directory\", function(request, callback) {\r\n\t\tvar fs = this.fileSystem;\r\n\t\tvar directory = this.join(request.path, request.request);\r\n\t\tfs.stat(directory, function(err, stat) {\r\n\t\t\tif(!err && stat && stat.isDirectory()) {\r\n\t\t\t\treturn this.doResolve(\"result\", {\r\n\t\t\t\t\tpath: directory,\r\n\t\t\t\t\tquery: request.query,\r\n\t\t\t\t\tdirectory: true,\r\n\t\t\t\t\tresolved: true\r\n\t\t\t\t}, callback);\r\n\t\t\t}\r\n\t\t\tif(callback.log) {\r\n\t\t\t\tif(err) callback.log(directory + \" doesn't exist\");\r\n\t\t\t\telse callback.log(directory + \" is not a directory\");\r\n\t\t\t}\r\n\t\t\treturn callback();\r\n\t\t}.bind(this));\r\n\t});\r\n};"]}