{"version":3,"sources":["simple.js"],"names":[],"mappings":"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","file":"simple-compiled.js","sourcesContent":["var cleanUpSelectors = require('./clean-up').selectors;\nvar cleanUpBlock = require('./clean-up').block;\nvar cleanUpAtRule = require('./clean-up').atRule;\nvar split = require('../utils/split');\n\nvar RGB = require('../colors/rgb');\nvar HSL = require('../colors/hsl');\nvar HexNameShortener = require('../colors/hex-name-shortener');\n\nvar wrapForOptimizing = require('../properties/wrap-for-optimizing').all;\nvar restoreFromOptimizing = require('../properties/restore-from-optimizing');\nvar removeUnused = require('../properties/remove-unused');\n\nvar DEFAULT_ROUNDING_PRECISION = 2;\nvar CHARSET_TOKEN = '@charset';\nvar CHARSET_REGEXP = new RegExp('^' + CHARSET_TOKEN, 'i');\n\nvar FONT_NUMERAL_WEIGHTS = ['100', '200', '300', '400', '500', '600', '700', '800', '900'];\nvar FONT_NAME_WEIGHTS = ['normal', 'bold', 'bolder', 'lighter'];\nvar FONT_NAME_WEIGHTS_WITHOUT_NORMAL = ['bold', 'bolder', 'lighter'];\n\nvar WHOLE_PIXEL_VALUE = /(?:^|\\s|\\()(-?\\d+)px/;\nvar TIME_VALUE = /^(\\-?[\\d\\.]+)(m?s)$/;\n\nvar valueMinifiers = {\n  'background': function (value, index, total) {\n    return index === 0 && total == 1 && (value == 'none' || value == 'transparent') ? '0 0' : value;\n  },\n  'font-weight': function (value) {\n    if (value == 'normal')\n      return '400';\n    else if (value == 'bold')\n      return '700';\n    else\n      return value;\n  },\n  'outline': function (value, index, total) {\n    return index === 0 && total == 1 && value == 'none' ? '0' : value;\n  }\n};\n\nfunction isNegative(property, idx) {\n  return property.value[idx] && property.value[idx][0][0] == '-' && parseFloat(property.value[idx][0]) < 0;\n}\n\nfunction zeroMinifier(name, value) {\n  if (value.indexOf('0') == -1)\n    return value;\n\n  if (value.indexOf('-') > -1) {\n    value = value\n      .replace(/([^\\w\\d\\-]|^)\\-0([^\\.]|$)/g, '$10$2')\n      .replace(/([^\\w\\d\\-]|^)\\-0([^\\.]|$)/g, '$10$2');\n  }\n\n  return value\n    .replace(/(^|\\s)0+([1-9])/g, '$1$2')\n    .replace(/(^|\\D)\\.0+(\\D|$)/g, '$10$2')\n    .replace(/(^|\\D)\\.0+(\\D|$)/g, '$10$2')\n    .replace(/\\.([1-9]*)0+(\\D|$)/g, function (match, nonZeroPart, suffix) {\n      return (nonZeroPart.length > 0 ? '.' : '') + nonZeroPart + suffix;\n    })\n    .replace(/(^|\\D)0\\.(\\d)/g, '$1.$2');\n}\n\nfunction zeroDegMinifier(_, value) {\n  if (value.indexOf('0deg') == -1)\n    return value;\n\n  return value.replace(/\\(0deg\\)/g, '(0)');\n}\n\nfunction whitespaceMinifier(name, value) {\n  if (name.indexOf('filter') > -1 || value.indexOf(' ') == -1)\n    return value;\n\n  value = value.replace(/\\s+/g, ' ');\n\n  if (value.indexOf('calc') > -1)\n    value = value.replace(/\\) ?\\/ ?/g, ')/ ');\n\n  return value\n    .replace(/\\( /g, '(')\n    .replace(/ \\)/g, ')')\n    .replace(/, /g, ',');\n}\n\nfunction precisionMinifier(_, value, precisionOptions) {\n  if (precisionOptions.value === -1 || value.indexOf('.') === -1)\n    return value;\n\n  return value\n    .replace(precisionOptions.regexp, function (match, number) {\n      return Math.round(parseFloat(number) * precisionOptions.multiplier) / precisionOptions.multiplier + 'px';\n    })\n    .replace(/(\\d)\\.($|\\D)/g, '$1$2');\n}\n\nfunction unitMinifier(name, value, unitsRegexp) {\n  if (/^(?:\\-moz\\-calc|\\-webkit\\-calc|calc)\\(/.test(value))\n    return value;\n\n  if (name == 'flex' || name == '-ms-flex' || name == '-webkit-flex' || name == 'flex-basis' || name == '-webkit-flex-basis')\n    return value;\n\n  if (value.indexOf('%') > 0 && (name == 'height' || name == 'max-height'))\n    return value;\n\n  return value\n    .replace(unitsRegexp, '$1' + '0' + '$2')\n    .replace(unitsRegexp, '$1' + '0' + '$2');\n}\n\nfunction multipleZerosMinifier(property) {\n  var values = property.value;\n  var spliceAt;\n\n  if (values.length == 4 && values[0][0] === '0' && values[1][0] === '0' && values[2][0] === '0' && values[3][0] === '0') {\n    if (property.name.indexOf('box-shadow') > -1)\n      spliceAt = 2;\n    else\n      spliceAt = 1;\n  }\n\n  if (spliceAt) {\n    property.value.splice(spliceAt);\n    property.dirty = true;\n  }\n}\n\nfunction colorMininifier(name, value, compatibility) {\n  if (value.indexOf('#') === -1 && value.indexOf('rgb') == -1 && value.indexOf('hsl') == -1)\n    return HexNameShortener.shorten(value);\n\n  value = value\n    .replace(/rgb\\((\\-?\\d+),(\\-?\\d+),(\\-?\\d+)\\)/g, function (match, red, green, blue) {\n      return new RGB(red, green, blue).toHex();\n    })\n    .replace(/hsl\\((-?\\d+),(-?\\d+)%?,(-?\\d+)%?\\)/g, function (match, hue, saturation, lightness) {\n      return new HSL(hue, saturation, lightness).toHex();\n    })\n    .replace(/(^|[^='\"])#([0-9a-f]{6})/gi, function (match, prefix, color) {\n      if (color[0] == color[1] && color[2] == color[3] && color[4] == color[5])\n        return prefix + '#' + color[0] + color[2] + color[4];\n      else\n        return prefix + '#' + color;\n    })\n    .replace(/(rgb|rgba|hsl|hsla)\\(([^\\)]+)\\)/g, function (match, colorFunction, colorDef) {\n      var tokens = colorDef.split(',');\n      var applies = (colorFunction == 'hsl' && tokens.length == 3) ||\n        (colorFunction == 'hsla' && tokens.length == 4) ||\n        (colorFunction == 'rgb' && tokens.length == 3 && colorDef.indexOf('%') > 0) ||\n        (colorFunction == 'rgba' && tokens.length == 4 && colorDef.indexOf('%') > 0);\n      if (!applies)\n        return match;\n\n      if (tokens[1].indexOf('%') == -1)\n        tokens[1] += '%';\n      if (tokens[2].indexOf('%') == -1)\n        tokens[2] += '%';\n      return colorFunction + '(' + tokens.join(',') + ')';\n    });\n\n  if (compatibility.colors.opacity && name.indexOf('background') == -1) {\n    value = value.replace(/(?:rgba|hsla)\\(0,0%?,0%?,0\\)/g, function (match) {\n      if (split(value, ',').pop().indexOf('gradient(') > -1)\n        return match;\n\n      return 'transparent';\n    });\n  }\n\n  return HexNameShortener.shorten(value);\n}\n\nfunction pixelLengthMinifier(_, value, compatibility) {\n  if (!WHOLE_PIXEL_VALUE.test(value))\n    return value;\n\n  return value.replace(WHOLE_PIXEL_VALUE, function (match, val) {\n    var newValue;\n    var intVal = parseInt(val);\n\n    if (intVal === 0)\n      return match;\n\n    if (compatibility.properties.shorterLengthUnits && compatibility.units.pt && intVal * 3 % 4 === 0)\n      newValue = intVal * 3 / 4 + 'pt';\n\n    if (compatibility.properties.shorterLengthUnits && compatibility.units.pc && intVal % 16 === 0)\n      newValue = intVal / 16 + 'pc';\n\n    if (compatibility.properties.shorterLengthUnits && compatibility.units.in && intVal % 96 === 0)\n      newValue = intVal / 96 + 'in';\n\n    if (newValue)\n      newValue = match.substring(0, match.indexOf(val)) + newValue;\n\n    return newValue && newValue.length < match.length ? newValue : match;\n  });\n}\n\nfunction timeUnitMinifier(_, value) {\n  if (!TIME_VALUE.test(value))\n    return value;\n\n  return value.replace(TIME_VALUE, function (match, val, unit) {\n    var newValue;\n\n    if (unit == 'ms') {\n      newValue = parseInt(val) / 1000 + 's';\n    } else if (unit == 's') {\n      newValue = parseFloat(val) * 1000 + 'ms';\n    }\n\n    return newValue.length < match.length ? newValue : match;\n  });\n}\n\nfunction minifyBorderRadius(property) {\n  var values = property.value;\n  var spliceAt;\n\n  if (values.length == 3 && values[1][0] == '/' && values[0][0] == values[2][0])\n    spliceAt = 1;\n  else if (values.length == 5 && values[2][0] == '/' && values[0][0] == values[3][0] && values[1][0] == values[4][0])\n    spliceAt = 2;\n  else if (values.length == 7 && values[3][0] == '/' && values[0][0] == values[4][0] && values[1][0] == values[5][0] && values[2][0] == values[6][0])\n    spliceAt = 3;\n  else if (values.length == 9 && values[4][0] == '/' && values[0][0] == values[5][0] && values[1][0] == values[6][0] && values[2][0] == values[7][0] && values[3][0] == values[8][0])\n    spliceAt = 4;\n\n  if (spliceAt) {\n    property.value.splice(spliceAt);\n    property.dirty = true;\n  }\n}\n\nfunction minifyFilter(property) {\n  if (property.value.length == 1) {\n    property.value[0][0] = property.value[0][0].replace(/progid:DXImageTransform\\.Microsoft\\.(Alpha|Chroma)(\\W)/, function (match, filter, suffix) {\n      return filter.toLowerCase() + suffix;\n    });\n  }\n\n  property.value[0][0] = property.value[0][0]\n    .replace(/,(\\S)/g, ', $1')\n    .replace(/ ?= ?/g, '=');\n}\n\nfunction minifyFont(property) {\n  var values = property.value;\n  var hasNumeral = FONT_NUMERAL_WEIGHTS.indexOf(values[0][0]) > -1 ||\n    values[1] && FONT_NUMERAL_WEIGHTS.indexOf(values[1][0]) > -1 ||\n    values[2] && FONT_NUMERAL_WEIGHTS.indexOf(values[2][0]) > -1;\n\n  if (hasNumeral)\n    return;\n\n  if (values[1] == '/')\n    return;\n\n  var normalCount = 0;\n  if (values[0][0] == 'normal')\n    normalCount++;\n  if (values[1] && values[1][0] == 'normal')\n    normalCount++;\n  if (values[2] && values[2][0] == 'normal')\n    normalCount++;\n\n  if (normalCount > 1)\n    return;\n\n  var toOptimize;\n  if (FONT_NAME_WEIGHTS_WITHOUT_NORMAL.indexOf(values[0][0]) > -1)\n    toOptimize = 0;\n  else if (values[1] && FONT_NAME_WEIGHTS_WITHOUT_NORMAL.indexOf(values[1][0]) > -1)\n    toOptimize = 1;\n  else if (values[2] && FONT_NAME_WEIGHTS_WITHOUT_NORMAL.indexOf(values[2][0]) > -1)\n    toOptimize = 2;\n  else if (FONT_NAME_WEIGHTS.indexOf(values[0][0]) > -1)\n    toOptimize = 0;\n  else if (values[1] && FONT_NAME_WEIGHTS.indexOf(values[1][0]) > -1)\n    toOptimize = 1;\n  else if (values[2] && FONT_NAME_WEIGHTS.indexOf(values[2][0]) > -1)\n    toOptimize = 2;\n\n  if (toOptimize !== undefined) {\n    property.value[toOptimize][0] = valueMinifiers['font-weight'](values[toOptimize][0]);\n    property.dirty = true;\n  }\n}\n\nfunction optimizeBody(properties, options) {\n  var property, name, value;\n  var _properties = wrapForOptimizing(properties);\n\n  for (var i = 0, l = _properties.length; i < l; i++) {\n    property = _properties[i];\n    name = property.name;\n\n    if (property.hack && (\n        (property.hack == 'star' || property.hack == 'underscore') && !options.compatibility.properties.iePrefixHack ||\n        property.hack == 'backslash' && !options.compatibility.properties.ieSuffixHack ||\n        property.hack == 'bang' && !options.compatibility.properties.ieBangHack))\n      property.unused = true;\n\n    if (name.indexOf('padding') === 0 && (isNegative(property, 0) || isNegative(property, 1) || isNegative(property, 2) || isNegative(property, 3)))\n      property.unused = true;\n\n    if (property.unused)\n      continue;\n\n    if (property.variable) {\n      if (property.block)\n        optimizeBody(property.value[0], options);\n      continue;\n    }\n\n    for (var j = 0, m = property.value.length; j < m; j++) {\n      value = property.value[j][0];\n\n      if (valueMinifiers[name])\n        value = valueMinifiers[name](value, j, m);\n\n      value = whitespaceMinifier(name, value);\n      value = precisionMinifier(name, value, options.precision);\n      value = pixelLengthMinifier(name, value, options.compatibility);\n      value = timeUnitMinifier(name, value);\n      value = zeroMinifier(name, value);\n      if (options.compatibility.properties.zeroUnits) {\n        value = zeroDegMinifier(name, value);\n        value = unitMinifier(name, value, options.unitsRegexp);\n      }\n      if (options.compatibility.properties.colors)\n        value = colorMininifier(name, value, options.compatibility);\n\n      property.value[j][0] = value;\n    }\n\n    multipleZerosMinifier(property);\n\n    if (name.indexOf('border') === 0 && name.indexOf('radius') > 0)\n      minifyBorderRadius(property);\n    else if (name == 'filter')\n      minifyFilter(property);\n    else if (name == 'font')\n      minifyFont(property);\n  }\n\n  restoreFromOptimizing(_properties, true);\n  removeUnused(_properties);\n}\n\nfunction cleanupCharsets(tokens) {\n  var hasCharset = false;\n\n  for (var i = 0, l = tokens.length; i < l; i++) {\n    var token = tokens[i];\n\n    if (token[0] != 'at-rule')\n      continue;\n\n    if (!CHARSET_REGEXP.test(token[1][0]))\n      continue;\n\n    if (hasCharset || token[1][0].indexOf(CHARSET_TOKEN) == -1) {\n      tokens.splice(i, 1);\n      i--;\n      l--;\n    } else {\n      hasCharset = true;\n      tokens.splice(i, 1);\n      tokens.unshift(['at-rule', [token[1][0].replace(CHARSET_REGEXP, CHARSET_TOKEN)]]);\n    }\n  }\n}\n\nfunction buildUnitRegexp(options) {\n  var units = ['px', 'em', 'ex', 'cm', 'mm', 'in', 'pt', 'pc', '%'];\n  var otherUnits = ['ch', 'rem', 'vh', 'vm', 'vmax', 'vmin', 'vw'];\n\n  otherUnits.forEach(function (unit) {\n    if (options.compatibility.units[unit])\n      units.push(unit);\n  });\n\n  return new RegExp('(^|\\\\s|\\\\(|,)0(?:' + units.join('|') + ')(\\\\W|$)', 'g');\n}\n\nfunction buildPrecision(options) {\n  var precision = {};\n\n  precision.value = options.roundingPrecision === undefined ?\n    DEFAULT_ROUNDING_PRECISION :\n    options.roundingPrecision;\n  precision.multiplier = Math.pow(10, precision.value);\n  precision.regexp = new RegExp('(\\\\d*\\\\.\\\\d{' + (precision.value + 1) + ',})px', 'g');\n\n  return precision;\n}\n\nfunction optimize(tokens, options) {\n  var ie7Hack = options.compatibility.selectors.ie7Hack;\n  var adjacentSpace = options.compatibility.selectors.adjacentSpace;\n  var spaceAfterClosingBrace = options.compatibility.properties.spaceAfterClosingBrace;\n  var mayHaveCharset = false;\n\n  options.unitsRegexp = buildUnitRegexp(options);\n  options.precision = buildPrecision(options);\n\n  for (var i = 0, l = tokens.length; i < l; i++) {\n    var token = tokens[i];\n\n    switch (token[0]) {\n      case 'selector':\n        token[1] = cleanUpSelectors(token[1], !ie7Hack, adjacentSpace);\n        optimizeBody(token[2], options);\n        break;\n      case 'block':\n        cleanUpBlock(token[1], spaceAfterClosingBrace);\n        optimize(token[2], options);\n        break;\n      case 'flat-block':\n        cleanUpBlock(token[1], spaceAfterClosingBrace);\n        optimizeBody(token[2], options);\n        break;\n      case 'at-rule':\n        cleanUpAtRule(token[1]);\n        mayHaveCharset = true;\n    }\n\n    if (token[1].length === 0 || (token[2] && token[2].length === 0)) {\n      tokens.splice(i, 1);\n      i--;\n      l--;\n    }\n  }\n\n  if (mayHaveCharset)\n    cleanupCharsets(tokens);\n}\n\nmodule.exports = optimize;\n"]}