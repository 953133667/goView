{"version":3,"sources":["extractor.js"],"names":[],"mappings":"AAAA;AACA;AACA;;AAEA,IAAI,qBAAqB,QAAQ,yBAAR,EAAmC,SAA5D;AACA,IAAI,iBAAiB,QAAQ,yBAAR,EAAmC,KAAxD;;AAEA,IAAI,UAAU,SAAd;;AAEA,SAAS,OAAT,CAAiB,KAAjB,EAAwB;AACtB,MAAI,aAAa,EAAjB;;AAEA,MAAI,MAAM,CAAN,KAAY,UAAhB,EAA4B;AAC1B,QAAI,qBAAqB,CAAC,WAAW,IAAX,CAAgB,mBAAmB,MAAM,CAAN,CAAnB,CAAhB,CAA1B;AACA,SAAK,IAAI,IAAI,CAAR,EAAW,IAAI,MAAM,CAAN,EAAS,MAA7B,EAAqC,IAAI,CAAzC,EAA4C,GAA5C,EAAiD;AAC/C,UAAI,WAAW,MAAM,CAAN,EAAS,CAAT,CAAf;;AAEA,UAAI,SAAS,OAAT,CAAiB,WAAjB,MAAkC,CAAtC,EACE;;AAEF,UAAI,SAAS,CAAT,KAAe,OAAnB,EACE;;AAEF,UAAI,OAAO,MAAM,CAAN,EAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,CAAX;AACA,UAAI,KAAK,MAAL,KAAgB,CAApB,EACE;;AAEF,UAAI,KAAK,OAAL,CAAa,IAAb,MAAuB,CAA3B,EACE;;AAEF,UAAI,QAAQ,eAAe,MAAM,CAAN,CAAf,EAAyB,CAAzB,CAAZ;;AAEA,iBAAW,IAAX,CAAgB,CACd,IADc,EAEd,KAFc,EAGd,aAAa,IAAb,CAHc,EAId,MAAM,CAAN,EAAS,CAAT,CAJc,EAKd,OAAO,GAAP,GAAa,KALC,EAMd,MAAM,CAAN,CANc,EAOd,kBAPc,CAAhB;AASD;AACF,GA9BD,MA8BO,IAAI,MAAM,CAAN,KAAY,OAAhB,EAAyB;AAC9B,SAAK,IAAI,IAAI,CAAR,EAAW,IAAI,MAAM,CAAN,EAAS,MAA7B,EAAqC,IAAI,CAAzC,EAA4C,GAA5C,EAAiD;AAC/C,mBAAa,WAAW,MAAX,CAAkB,QAAQ,MAAM,CAAN,EAAS,CAAT,CAAR,CAAlB,CAAb;AACD;AACF;;AAED,SAAO,UAAP;AACD;;AAED,SAAS,YAAT,CAAsB,IAAtB,EAA4B;AAC1B,MAAI,QAAQ,YAAZ,EACE,OAAO,IAAP;AACF,MAAI,KAAK,OAAL,CAAa,SAAb,IAA0B,CAA9B,EACE,OAAO,eAAP;AACF,MAAI,QAAQ,iBAAR,IAA6B,QAAQ,gBAArC,IAAyD,QAAQ,cAArE,EACE,OAAO,IAAP;AACF,MAAI,KAAK,OAAL,CAAa,SAAb,MAA4B,CAA5B,IAAiC,qBAAqB,IAArB,CAA0B,IAA1B,CAArC,EACE,OAAO,KAAK,KAAL,CAAW,aAAX,EAA0B,CAA1B,CAAP;AACF,MAAI,KAAK,OAAL,CAAa,SAAb,MAA4B,CAA5B,IAAiC,gBAAgB,IAAhB,CAAqB,IAArB,CAArC,EACE,OAAO,QAAP;AACF,MAAI,KAAK,OAAL,CAAa,OAAb,MAA0B,CAA9B,EACE,OAAO,IAAP;;AAEF,SAAO,KAAK,OAAL,CAAa,UAAb,EAAyB,EAAzB,EAA6B,KAA7B,CAAmC,aAAnC,EAAkD,CAAlD,EAAqD,WAArD,EAAP;AACD;;AAED,OAAO,OAAP,GAAiB,OAAjB","file":"extractor-compiled.js","sourcesContent":["// This extractor is used in advanced optimizations\n// IMPORTANT: Mind Token class and this code is not related!\n// Properties will be tokenized in one step, see #429\n\nvar stringifySelectors = require('../stringifier/one-time').selectors;\nvar stringifyValue = require('../stringifier/one-time').value;\n\nvar AT_RULE = 'at-rule';\n\nfunction extract(token) {\n  var properties = [];\n\n  if (token[0] == 'selector') {\n    var inSpecificSelector = !/[\\.\\+>~]/.test(stringifySelectors(token[1]));\n    for (var i = 0, l = token[2].length; i < l; i++) {\n      var property = token[2][i];\n\n      if (property.indexOf('__ESCAPED') === 0)\n        continue;\n\n      if (property[0] == AT_RULE)\n        continue;\n\n      var name = token[2][i][0][0];\n      if (name.length === 0)\n        continue;\n\n      if (name.indexOf('--') === 0)\n        continue;\n\n      var value = stringifyValue(token[2], i);\n\n      properties.push([\n        name,\n        value,\n        findNameRoot(name),\n        token[2][i],\n        name + ':' + value,\n        token[1],\n        inSpecificSelector\n      ]);\n    }\n  } else if (token[0] == 'block') {\n    for (var j = 0, k = token[2].length; j < k; j++) {\n      properties = properties.concat(extract(token[2][j]));\n    }\n  }\n\n  return properties;\n}\n\nfunction findNameRoot(name) {\n  if (name == 'list-style')\n    return name;\n  if (name.indexOf('-radius') > 0)\n    return 'border-radius';\n  if (name == 'border-collapse' || name == 'border-spacing' || name == 'border-image')\n    return name;\n  if (name.indexOf('border-') === 0 && /^border\\-\\w+\\-\\w+$/.test(name))\n    return name.match(/border\\-\\w+/)[0];\n  if (name.indexOf('border-') === 0 && /^border\\-\\w+$/.test(name))\n    return 'border';\n  if (name.indexOf('text-') === 0)\n    return name;\n\n  return name.replace(/^\\-\\w+\\-/, '').match(/([a-zA-Z]+)/)[0].toLowerCase();\n}\n\nmodule.exports = extract;\n"]}