{"version":3,"sources":["helpers.js"],"names":[],"mappings":"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","file":"helpers-compiled.js","sourcesContent":["var lineBreak = require('os').EOL;\n\nvar AT_RULE = 'at-rule';\nvar PROPERTY_SEPARATOR = ';';\n\nfunction hasMoreProperties(tokens, index) {\n  for (var i = index, l = tokens.length; i < l; i++) {\n    if (typeof tokens[i] != 'string')\n      return true;\n  }\n\n  return false;\n}\n\nfunction supportsAfterClosingBrace(token) {\n  return token[0][0] == 'background' || token[0][0] == 'transform' || token[0][0] == 'src';\n}\n\nfunction afterClosingBrace(token, valueIndex) {\n  return token[valueIndex][0][token[valueIndex][0].length - 1] == ')' || token[valueIndex][0].indexOf('__ESCAPED_URL_CLEAN_CSS') === 0;\n}\n\nfunction afterComma(token, valueIndex) {\n  return token[valueIndex][0] == ',';\n}\n\nfunction afterSlash(token, valueIndex) {\n  return token[valueIndex][0] == '/';\n}\n\nfunction beforeComma(token, valueIndex) {\n  return token[valueIndex + 1] && token[valueIndex + 1][0] == ',';\n}\n\nfunction beforeSlash(token, valueIndex) {\n  return token[valueIndex + 1] && token[valueIndex + 1][0] == '/';\n}\n\nfunction inFilter(token) {\n  return token[0][0] == 'filter' || token[0][0] == '-ms-filter';\n}\n\nfunction inSpecialContext(token, valueIndex, context) {\n  return !context.spaceAfterClosingBrace && supportsAfterClosingBrace(token) && afterClosingBrace(token, valueIndex) ||\n    beforeSlash(token, valueIndex) ||\n    afterSlash(token, valueIndex) ||\n    beforeComma(token, valueIndex) ||\n    afterComma(token, valueIndex);\n}\n\nfunction selectors(tokens, context) {\n  var store = context.store;\n\n  for (var i = 0, l = tokens.length; i < l; i++) {\n    store(tokens[i], context);\n\n    if (i < l - 1)\n      store(',', context);\n  }\n}\n\nfunction body(tokens, context) {\n  for (var i = 0, l = tokens.length; i < l; i++) {\n    property(tokens, i, i == l - 1, context);\n  }\n}\n\nfunction property(tokens, position, isLast, context) {\n  var store = context.store;\n  var token = tokens[position];\n\n  if (typeof token == 'string') {\n    store(token, context);\n  } else if (token[0] == AT_RULE) {\n    propertyAtRule(token[1], isLast, context);\n  } else {\n    store(token[0], context);\n    store(':', context);\n    value(tokens, position, isLast, context);\n  }\n}\n\nfunction propertyAtRule(value, isLast, context) {\n  var store = context.store;\n\n  store(value, context);\n  if (!isLast)\n    store(PROPERTY_SEPARATOR, context);\n}\n\nfunction value(tokens, position, isLast, context) {\n  var store = context.store;\n  var token = tokens[position];\n  var isVariableDeclaration = token[0][0].indexOf('--') === 0;\n  var isBlockVariable = isVariableDeclaration && Array.isArray(token[1][0]);\n\n  if (isVariableDeclaration && isBlockVariable && atRulesOrProperties(token[1])) {\n    store('{', context);\n    body(token[1], context);\n    store('};', context);\n    return;\n  }\n\n  for (var j = 1, m = token.length; j < m; j++) {\n    store(token[j], context);\n\n    if (j < m - 1 && (inFilter(token) || !inSpecialContext(token, j, context))) {\n      store(' ', context);\n    } else if (j == m - 1 && !isLast && hasMoreProperties(tokens, position + 1)) {\n      store(PROPERTY_SEPARATOR, context);\n    }\n  }\n}\n\nfunction atRulesOrProperties(values) {\n  for (var i = 0, l = values.length; i < l; i++) {\n    if (values[i][0] == AT_RULE || Array.isArray(values[i][0]))\n      return true;\n  }\n\n  return false;\n}\n\nfunction all(tokens, context) {\n  var joinCharacter = context.keepBreaks ? lineBreak : '';\n  var store = context.store;\n\n  for (var i = 0, l = tokens.length; i < l; i++) {\n    var token = tokens[i];\n\n    switch (token[0]) {\n      case 'at-rule':\n      case 'text':\n        store(token[1][0], context);\n        store(joinCharacter, context);\n        break;\n      case 'block':\n        selectors([token[1]], context);\n        store('{', context);\n        all(token[2], context);\n        store('}', context);\n        store(joinCharacter, context);\n        break;\n      case 'flat-block':\n        selectors([token[1]], context);\n        store('{', context);\n        body(token[2], context);\n        store('}', context);\n        store(joinCharacter, context);\n        break;\n      default:\n        selectors(token[1], context);\n        store('{', context);\n        body(token[2], context);\n        store('}', context);\n        store(joinCharacter, context);\n    }\n  }\n}\n\nmodule.exports = {\n  all: all,\n  body: body,\n  property: property,\n  selectors: selectors,\n  value: value\n};\n"]}