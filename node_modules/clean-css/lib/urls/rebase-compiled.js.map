{"version":3,"sources":["rebase.js"],"names":[],"mappings":"AAAA,IAAI,OAAO,QAAQ,MAAR,CAAX;;AAEA,IAAI,cAAc,QAAQ,WAAR,CAAlB;;AAEA,SAAS,UAAT,CAAoB,IAApB,EAA0B,OAA1B,EAAmC;AACjC,MAAI,aAAa;AACf,cAAU,QAAQ,OAAR,CAAgB,YADX;AAEf,cAAU,CAAC,QAAQ,OAAR,CAAgB,YAAjB,IAAiC,QAAQ,OAAR,CAAgB,cAF5C;AAGf,cAAU,QAAQ,OAAR,CAAgB;AAHX,GAAjB;;AAMA,MAAI,CAAC,WAAW,QAAZ,IAAwB,CAAC,WAAW,QAAxC,EACE,OAAO,IAAP;;AAEF,MAAI,WAAW,QAAX,IAAuB,QAAQ,OAAR,CAAgB,cAA3C,EACE,QAAQ,QAAR,CAAiB,IAAjB,CAAsB,wEAAtB;;AAEF,MAAI,WAAW,QAAf,EACE,WAAW,MAAX,GAAoB,KAAK,OAAL,CAAa,QAAQ,OAAR,CAAgB,IAA7B,CAApB;;AAEF,MAAI,WAAW,QAAf,EACE,WAAW,MAAX,GAAoB,KAAK,OAAL,CAAa,QAAQ,OAAR,CAAgB,MAA7B,CAApB;;AAEF,MAAI,CAAC,WAAW,QAAZ,IAAwB,CAAC,WAAW,MAAxC,EACE,OAAO,IAAP;;AAEF,SAAO,YAAY,IAAZ,EAAkB,UAAlB,EAA8B,OAA9B,CAAP;AACD;;AAED,OAAO,OAAP,GAAiB,UAAjB","file":"rebase-compiled.js","sourcesContent":["var path = require('path');\n\nvar rewriteUrls = require('./rewrite');\n\nfunction rebaseUrls(data, context) {\n  var rebaseOpts = {\n    absolute: context.options.explicitRoot,\n    relative: !context.options.explicitRoot && context.options.explicitTarget,\n    fromBase: context.options.relativeTo\n  };\n\n  if (!rebaseOpts.absolute && !rebaseOpts.relative)\n    return data;\n\n  if (rebaseOpts.absolute && context.options.explicitTarget)\n    context.warnings.push('Both \\'root\\' and output file given so rebasing URLs as absolute paths');\n\n  if (rebaseOpts.absolute)\n    rebaseOpts.toBase = path.resolve(context.options.root);\n\n  if (rebaseOpts.relative)\n    rebaseOpts.toBase = path.resolve(context.options.target);\n\n  if (!rebaseOpts.fromBase || !rebaseOpts.toBase)\n    return data;\n\n  return rewriteUrls(data, rebaseOpts, context);\n}\n\nmodule.exports = rebaseUrls;\n"]}