{"version":3,"sources":["restore-from-optimizing.js"],"names":[],"mappings":"AAAA,IAAI,cAAc,QAAQ,eAAR,CAAlB;;AAEA,IAAI,iBAAiB,KAArB;AACA,IAAI,kBAAkB,YAAtB;AACA,IAAI,YAAY,GAAhB;AACA,IAAI,kBAAkB,GAAtB;AACA,IAAI,YAAY,KAAhB;;AAEA,SAAS,gBAAT,CAA0B,QAA1B,EAAoC;AAClC,WAAS,KAAT,CAAe,SAAS,KAAT,CAAe,MAAf,GAAwB,CAAvC,EAA0C,CAA1C,KAAgD,eAAhD;AACD;;AAED,SAAS,WAAT,CAAqB,QAArB,EAA+B;AAC7B,MAAI,SAAS,IAAT,IAAiB,YAArB,EACE,SAAS,IAAT,GAAgB,kBAAkB,SAAS,IAA3C,CADF,KAEK,IAAI,SAAS,IAAT,IAAiB,MAArB,EACH,SAAS,IAAT,GAAgB,YAAY,SAAS,IAArC,CADG,KAEA,IAAI,SAAS,IAAT,IAAiB,WAArB,EACH,SAAS,KAAT,CAAe,SAAS,KAAT,CAAe,MAAf,GAAwB,CAAvC,EAA0C,CAA1C,KAAgD,cAAhD,CADG,KAEA,IAAI,SAAS,IAAT,IAAiB,MAArB,EACH,SAAS,KAAT,CAAe,SAAS,KAAT,CAAe,MAAf,GAAwB,CAAvC,EAA0C,CAA1C,KAAgD,MAAM,SAAtD;AACH;;AAED,SAAS,qBAAT,CAA+B,UAA/B,EAA2C,UAA3C,EAAuD;AACrD,OAAK,IAAI,IAAI,WAAW,MAAX,GAAoB,CAAjC,EAAoC,KAAK,CAAzC,EAA4C,GAA5C,EAAiD;AAC/C,QAAI,WAAW,WAAW,CAAX,CAAf;AACA,QAAI,aAAa,YAAY,SAAS,IAArB,CAAjB;AACA,QAAI,QAAJ;;AAEA,QAAI,SAAS,MAAb,EACE;;AAEF,QAAI,CAAC,SAAS,KAAV,IAAmB,CAAC,SAAS,SAA7B,IAA0C,CAAC,SAAS,IAAxD,EACE;;AAEF,QAAI,CAAC,UAAD,IAAe,UAAf,IAA6B,WAAW,SAA5C,EAAuD;AACrD,iBAAW,WAAW,OAAX,CAAmB,QAAnB,EAA6B,WAA7B,CAAX;AACA,eAAS,KAAT,GAAiB,QAAjB;AACD,KAHD,MAGO;AACL,iBAAW,SAAS,KAApB;AACD;;AAED,QAAI,SAAS,SAAb,EACE,iBAAiB,QAAjB;;AAEF,QAAI,SAAS,IAAb,EACE,YAAY,QAAZ;;AAEF,QAAI,EAAE,SAAS,QAAX,CAAJ,EACE;;AAEF,QAAI,UAAU,SAAS,GAAT,CAAa,SAAS,QAAtB,CAAd;AACA,YAAQ,CAAR,EAAW,CAAX,IAAgB,SAAS,IAAzB;;AAEA,YAAQ,MAAR,CAAe,CAAf,EAAkB,QAAQ,MAAR,GAAiB,CAAnC;AACA,UAAM,SAAN,CAAgB,IAAhB,CAAqB,KAArB,CAA2B,OAA3B,EAAoC,QAApC;AACD;AACF;;AAED,OAAO,OAAP,GAAiB,qBAAjB","file":"restore-from-optimizing-compiled.js","sourcesContent":["var compactable = require('./compactable');\n\nvar BACKSLASH_HACK = '\\\\9';\nvar IMPORTANT_TOKEN = '!important';\nvar STAR_HACK = '*';\nvar UNDERSCORE_HACK = '_';\nvar BANG_HACK = '!ie';\n\nfunction restoreImportant(property) {\n  property.value[property.value.length - 1][0] += IMPORTANT_TOKEN;\n}\n\nfunction restoreHack(property) {\n  if (property.hack == 'underscore')\n    property.name = UNDERSCORE_HACK + property.name;\n  else if (property.hack == 'star')\n    property.name = STAR_HACK + property.name;\n  else if (property.hack == 'backslash')\n    property.value[property.value.length - 1][0] += BACKSLASH_HACK;\n  else if (property.hack == 'bang')\n    property.value[property.value.length - 1][0] += ' ' + BANG_HACK;\n}\n\nfunction restoreFromOptimizing(properties, simpleMode) {\n  for (var i = properties.length - 1; i >= 0; i--) {\n    var property = properties[i];\n    var descriptor = compactable[property.name];\n    var restored;\n\n    if (property.unused)\n      continue;\n\n    if (!property.dirty && !property.important && !property.hack)\n      continue;\n\n    if (!simpleMode && descriptor && descriptor.shorthand) {\n      restored = descriptor.restore(property, compactable);\n      property.value = restored;\n    } else {\n      restored = property.value;\n    }\n\n    if (property.important)\n      restoreImportant(property);\n\n    if (property.hack)\n      restoreHack(property);\n\n    if (!('all' in property))\n      continue;\n\n    var current = property.all[property.position];\n    current[0][0] = property.name;\n\n    current.splice(1, current.length - 1);\n    Array.prototype.push.apply(current, restored);\n  }\n}\n\nmodule.exports = restoreFromOptimizing;\n"]}