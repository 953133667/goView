{"version":3,"sources":["compactable.js"],"names":[],"mappings":"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","file":"compactable-compiled.js","sourcesContent":["// Contains the interpretation of CSS properties, as used by the property optimizer\n\nvar breakUp = require('./break-up');\nvar canOverride = require('./can-override');\nvar restore = require('./restore');\n\n// Properties to process\n// Extend this object in order to add support for more properties in the optimizer.\n//\n// Each key in this object represents a CSS property and should be an object.\n// Such an object contains properties that describe how the represented CSS property should be handled.\n// Possible options:\n//\n// * components: array (Only specify for shorthand properties.)\n//   Contains the names of the granular properties this shorthand compacts.\n//\n// * canOverride: function (Default is canOverride.sameValue - meaning that they'll only be merged if they have the same value.)\n//   Returns whether two tokens of this property can be merged with each other.\n//   This property has no meaning for shorthands.\n//\n// * defaultValue: string\n//   Specifies the default value of the property according to the CSS standard.\n//   For shorthand, this is used when every component is set to its default value, therefore it should be the shortest possible default value of all the components.\n//\n// * shortestValue: string\n//   Specifies the shortest possible value the property can possibly have.\n//   (Falls back to defaultValue if unspecified.)\n//\n// * breakUp: function (Only specify for shorthand properties.)\n//   Breaks the shorthand up to its components.\n//\n// * restore: function (Only specify for shorthand properties.)\n//   Puts the shorthand together from its components.\n//\nvar compactable = {\n  'color': {\n    canOverride: canOverride.color,\n    defaultValue: 'transparent',\n    shortestValue: 'red'\n  },\n  'background': {\n    components: [\n      'background-image',\n      'background-position',\n      'background-size',\n      'background-repeat',\n      'background-attachment',\n      'background-origin',\n      'background-clip',\n      'background-color'\n    ],\n    breakUp: breakUp.multiplex(breakUp.background),\n    defaultValue: '0 0',\n    restore: restore.multiplex(restore.background),\n    shortestValue: '0',\n    shorthand: true\n  },\n  'background-clip': {\n    canOverride: canOverride.always,\n    defaultValue: 'border-box',\n    shortestValue: 'border-box'\n  },\n  'background-color': {\n    canOverride: canOverride.color,\n    defaultValue: 'transparent',\n    multiplexLastOnly: true,\n    nonMergeableValue: 'none',\n    shortestValue: 'red'\n  },\n  'background-image': {\n    canOverride: canOverride.backgroundImage,\n    defaultValue: 'none'\n  },\n  'background-origin': {\n    canOverride: canOverride.always,\n    defaultValue: 'padding-box',\n    shortestValue: 'border-box'\n  },\n  'background-repeat': {\n    canOverride: canOverride.always,\n    defaultValue: ['repeat'],\n    doubleValues: true\n  },\n  'background-position': {\n    canOverride: canOverride.alwaysButIntoFunction,\n    defaultValue: ['0', '0'],\n    doubleValues: true,\n    shortestValue: '0'\n  },\n  'background-size': {\n    canOverride: canOverride.alwaysButIntoFunction,\n    defaultValue: ['auto'],\n    doubleValues: true,\n    shortestValue: '0 0'\n  },\n  'background-attachment': {\n    canOverride: canOverride.always,\n    defaultValue: 'scroll'\n  },\n  'border': {\n    breakUp: breakUp.border,\n    canOverride: canOverride.border,\n    components: [\n      'border-width',\n      'border-style',\n      'border-color'\n    ],\n    defaultValue: 'none',\n    restore: restore.withoutDefaults,\n    shorthand: true\n  },\n  'border-color': {\n    canOverride: canOverride.color,\n    defaultValue: 'none',\n    shorthand: true\n  },\n  'border-style': {\n    canOverride: canOverride.always,\n    defaultValue: 'none',\n    shorthand: true\n  },\n  'border-width': {\n    canOverride: canOverride.unit,\n    defaultValue: 'medium',\n    shortestValue: '0',\n    shorthand: true\n  },\n  'list-style': {\n    components: [\n      'list-style-type',\n      'list-style-position',\n      'list-style-image'\n    ],\n    canOverride: canOverride.always,\n    breakUp: breakUp.listStyle,\n    restore: restore.withoutDefaults,\n    defaultValue: 'outside', // can't use 'disc' because that'd override default 'decimal' for <ol>\n    shortestValue: 'none',\n    shorthand: true\n  },\n  'list-style-type' : {\n    canOverride: canOverride.always,\n    defaultValue: '__hack',\n    // NOTE: we can't tell the real default value here, it's 'disc' for <ul> and 'decimal' for <ol>\n    //       -- this is a hack, but it doesn't matter because this value will be either overridden or it will disappear at the final step anyway\n    shortestValue: 'none'\n  },\n  'list-style-position' : {\n    canOverride: canOverride.always,\n    defaultValue: 'outside',\n    shortestValue: 'inside'\n  },\n  'list-style-image' : {\n    canOverride: canOverride.always,\n    defaultValue: 'none'\n  },\n  'outline': {\n    components: [\n      'outline-color',\n      'outline-style',\n      'outline-width'\n    ],\n    breakUp: breakUp.outline,\n    restore: restore.withoutDefaults,\n    defaultValue: '0',\n    shorthand: true\n  },\n  'outline-color': {\n    canOverride: canOverride.color,\n    defaultValue: 'invert',\n    shortestValue: 'red'\n  },\n  'outline-style': {\n    canOverride: canOverride.always,\n    defaultValue: 'none'\n  },\n  'outline-width': {\n    canOverride: canOverride.unit,\n    defaultValue: 'medium',\n    shortestValue: '0'\n  },\n  '-moz-transform': {\n    canOverride: canOverride.sameFunctionOrValue\n  },\n  '-ms-transform': {\n    canOverride: canOverride.sameFunctionOrValue\n  },\n  '-webkit-transform': {\n    canOverride: canOverride.sameFunctionOrValue\n  },\n  'transform': {\n    canOverride: canOverride.sameFunctionOrValue\n  }\n};\n\nvar addFourValueShorthand = function (prop, components, options) {\n  options = options || {};\n  compactable[prop] = {\n    canOverride: options.canOverride,\n    components: components,\n    breakUp: options.breakUp || breakUp.fourValues,\n    defaultValue: options.defaultValue || '0',\n    restore: options.restore || restore.fourValues,\n    shortestValue: options.shortestValue,\n    shorthand: true\n  };\n  for (var i = 0; i < components.length; i++) {\n    compactable[components[i]] = {\n      breakUp: options.breakUp || breakUp.fourValues,\n      canOverride: options.canOverride || canOverride.unit,\n      defaultValue: options.defaultValue || '0',\n      shortestValue: options.shortestValue\n    };\n  }\n};\n\n['', '-moz-', '-o-', '-webkit-'].forEach(function (prefix) {\n  addFourValueShorthand(prefix + 'border-radius', [\n    prefix + 'border-top-left-radius',\n    prefix + 'border-top-right-radius',\n    prefix + 'border-bottom-right-radius',\n    prefix + 'border-bottom-left-radius'\n  ], {\n    breakUp: breakUp.borderRadius,\n    restore: restore.borderRadius\n  });\n});\n\naddFourValueShorthand('border-color', [\n  'border-top-color',\n  'border-right-color',\n  'border-bottom-color',\n  'border-left-color'\n], {\n  breakUp: breakUp.fourValues,\n  canOverride: canOverride.color,\n  defaultValue: 'none',\n  shortestValue: 'red'\n});\n\naddFourValueShorthand('border-style', [\n  'border-top-style',\n  'border-right-style',\n  'border-bottom-style',\n  'border-left-style'\n], {\n  breakUp: breakUp.fourValues,\n  canOverride: canOverride.always,\n  defaultValue: 'none'\n});\n\naddFourValueShorthand('border-width', [\n  'border-top-width',\n  'border-right-width',\n  'border-bottom-width',\n  'border-left-width'\n], {\n  defaultValue: 'medium',\n  shortestValue: '0'\n});\n\naddFourValueShorthand('padding', [\n  'padding-top',\n  'padding-right',\n  'padding-bottom',\n  'padding-left'\n]);\n\naddFourValueShorthand('margin', [\n  'margin-top',\n  'margin-right',\n  'margin-bottom',\n  'margin-left'\n]);\n\n// Adds `componentOf` field to all longhands\nfor (var property in compactable) {\n  if (compactable[property].shorthand) {\n    for (var i = 0, l = compactable[property].components.length; i < l; i++) {\n      compactable[compactable[property].components[i]].componentOf = property;\n    }\n  }\n}\n\nmodule.exports = compactable;\n"]}